
<!--
    This is the html page that accompanies the javascript file where the logic resides for user requests for a list of ustad mobile packages available. The user is then able to select and fetch all the files such that it will be available Over The Air on the device.
-->

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
    <title>Ustad Mobile Course Download</title>
    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
	<script src="js/jquery-1.9.1.min.js" type='text/javascript'></script>
	<script src="js/ustadmobile.js" type='text/javascript'></script>
    <script src="jqm/jquery.mobile-1.3.2.js" type='text/javascript'></script>
	<script src="js/ustadmobile-base64-values.js" type='text/javascript'></script>
	<script src="js/ustadmobile-base64tofile.js" type='text/javascript'></script>

	<!--<script src="js/jquery.mobile-1.3.2.min.js" type='text/javascript'></script>-->
    <script type="text/javascript" src="js/ustadmobile-getpackages.js"></script>
	
	<link rel='stylesheet' href='css/qunit-1.12.0.css' type='text/css'/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel='stylesheet' href='jqm/jquery.mobile-1.3.2.css' type='text/css'/>
<script type='text/javascript'>
      
        //cowsdung = $("#cowdung").val();
        $("#cowdung").change(function(){
                                        cowsdung = $(this).val();
                                        console.log("Cow set is: " + cowsdung);
                                        }
                                      );
    $(document).ready(function(){
    console.log("Document ready..Doing ajax..");
      $.ajax({
            type:"GET",
            url:"http://127.0.0.1:8000/getcourse/?id=3",
            //url:"http://www.google.com",
            dataType:"text",
            success: function(data, textStatus, jqxhr){
				alert("Checking course a success with code:" + jqxhr.status);
				
				},
			complete: function (jqxhr, txt_status) {
				alert("Ajax call completed to server. Status: " + jqxhr.status);
				},
			error: function (jqxhr,b,c){
				alert("Couldn't complete request. Status:" + jqxhr.status);
				},
			statusCode: {
				200: function(){
					alert("Status code: 200");
					},
				0: function(){
					alert("Status code 0, unable to connect to server or no internet/intranet access");
						}
				}
            });
        });
    </script>
    </head>
  <body>
	<br></br>
    <div data-role="header" data-position="fixed">
    <p style="background-image:url('res/umres/banne1.png'); background-repeat:repeat-x;margin-top:-8px;" >.</p>   
    <h3><span id="getcoursestitletext" class="exeTranslated" data-exe-translation="Get Courses">Get CoursesF</span></h3>
    </div>
    <p>Download public Ustad Mobile courses</p>
    <div data-role="listview" id="packageList2">
        <ul data-role="listview" data-inset="true" data-filter="true" id="packageList">
		<br></br>
        </ul>
    </div>
    
    <div style="margin-top:20px;">
        <input onclick='listPackagesFromServer()' type="button" id="listPackage"  name="listPackage" class="exeTranslated2" data-exe-translation-attr = "value" value="List courses"/>
        <p><i>You will need your device connected to the internet / network to get Courses from Ustad Mobile public library</i></p>
        <!--<input type="text" name="cowdung" id="cowdung" value="/sdcard/external_sd/BigBoobies3.xml"  />-->
		<!--<input onclick='listPackagesFromServer2()' type="button" id="listPackage"  name="listPackage" value="Test function call"/>-->
		<div data-role="footer" data-position="fixed" style="text-align: center;" data-tap-toggle="false"> 
			<a style="text-align: center;" data-rel="back" data-direction="reverse" data-icon="ui-btn-left" data-theme="a"><span id="gobackfootertext" class="exeTranslated" data-exe-translation="Go back">Go backF</span></a>
		</div>
		<!-- onclick="exeLastPageOpen()" data-rel="back"-->
    </div>
  
  </body>
</html>
