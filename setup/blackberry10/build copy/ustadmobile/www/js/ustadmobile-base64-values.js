//This file is generated by makeb64vars.sh
var ustadmobilejs = ["LyoKPCEtLSBUaGlzIGZpbGUgaXMgcGFydCBvZiBVc3RhZCBNb2JpbGUuICAKICAgIAogICAgVXN0YWQgTW9iaWxlIENvcHlyaWdodCAoQykgMjAxMS0yMDEzIFRvdWdocmEgVGVjaG5vbG9naWVzIEZaIExMQy4KCiAgICBVc3RhZCBNb2JpbGUgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQogICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uIHdpdGggdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIHRlcm1zOgogICAgCiAgICBBbGwgbmFtZXMsIGxpbmtzLCBhbmQgbG9nb3Mgb2YgVXN0YWQgTW9iaWxlIGFuZCBUb3VnaHJhIFRlY2hub2xvZ2llcyBGWiAKICAgIExMQyBtdXN0IGJlIGtlcHQgYXMgdGhleSBhcmUgaW4gdGhlIG9yaWdpbmFsIGRpc3RyaWJ1dGlvbi4gIElmIGFueSBuZXcKICAgIHNjcmVlbnMgYXJlIGFkZGVkIHlvdSBtdXN0IGluY2x1ZGUgdGhlIFVzdGFkIE1vYmlsZSBsb2dvIGFzIGl0IGhhcyBiZWVuCiAgICB1c2VkIGluIHRoZSBvcmlnaW5hbCBkaXN0cmlidXRpb24uICBZb3UgbWF5IG5vdCBjcmVhdGUgYW55IG5ldyAKICAgIGZ1bmN0aW9uYWxpdHkgd2hvc2UgcHVycG9zZSBpcyB0byBkaW1pbmlzaCBvciByZW1vdmUgdGhlIFVzdGFkIE1vYmlsZSAKICAgIExvZ28uICBZb3UgbXVzdCBsZWF2ZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgdGhlIGxvZ28gZm9yIHRoZSAKICAgIGFwcGxpY2F0aW9uIHRvIGJlIHVzZWQgd2l0aCBhbnkgbGF1bmNoZXIgKGUuZy4gdGhlIG1vYmlsZSBhcHAgbGF1bmNoZXIpLiAgCiAgICAKICAgIElmIHlvdSB3YW50IGEgY29tbWVyY2lhbCBsaWNlbnNlIHRvIHJlbW92ZSB0aGUgYWJvdmUgcmVzdHJpY3Rpb24geW91IG11c3QKICAgIGNvbnRhY3QgdXMuICAKICAgIAogICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKICAgIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoKICAgIFVzdGFkIE1vYmlsZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAogICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgoKCgpUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZS4gIEl0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBHTlUgR0VORVJBTCBQVUJMSUMgTElDRU5TRSAoIGh0dHA6Ly93d3cuZ251Lm9yZy9jb3B5bGVmdC9ncGwuaHRtbCApIHdpdGggdGhlIGZvbGxvd2luZyAKCkdQTCBMaWNlbnNlIEFkZGl0aW9uYWwgVGVybXMKCkFsbCBuYW1lcywgbGlua3MsIGFuZCBsb2dvcyBvZiBVc3RhZCBNb2JpbGUgYW5kIFRvdWdocmEgVGVjaG5vbG9naWVzIEZaIExMQyBtdXN0IGJlIGtlcHQgYXMgdGhleSBhcmUgaW4gdGhlIG9yaWdpbmFsIGRpc3RyaWJ1dGlvbi4gIElmIGFueSBuZXcgc2NyZWVucyBhcmUgYWRkZWQgeW91IG11c3QgaW5jbHVkZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgaXQgaGFzIGJlZW4gdXNlZCBpbiB0aGUgb3JpZ2luYWwgZGlzdHJpYnV0aW9uLiAgWW91IG1heSBub3QgY3JlYXRlIGFueSBuZXcgZnVuY3Rpb25hbGl0eSB3aG9zZSBwdXJwb3NlIGlzIHRvIGRpbWluaXNoIG9yIHJlbW92ZSB0aGUgVXN0YWQgTW9iaWxlIExvZ28uICBZb3UgbXVzdCBsZWF2ZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgdGhlIGxvZ28gZm9yIHRoZSBhcHBsaWNhdGlvbiB0byBiZSB1c2VkIHdpdGggYW55IGxhdW5jaGVyIChlLmcuIHRoZSBtb2JpbGUgYXBwIGxhdW5jaGVyKS4gIAoKSWYgeW91IG5lZWQgYSBjb21tZXJjaWFsIGxpY2Vuc2UgdG8gcmVtb3ZlIHRoZXNlIHJlc3RyaWN0aW9ucyBwbGVhc2UgY29udGFjdCB1cyBieSBlbWFpbGluZyBpbmZvQHVzdGFkbW9iaWxlLmNvbSAKCi0tPgoKKi8KCi8qIAoKVGhpcyBqYXZhc2NyaXB0IGNyZWF0ZXMgdGhlIGhlYWRlciBhbmQgZm9vdGVyIG9mIHVzdGFkIG1vYmlsZSBjb250ZW50IGluIHBhY2thZ2VzIGFuZCBkb2VzIGEgbG90IG9mIGdsb2JhbCBhY3Rpb25zIHZpYSB0aGUgZnVuY3Rpb25zIChlc3AgTWVudSBMaW5rcykuCgoqLwoKLy9Gb3IgalF1ZXJ5IG1vYmlsZSBhbmQgQ29yZG92YS9QaG9uZUdhcCBmcmFtZXdvcmsgY29uZmlndXJhdGlvbnMuCiQoIGRvY3VtZW50ICkuYmluZCggIm1vYmlsZWluaXQiLCBmdW5jdGlvbigpIHsKICAgIC8vIE1ha2UgeW91ciBqUXVlcnkgTW9iaWxlIGZyYW1ld29yayBjb25maWd1cmF0aW9uIGNoYW5nZXMgaGVyZSEKICAgICQubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyA9IHRydWU7CiAgICAkLnN1cHBvcnQuY29ycyA9IHRydWU7Cgljb25zb2xlLmxvZygiTW9iaWxlaW5pdCBjaGFuZ2VzIHNldCBmb3IgalF1ZXJ5IG1vYmlsZSBmb3IgUGhvbmVHYXAiKTsKCn0pOyAvL2FzIHBlciBqUXVlcnkncyBkb2N1bWVudGF0aW9uIGFuZCBDb3Jkb3ZhL1Bob25lZ2FwCgovL1NldCB0byAxIGZvciBEZWJ1ZyBtb2RlLCBvdGhlcndpc2UgMCAod2lsbCBzaWxlbmNlIGNvbnNvbGUubG9nIG1lc3NhZ2VzKQp2YXIgVVNUQURERUJVR01PREUgPSAxOwoKLyoKT3V0cHV0IG1zZyB0byBjb25zb2xlLmxvZyBpZiBpbiBkZWJ1ZyBtb2RlCiovCmZ1bmN0aW9uIGRlYnVnTG9nKG1zZykgewogICAgaWYoVVNUQURERUJVR01PREUgPT0gMSkgewogICAgICAgIGNvbnNvbGUubG9nKG1zZyk7CiAgICB9Cn0KCnZhciBjdXJyZW50VXJsID0gZG9jdW1lbnQuVVJMOyAKZGVidWdMb2coIlVzdGFkIE1vYmlsZTogQ3VycmVudCBMb2NhdGlvbjogIiArIGN1cnJlbnRVcmwpOyAvL0ZvciB0ZXN0aW5nIHB1cnBvc2VzLgogCi8vdXNlZnVsIHRvIGdldCBUT0MgbGluayBmcm9tIE1lbnUgUGFnZSB0cmlnZ2VyZWQgaW4gQ29udGVudC4KdmFyIHBsYXRmb3JtPSIiOwp2YXIgdXNlckFnZW50PW5hdmlnYXRvci51c2VyQWdlbnQ7IC8vVXNlciBhZ2VudApjb25zb2xlLmxvZygiVXNlciBhZ2VudCBpczogIiArIHVzZXJBZ2VudCk7Ci8vYWxlcnQoIkJCVEVTVDogVXNlciBBZ2VudDogIiArIHVzZXJBZ2VudCk7CnZhciB1c2VyQWdlbnRQYXJ0cyA9IHVzZXJBZ2VudC5zcGxpdCgiOyIpOwp2YXIgdXNlckFnZW50UGxhdGZvcm0gPSB1c2VyQWdlbnRQYXJ0c1syXTsgLy8gR2V0cyB0aGUgcGxhdGZvcm0KaWYgKHR5cGVvZiB1c2VyQWdlbnRQbGF0Zm9ybSA9PT0gJ3VuZGVmaW5lZCcpewkvL1Bvc3NpYmlsaXR5IG9mIEJsYWNrYmVycnkKICAgIHVzZXJBZ2VudFBsYXRmb3JtID0gdXNlckFnZW50UGFydHNbMF07CiAgICBpZih1c2VyQWdlbnRQbGF0Zm9ybS5pbmRleE9mKCJCQjEwIikgIT09IC0xKSB7CiAgICAgICAgY29uc29sZS5sb2coIllvdSBhcmUgdXNpbmcgQmxhY2tiZXJyeSAxMCIpOwogICAgfWVsc2UgewogICAgICAgIHVzZXJBZ2VudFBsYXRmb3JtID0gdXNlckFnZW50UGFydHNbMV07CiAgICAgICAgaWYodXNlckFnZW50UGxhdGZvcm0uaW5kZXhPZigiU2FmYXJpIikgIT09IC0xKSB7ICAvLyBQb3NzaWJpbGl0eSBvZiBpT1MuCiAgICAgICAgICAgIGRlYnVnTG9nKCJVc3RhZCBNb2JpbGU6IFlPVSBBUkUgVVNJTkcgaU9TIik7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJVbmFibGUgdG8gZGV0ZWN0IHlvdXIgZGV2aWNlLiIpOwogICAgICAgICAgICBhbGVydCgiVW5hYmxlIHRvIGRldGVjdCB5b3VyIGRldmljZS4iKTsKICAgICAgICB9CiAgICB9Cn1lbHNlewogICAgY29uc29sZS5sb2coIllvdXIgZGV2aWNlIGNhbm5vdCBiZSByZWNvZ25pc2VkIGJ5IFVzYXRhZCBNb2JpbGUuIik7CiAgICBhbGVydCgiVW5hYmxlIHRvIGRldGVjdCB5b3VyIGRldmljZS4iKTsKfQpkZWJ1Z0xvZygiVXNlciBBZ2VudCBQbGF0Zm9ybSBpczogIiArIHVzZXJBZ2VudFBsYXRmb3JtKTsKCmlmKHVzZXJBZ2VudFBsYXRmb3JtLmluZGV4T2YoIkFuZHJvaWQiKSAhPT0gLTEpIHsgLy8gaWYgc3RyaW5nIGNvbnRhaW5zIEFuZHJvaWQKICAgIGRlYnVnTG9nKCJVc3RhZCBNb2JpbGU6IFlPVSBBUkUgVVNJTkcgQU5EUk9JRCEiKTsKICAgIHBsYXRmb3JtPSJhbmRyb2lkIjsKfWVsc2UgaWYodXNlckFnZW50UGxhdGZvcm0uaW5kZXhPZigiV2luZG93cyBQaG9uZSBPUyA3LjAiKSAhPT0gLTEpIHsKICAgIGRlYnVnTG9nKCJVc3RhZCBNb2JpbGU6IFlPVSBBUkUgVVNJTkcgV0lORE9XUyBQSE9ORSA3ISIpOwogICAgcGxhdGZvcm09IndwNyI7Cn1lbHNlIGlmKHVzZXJBZ2VudFBsYXRmb3JtLmluZGV4T2YoIldpbmRvd3MgUGhvbmUgT1MgNy41IikgIT09IC0xKSB7CiAgICBkZWJ1Z0xvZygiVXN0YWQgTW9iaWxlOiBZT1UgQVJFIFVTSU5HIFdJTkRPV1MgUEhPTkUgNy41ISIpOwogICAgcGxhdGZvcm09IndwNy41IjsKfWVsc2UgaWYodXNlckFnZW50UGxhdGZvcm0uaW5kZXhPZigiV2luZG93cyBQaG9uZSBPUyA4LjAiKSAhPT0gLTEpIHsKICAgIGRlYnVnTG9nKCJVc3RhZCBNb2JpbGU6IFlPVSBBUkUgVVNJTkcgV0lORE9XUyBQSE9ORSA4ISIpOwogICAgcGxhdGZvcm09IndwOCI7Cn1lbHNlIGlmKHVzZXJBZ2VudFBsYXRmb3JtLmluZGV4T2YoIlNhZmFyaSIpICE9PSAtMSkgewogICAgZGVidWdMb2coIlVzdGFkIE1vYmlsZTogWU9VIEFSRSBVU0lORyBpT1MiKTsKICAgIHBsYXRmb3JtPSJpb3MiOwp9ZWxzZSBpZih1c2VyQWdlbnRQbGF0Zm9ybS5pbmRleE9mKCJCQjEwIikgIT09IC0xKSB7CiAgICBkZWJ1Z0xvZygiVXN0YWQgTW9iaWxlOiBZT1UgQVJFIFVTSU5HIEJsYWNrQmVycnkgMTAiKTsKICAgIHBsYXRmb3JtPSJiYjEwIjsKICAgIC8vYWxlcnQoIllvdXIgcGxhdGZvcm0gaXMgQmxhY2tiZXJyeSAxMDogIiArIHBsYXRmb3JtKTsKfQoKCmZ1bmN0aW9uIGdldFBsYXRmb3JtKCl7CiAgICAKICAgIHZhciBwbGF0Zm9ybT0iIjsKICAgIHZhciB1c2VyQWdlbnQ9bmF2aWdhdG9yLnVzZXJBZ2VudDsgLy9Vc2VyIGFnZW50CiAgICBjb25zb2xlLmxvZygiVXNlciBhZ2VudCBpczogIiArIHVzZXJBZ2VudCk7CiAgICAvL2FsZXJ0KCJCQlRFU1Q6IFVzZXIgQWdlbnQ6ICIgKyB1c2VyQWdlbnQpOwogICAgdmFyIHVzZXJBZ2VudFBhcnRzID0gdXNlckFnZW50LnNwbGl0KCI7Iik7CiAgICB2YXIgdXNlckFnZW50UGxhdGZvcm0gPSB1c2VyQWdlbnRQYXJ0c1syXTsgLy8gR2V0cyB0aGUgcGxhdGZvcm0KICAgIGlmICh0eXBlb2YgdXNlckFnZW50UGxhdGZvcm0gPT09ICd1bmRlZmluZWQnKXsJLy9Qb3NzaWJpbGl0eSBvZiBCbGFja2JlcnJ5CiAgICAgICAgdXNlckFnZW50UGxhdGZvcm0gPSB1c2VyQWdlbnRQYXJ0c1swXTsKICAgICAgICBpZih1c2VyQWdlbnRQbGF0Zm9ybS5pbmRleE9mKCJCQjEwIikgIT09IC0xKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJZb3UgYXJlIHVzaW5nIEJsYWNrYmVycnkgMTAiKTsKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgIHVzZXJBZ2VudFBsYXRmb3JtID0gdXNlckFnZW50UGFydHNbMV07CiAgICAgICAgICAgIGlmKHVzZXJBZ2VudFBsYXRmb3JtLmluZGV4T2YoIlNhZmFyaSIpICE9PSAtMSkgeyAgLy8gUG9zc2liaWxpdHkgb2YgaU9TLgogICAgICAgICAgICAgICAgZGVidWdMb2coIlVzdGFkIE1vYmlsZTogWU9VIEFSRSBVU0lORyBpT1MiKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiVW5hYmxlIHRvIGRldGVjdCB5b3VyIGRldmljZS4iKTsKICAgICAgICAgICAgICAgIGFsZXJ0KCJVbmFibGUgdG8gZGV0ZWN0IHlvdXIgZGV2aWNlLiIpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfWVsc2V7CiAgICAgICAgY29uc29sZS5sb2coIllvdXIgZGV2aWNlIGNhbm5vdCBiZSByZWNvZ25pc2VkIGJ5IFVzYXRhZCBNb2JpbGUuIik7CiAgICAgICAgYWxlcnQoIlVuYWJsZSB0byBkZXRlY3QgeW91ciBkZXZpY2UuIik7CiAgICB9CiAgICBkZWJ1Z0xvZygiVXNlciBBZ2VudCBQbGF0Zm9ybSBpczogIiArIHVzZXJBZ2VudFBsYXRmb3JtKTsKICAgIAogICAgaWYodXNlckFnZW50UGxhdGZvcm0uaW5kZXhPZigiQW5kcm9pZCIpICE9PSAtMSkgeyAvLyBpZiBzdHJpbmcgY29udGFpbnMgQW5kcm9pZAogICAgICAgIGRlYnVnTG9nKCJVc3RhZCBNb2JpbGU6IFlPVSBBUkUgVVNJTkcgQU5EUk9JRCEiKTsKICAgICAgICBwbGF0Zm9ybT0iYW5kcm9pZCI7CiAgICB9ZWxzZSBpZih1c2VyQWdlbnRQbGF0Zm9ybS5pbmRleE9mKCJXaW5kb3dzIFBob25lIE9TIDcuMCIpICE9PSAtMSkgewogICAgICAgIGRlYnVnTG9nKCJVc3RhZCBNb2JpbGU6IFlPVSBBUkUgVVNJTkcgV0lORE9XUyBQSE9ORSA3ISIpOwogICAgICAgIHBsYXRmb3JtPSJ3cDciOwogICAgfWVsc2UgaWYodXNlckFnZW50UGxhdGZvcm0uaW5kZXhPZigiV2luZG93cyBQaG9uZSBPUyA3LjUiKSAhPT0gLTEpIHsKICAgICAgICBkZWJ1Z0xvZygiVXN0YWQgTW9iaWxlOiBZT1UgQVJFIFVTSU5HIFdJTkRPV1MgUEhPTkUgNy41ISIpOwogICAgICAgIHBsYXRmb3JtPSJ3cDcuNSI7CiAgICB9ZWxzZSBpZih1c2VyQWdlbnRQbGF0Zm9ybS5pbmRleE9mKCJXaW5kb3dzIFBob25lIE9TIDguMCIpICE9PSAtMSkgewogICAgICAgIGRlYnVnTG9nKCJVc3RhZCBNb2JpbGU6IFlPVSBBUkUgVVNJTkcgV0lORE9XUyBQSE9ORSA4ISIpOwogICAgICAgIHBsYXRmb3JtPSJ3cDgiOwogICAgfWVsc2UgaWYodXNlckFnZW50UGxhdGZvcm0uaW5kZXhPZigiU2FmYXJpIikgIT09IC0xKSB7CiAgICAgICAgZGVidWdMb2coIlVzdGFkIE1vYmlsZTogWU9VIEFSRSBVU0lORyBpT1MiKTsKICAgICAgICBwbGF0Zm9ybT0iaW9zIjsKICAgIH1lbHNlIGlmKHVzZXJBZ2VudFBsYXRmb3JtLmluZGV4T2YoIkJCMTAiKSAhPT0gLTEpIHsKICAgICAgICBkZWJ1Z0xvZygiVXN0YWQgTW9iaWxlOiBZT1UgQVJFIFVTSU5HIEJsYWNrQmVycnkgMTAiKTsKICAgICAgICBwbGF0Zm9ybT0iYmIxMCI7CiAgICAgICAgLy9hbGVydCgiWW91ciBwbGF0Zm9ybSBpcyBCbGFja2JlcnJ5IDEwOiAiICsgcGxhdGZvcm0pOwogICAgfQoKfQoKLy9Db3Jkb3ZhIGRldmljZSByZWFkeSBldmVudCBoYW5kbGVyCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImRldmljZXJlYWR5Iiwgb25BcHBEZXZpY2VSZWFkeSwgZmFsc2UpOwoKLy9HbG9iYWwgdmFyaWFibGUgc2V0IGluIHNjcm9sbCBsb2dpbi4gQ2FuIGJlIGRpc2FibGVkIGZyb20gdGhlIENvbnRlbnQgKCExKSB0byBkaXNhYmxlIHNjcm9sbC4KdmFyIHNjcm9sbEVuYWJsZWQgPSAxOwpjb25zb2xlLmxvZygiSW4gdXN0YWRtb2JpbGUuanMgOiBjb250ZW50IHRlc3QiKTsKCgovKgogVGhlcmUgaXMgYW4gaXNzdWUgd2l0aCB0aGUgY2xvemUgYmVjYXVzZSBlWGUgc2V0cyB0aGUgd2lkdGgKIGFjY29yZGluZyB0byB0aGUgbnVtYmVyIG9mIGxldHRlcnM7IGpRdWVyeSBtb2JpbGUgd2FudHMgdG8gCiBtYWtlIHRoaXMgdGhlIHdpZHRoIG9mIHRoZSBzY3JlZW4uICBUaGF0IHJlc3VsdHMgaW4gd2hhdAogbG9va3MgbGlrZSBhIHRleHQgYm94IGJ1dCBvbmx5IGEgc21hbGwgcGFydCBiZWluZyBzZWxlY3RhYmxlLgoqLwpmdW5jdGlvbiBzZXR1cENsb3plV2lkdGgoKSB7CiAgICAkKCIuQ2xvemVJZGV2aWNlIGlucHV0W3R5cGU9dGV4dF0iKS5jc3MoIndpZHRoIiwgIiIpOwp9CgokKGRvY3VtZW50KS5vbigicGFnZWJlZm9yZWNyZWF0ZSIsIGZ1bmN0aW9uKGV2ZW50LCB1aSkgeyAvL3BhZ2Vpbml0IGdldHMgdHJpZ2dlcmVkIHdoZW4gYXBwIHN0YXJ0LgogICAgY29uc29sZS5sb2coIkluIHBhZ2ViZWZvcmVjcmVhdGUiKTsKICAgIGlmKHR5cGVvZihvbkxhbmd1YWdlRGV2aWNlUmVhZHkpID09ICJmdW5jdGlvbiIgKXsKICAgICAgICBvbkxhbmd1YWdlRGV2aWNlUmVhZHkoKTsKICAgIH1lbHNleyAvLyBtZWFuaW5nIGl0IGlzIGluIENvbnRlbnQuLgogICAgICAgIGNhbGxPbkxhbmd1YWdlRGV2aWNlUmVhZHkoKTsKICAgIH0KfSk7CgpmdW5jdGlvbiBjYWxsT25MYW5ndWFnZURldmljZVJlYWR5KCl7CiAgICBpZihuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlNhZmFyaSIpICE9PSAtMSAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkJCMTAiKSA9PSAtMSl7CiAgICAgICAgcGxhdGZvcm0gPSAiaW9zIjsKICAgICAgICBkZWJ1Z2xvZygiWW8sIGlvcyBkZXRlY3RlZCBvbiBjYWxsT25MYW5ndWFnZURldmljZVJlYWR5KCkiKTsKICAgICAgICBvbkxhbmd1YWdlQ29udGVudFJlYWR5KCk7CiAgICB9ZWxzZSBpZihuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkFuZHJvaWQiKSAhPT0gLTEpewogICAgICAgIHBsYXRmb3JtID0gImFuZHJvaWQiOwogICAgICAgIG9uTGFuZ3VhZ2VDb250ZW50UmVhZHkoKTsKICAgIH1lbHNlIGlmKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiV2luZG93cyBQaG9uZSBPUyA3LjAiKSAhPT0gLTEpewogICAgICAgIHBsYXRmb3JtID0gIndwNyI7CiAgICAgICAgb25MYW5ndWFnZUNvbnRlbnRSZWFkeSgpOwogICAgfWVsc2UgaWYobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJXaW5kb3dzIFBob25lIE9TIDcuNSIpICE9PSAtMSl7CiAgICAgICAgcGxhdGZvcm0gPSAid3A3LjUiOwogICAgICAgIG9uTGFuZ3VhZ2VDb250ZW50UmVhZHkoKTsKICAgIH1lbHNlIGlmKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiV2luZG93cyBQaG9uZSBPUyA4LjAiKSAhPT0gLTEpewogICAgICAgIHBsYXRmb3JtID0gIndwOCI7CiAgICAgICAgb25MYW5ndWFnZUNvbnRlbnRSZWFkeSgpOwogICAgfWVsc2UgaWYobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJCQjEwIikgIT09IC0xKXsKICAgICAgICBwbGF0Zm9ybSA9ICJiYjEwIjsKICAgICAgICBhbGVydCgiQmxhY2tiZXJyeSBkZXRlY3RlZCBpbiBjYWxsT25MYW5ndWFnZURldmljZVJlYWR5KCkiKTsKICAgICAgICBvbkxhbmd1YWdlQ29udGVudFJlYWR5KCk7CiAgICB9ZWxzZXsKICAgICAgICBhbGVydCgiQ291bGQgbm90IHZlcmlmeSB5b3VyIGRldmljZSBvciBwbGF0Zm9ybS4gWW91ciBkZXZpY2UgaXNuJ3QgdGVzdGVkIHdpdGggb3VyIGRldmVsb3BlcnMuIEVycm9yLiBDb250YWN0IGFuIHVzdGFkIG1vYmlsZSBkZXZlbG9wZXIuIik7CiAgICB9CiAgICAKfQoKCmZ1bmN0aW9uIG9uTGFuZ3VhZ2VDb250ZW50UmVhZHkoKXsKICAgIGNvbnNvbGUubG9nKCIqKioqKioqKioqKioqKioqKioqKioqKioqKioqKklOIE9OTEFOR1VBR0VDT05URU5UUkVBRFkoKSEhKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiIpOwogICAgaWYgKCF1c3RhZGxvY2FsZWxhbmcpewogICAgICAgIHVzdGFkbG9jYWxlbGFuZyA9ICJkZWZhdWx0IjsKICAgIH0KCiAgICBjb25zb2xlLmxvZygiQXBwIHNldCBsYW5ndWFnZSBpczogIiArIHVzdGFkbG9jYWxlbGFuZyApOwogICAgdmFyIGZpbGV0eXBlID0gImpzIjsKICAgICBpZiAodXN0YWRsb2NhbGVsYW5nICE9IG51bGwgJiYgZmlsZXR5cGU9PSJqcyIpeyAvL2lmIGZpbGVuYW1lIGlzIGEgZXh0ZXJuYWwgSmF2YVNjcmlwdCBmaWxlICAgIAoKICAgICAgICBpZiAocGxhdGZvcm0gPT0gImFuZHJvaWQiKXsKICAgICAgICB2YXIgYmFzZVVSTCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJiYXNlVVJMIik7CiAgICAgICAgYmFzZVVSTCA9ICIvYW5kcm9pZF9hc3NldC93d3ciOwogICAgICAgIH1lbHNlIGlmKHBsYXRmb3JtID09ICJ3cDgiKXsKICAgICAgICB2YXIgYmFzZVVSTCA9ICIvd3d3IjsKICAgICAgICB9ZWxzZSBpZihwbGF0Zm9ybSA9PSAiaW9zIil7CiAgICAgICAgICAgIHZhciBiYXNlVVJMID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImJhc2VVUkwiKTsKICAgICAgICB9ZWxzZSBpZihwbGF0Zm9ybSA9PSAiYmIxMCIpewogICAgICAgICAgICB2YXIgYmFzZVVSTCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJiYXNlVVJMIik7CiAgICAgICAgICAgIGFsZXJ0KCJCQjEwVEVTVDogYmFzZVVybDogIiArIGJhc2VVUkwpOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBjb25zb2xlLmxvZygiVW5hYmxlIHRvIHZlcmlmeSB5b3VyIGRldmljZSBvciBwbGF0Zm9ybS4gRXJyb3IuIik7CiAgICAgICAgICAgIGFsZXJ0KCJZb3VyIGRldmljZS9wbGF0Zm9ybSBpc24ndCByZWNnbml6ZWQgYnkgdGhpcyBkZXZpY2UuIFNvIHRoZXJlIHdpbGwvbWlnaHQgYmUgZXJyb3JzLiBDb250YWN0IGFuIFVzdGFkIE1vYmlsZSBEZXZlbG9wZXIuIik7CiAgICAgICAgfQogICAgICAgICAvL2Vsc2UsIHBsYXRmb3JtIG5vdCBzZXQgeWV0LgogICAgICAgIC8vYmFja3VwZmlsZW5hbWUgPSBiYXNlVVJMICsgIi8iICsgImVuLmpzIjsKICAgICAgZmlsZW5hbWUgPSBiYXNlVVJMICsgIi9sb2NhbGUvIiArIHVzdGFkbG9jYWxlbGFuZyArICIuanMiOyAgICAgIAogICAgICBjb25zb2xlLmxvZygiTG9hZGluZyBsYW5ndWFnZSBqczogIiArIGZpbGVuYW1lICsgIiBpbiBjb3Vyc2UgKGR5bmFtaWNhbGx5KS4uIik7CiAgICAgICAgIGFsZXJ0KCJCQjEwVEVTVDogTG9hZGluZyBsYW5ndWFnZSBqczogIiArIGZpbGVuYW1lICsgIiBpbiBjb3Vyc2UgKGR5bmFtaWNhbGx5KS4uIik7CiAgICAgICAgLy8kKCdoZWFkJykuYXBwZW5kKCQoJzxzY3JpcHQ+JykuYXR0cigndHlwZScsICd0ZXh0L2phdmFzY3JpcHQnKS5hdHRyKCdzcmMnLCBiYWNrdXBmaWxlbmFtZSkpOwogICAgICAkKCdoZWFkJykuYXBwZW5kKCQoJzxzY3JpcHQ+JykuYXR0cigndHlwZScsICd0ZXh0L2phdmFzY3JpcHQnKS5hdHRyKCdzcmMnLCBmaWxlbmFtZSkpOwogICAgIH0KICAgIGNvbnNvbGUubG9nKCIgQ29udGVudCBsYW5ndWFnZSBqYXZhc2NyaXB0OiAiICsgZmlsZW5hbWUgKyAiLmpzIExvYWRpbmcgZG9uZS4iKTsKICAgIGxvY2FsaXplUGFnZSgpOwp9CgoKJChkb2N1bWVudCkub24oInBhZ2Vsb2FkIiwgZnVuY3Rpb24oZXZlbnQsIHVpKSB7IC8vcGFnZUxvYWQgb25seSBnZXRzIHRyaWdnZXJlZCB3aGVuIHdlIGRvIGEgbW9iaWxlLmNoYW5nZVBhZ2UoKSBmcm9tIHdpdGhpbiB0aGUgY29kZS4gTm90IHdoZW4gdGhlIGFwcCBzdGFydHMuCiAgICBjb25zb2xlLmxvZygiSW4gcGFnZWxvYWQiKTsKfSk7CgokKGRvY3VtZW50KS5vbigicGFnZWluaXQiLCBmdW5jdGlvbihldmVudCwgdWkpIHsgLy9wYWdlaW5pdCBnZXRzIHRyaWdnZXJlZCB3aGVuIGFwcCBzdGFydC4KICAgIGNvbnNvbGUubG9nKCJJbiBwYWdlaW5pdCIpOwogICAgLy9vbkxhbmd1YWdlRGV2aWNlUmVhZHkoKTsgLy9TZXQgLyBDaGVjayB0aGUgbGFuZ3VhZ2UgZmlyc3QuIC8vQ29tbWVudGVkIG91dCBiZWNhdXNlIGl0IHdvcmtzIGluIHBhZ2ViZWZvcmVjcmVhdGUgaW5zdGVhZCBhbmQgaGVuY2Ugd29ya3Mgd2l0aCBhbGwgaHRtbCBzdHJpbmdzLgogICAgLy9sb2NhbGl6ZVBhZ2UoKTsKfSk7CgovKgpFdmVuIHRob3VnaCB0aGUgZG9jdW1lbnRhdGlvbiBzYXlzIHRoYXQgdGhpcyBzaG91bGQKaGFwcGVuIGFwcGFyZW50bHkgaXQgZG9lcyBub3QKKi8KJChkb2N1bWVudCkub24oInBhZ2VzaG93IiwgZnVuY3Rpb24oZXZlbnQsIHVpKSB7CiAgICBjb25zb2xlLmxvZygiSW4gcGFnZXNob3ciKTsgLy9NZWFucyBub3RoaW5nLiBZb3UgY2FuIGRlbGV0ZSB0aGlzLgogICAgLy91aS5wcmV2UGFnZS5yZW1vdmUoKTsgCiAgICAvL0NvbW1lbnRlZCBvdXQgYmVjYXVzZSBpdCBtZXNzZXMgd2l0aCBnb2luZyBiYWNrIGZyb20gYSBwYWdlIChpdCBpcyByZW1vdmVkLCBzbyB0aHJvd3MgZXJyb3IpCn0pOwoKLyoKICAgIE9uIFBhZ2VjaGFuZ2UsIHRoZSBsb2dpYyBmb3IgdG91Y2gsIHN3aXBlIGFuZCBzY3JvbGwgZXZlbnRzIGFyZSBleGVjdXRlZC4KKi8KJChkb2N1bWVudCkub24oInBhZ2VjaGFuZ2UiLCBmdW5jdGlvbihldmVudCl7CiAgICBzZXR1cENsb3plV2lkdGgoKTsKICAgICQoJy51aS1wYWdlLWFjdGl2ZScpLnN3aXBlKCB7ICAgLy9PbiB0aGUgYWN0aXZlIHBhZ2UuLgoKICAgIC8vR2VuZXJpYyBzd2lwZSBoYW5kbGVyIGZvciBhbGwgZGlyZWN0aW9ucwogICAgICAgIC8vc3dpcGUgaGFuZGxlciB0byBjaGVjayBzd2lwZSBldmVudC4KICAgICAgICBzd2lwZTpmdW5jdGlvbihldmVudCwgZGlyZWN0aW9uLCBkaXN0YW5jZSwgZHVyYXRpb24sIGZpbmdlckNvdW50KXsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJZb3Ugc3dpcGVkICIgKyBkaXJlY3Rpb24gKyAiIGZvciAiICsgZGlzdGFuY2UgKyAicHgiKTsKICAgICAgICAgIH0sCiAgICAgICAgICAgIAogICAgICAgIC8vU3dpcGUgaGFuZGxlciB0byBoYW5kbGUgcGFnZSBjaGFuZ2VzLgogICAgICAgIHN3aXBlU3RhdHVzOmZ1bmN0aW9uKGV2ZW50LCBwaGFzZSwgZGlyZWN0aW9uLCBkaXN0YW5jZSwgZHVyYXRpb24pIHsKICAgICAgICAgICAgICAgIC8vZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAvL2V2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGlmKGR1cmF0aW9uIDwgMTUwMCAmJiBkaXN0YW5jZSA+IDEwMCAmJiBwaGFzZSA9PSAiZW5kIil7CiAgICAgICAgICAgICAgICBpZihkaXJlY3Rpb249PSJsZWZ0Iil7ICAgICAgIAogICAgICAgICAgICAgICAgICAgIGV4ZU5leHRQYWdlT3BlbigpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJSZWdpc3RlcmVkIGRpcmVjdGlvbiBsZWZ0LiIpOwogICAgICAgICAgICAgICAgfWVsc2UgaWYoZGlyZWN0aW9uID09InJpZ2h0Iil7CiAgICAgICAgICAgICAgICAgICAgZXhlUHJldmlvdXNQYWdlT3BlbigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ZWxzZSBpZihzY3JvbGxFbmFibGVkID09IDEgJiYgcGhhc2UgPT0gIm1vdmUiKXsKICAgICAgICAgICAgICAgIGlmKGRpcmVjdGlvbiA9PSAidXAiKXsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwyMCk7CiAgICAgICAgICAgICAgICB9ZWxzZSBpZihkaXJlY3Rpb24gPT0gImRvd24iKXsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgLTIwKTsKICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8vRGVmYXVsdCBpcyA3NXB4LCBzZXQgdG8gMjAwIGluIFVzdGFkIE1vYmlsZSB0byByZWR1Y2UgZXJyb3IgcmVwcm9kdWN0aW9uLgogICAgICAgICB0aHJlc2hvbGQ6MjAwLAogICAgICB9KTsgCn0pOwoKCgovL0Z1bmN0aW9uIGNhbGxlZCB3aGVuZXZlciBDb3Jkb3ZhIGlzIHJlYWR5IHdpdGhpbiB0aGUgYXBwJ3MgbmF2aWdhdGlvbi4KZnVuY3Rpb24gb25BcHBEZXZpY2VSZWFkeSgpewogICAgY29uc29sZS5sb2coIkNvcmRvdmEgZGV2aWNlIHJlYWR5IChvbkFwcERldmljZVJlYWR5KCkpIik7CiAgICAKICAgIHZhciBiYXNlVVJMID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImJhc2VVUkwiKTsKICAgIGNvbnNvbGUubG9nKCIgU3RhcnR1cDogdXN0YWRtb2JpbGUuanMtPm9uQXBwRGV2aWNlUmVhZHkoKS0+YmFzZVVSTDogIiArIGJhc2VVUkwpOwoKICAgIC8vdmFyIG1lc3NhZ2VNID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRlc3RMUyIpOwogICAgLy9jb25zb2xlLmxvZygiV1BURVNUOiB1c3RhZG1vYmlsZS5qcy0+b25BcHBEZXZpY2VSZWFkeS0+IE1lc3NhZ2U6ICIgKyBtZXNzYWdlTSk7CgogICAgCiAgICBkZWJ1Z0xvZygiIGluIG9uTGFuZ0RldmljZVJlYWR5KCkiKTsKICAgIG5hdmlnYXRvci5nbG9iYWxpemF0aW9uLmdldFByZWZlcnJlZExhbmd1YWdlKAogICAgCiAgICBmdW5jdGlvbiBsYW5nc3VjY2VzcyhsYW5ndWFnZSl7CiAgICAgICBkZWJ1Z0xvZygiIFlvdXIgZGV2aWNlJ3MgbGFuZ3VhZ2UgaXM6ICIgKyAgbGFuZ3VhZ2UudmFsdWUgKyAiXG4iKTsKICAgICAgICB2YXIgbGFuZ0dsb2IgPSBsYW5ndWFnZS52YWx1ZTsKICAgICAgICBpZiAobGFuZ0dsb2IgPT0gIkVuZ2xpc2giKXsKICAgICAgICAgICAgbGFuZ0dsb2IgPSAiZW4iOwogICAgICAgIH0KICAgICAgICBpZiAobGFuZ0dsb2IgPT0gIkFyYWJpYyIpewogICAgICAgICAgICBsYW5nR2xvYiA9ICJhciI7CiAgICAgICAgfQogICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NoZWNrbGFuZ3VhZ2UnLCBsYW5nR2xvYik7IAogICAgfSwKICAgIGZ1bmN0aW9uIGVycm9yQ0IoKXsKICAgICAgICBkZWJ1Z0xvZygiRmFpbGVkIHRvIGdldCB5b3VyIGRldmljZSdzIGxhbmd1YWdlLiIpOwogICAgfQogICAgKTsKICAgIGRlYnVnTG9nKCIgY2hlY2tsYW5ndWFnZSBzZXQ6ICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2hlY2tsYW5ndWFnZScpKTsKfQoKLy9XaGVuIHRoZSBNZW51IExvYWRzLCB0aGlzIGlzIGNhbGxlZC4gWW91IGNhbiB3cml0ZSBpbiB5b3VyIGFjdGlvbnMgYW5kIGNvZGUgdGhhdCBuZWVkcyB0byBiZSBydW4gaW4gdGhlIHN0YXJ0IGhlcmUuCmZ1bmN0aW9uIG9uTWVudUxvYWQoKXsKCWRlYnVnTG9nKCJNZW51IHRyaWdnZXJlZDogdXN0YWRtb2JpbGVfbWVudVBhZ2UvMi5odG1sIC0+IHVzdGFkbW9iaWxlLmpzIC0+IG9uTWVudUxvYWQoKSIpOwp9CgovKgogTG9jYWxpemF0aW9uIGZ1bmN0aW9uIC0gd2lsbCByZXR1cm4gb3JpZ2luYWwgRW5nbGlzaCBpZiBub3QgaW4gSlNPTgoqLwpmdW5jdGlvbiB4XyhzdHIpIHsKICAgIGlmKG1lc3NhZ2VzW3N0cl0pIHsKICAgICAgICByZXR1cm4gbWVzc2FnZXNbc3RyXTsKICAgIH1lbHNlIHsKICAgICAgICByZXR1cm4gc3RyOwogICAgfQp9CgovKgogRHVtbXkgZnVuY3Rpb24gdG8gYWxsb3cgc3RyaW5ncyB0byBiZSBwaWNrZWQgdXAgYnkgYmFiZWwgc2NyaXB0CiovCmZ1bmN0aW9uIHhfXyhzdHIpIHsKICAgIHJldHVybiBzdHI7Cn0KCi8qCkdldHMgY2FsbGVkIG9uIHBhZ2UgbG9hZCAoZS5nLiBiZWZvcmUgaXMgc2hvd24pCgpwYWdlU2VsZWN0b3IgLSBjbGFzcyBvciBpZCBzZWxlY3RvciBlLmcuIC51aS1wYWdlLWFjdGl2ZQoqLwpmdW5jdGlvbiBsb2NhbGl6ZVBhZ2UoKSB7IAoKICAgIGNvbnNvbGUubG9nKCJJbiBsb2NhbGl6ZVBhZ2UoKSIpOwogICAgJCgiLmV4ZVRyYW5zbGF0ZWQiKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkgewogICAgICAgIHZhciB0ZXh0VG9UcmFuc2xhdGUgPSAkKHRoaXMpLmF0dHIoImRhdGEtZXhlLXRyYW5zbGF0aW9uIik7CiAgICAgICAgLy92YXIgYXR0clRleHRUb1RyYW5zbGF0ZSA9ICQodGhpcykuYXR0cigiZGF0YS1leGUtdHJhbnNsYXRpb24tYXR0ciIpOwogICAgICAgIC8vJCgnI3NraXBCdXR0b24nKS5hdHRyKCBhdHRyVGV4dFRvVHJhbnNsYXRlLCAiSGV5Iik7CiAgICAgICAgLy9jb25zb2xlLmxvZygiVEhFIGF0dHJpYnV0ZSB0ZXh0IHRvIHRyYW5zbGF0ZTogIiArIGF0dHJUZXh0VG9UcmFuc2xhdGUpOwogICAgICAgIGNvbnNvbGUubG9nKCJ0ZXh0IHRvIHRyYW5zbGF0ZTogIiArIHRleHRUb1RyYW5zbGF0ZSk7CiAgICAgICAgLy9jb25zb2xlLmxvZygiIHZhbHVlIGZvcjogIiArIHZhbHVlKTsKICAgICAgICBjb25zb2xlLmxvZygiIHRyYW5zbGF0ZWQgdmFsdWU6ICIgKyB4Xyh0ZXh0VG9UcmFuc2xhdGUpKTsgLy8gTmVlZCB0byBpbmNsdWRlIHRoZSBsb2NhbGUvbGFuZy5qcyBmaWxlIGJlZm9yZSB0aGlzIGlzIGNhbGxlZC4gCiAgICAgICAgJCh2YWx1ZSkudGV4dCh4Xyh0ZXh0VG9UcmFuc2xhdGUpKTsKICAgIH0pOwogICAgCiAgICAkKCIuZXhlVHJhbnNsYXRlZDIiKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSl7CiAgICAgICAgdmFyIGF0dHJUZXh0ID0gJCh0aGlzKS5hdHRyKCJkYXRhLWV4ZS10cmFuc2xhdGlvbi1hdHRyIik7CiAgICAgICAgY29uc29sZS5sb2coIlRFU1Q6IGF0dHJUZXh0IGlzOiAiICsgYXR0clRleHQpOwogICAgICAgIHZhciBhdHRyVGV4dFRvVHJhbnNsYXRlID0gJCh0aGlzKS5hdHRyKGF0dHJUZXh0KTsKICAgICAgICB2YXIgaWRUZXh0VG9UcmFuc2xhdGUgPSAkKHRoaXMpLmF0dHIoImlkIik7CgogICAgICAgIGNvbnNvbGUubG9nKCJGb3IgdGhlIGF0dHJpYnV0ZTogIiArIGF0dHJUZXh0ICsgIiBhbmQgaWQ6ICIgKyBpZFRleHRUb1RyYW5zbGF0ZSArICIgb2YgdmFsdWU6ICIgKyBhdHRyVGV4dFRvVHJhbnNsYXRlICsgIiwgVHJhbnNsYXRpb24gaXM6ICIgKyB4XyhhdHRyVGV4dFRvVHJhbnNsYXRlKSk7CiAgICAgICAgJCgiIyIgKyBpZFRleHRUb1RyYW5zbGF0ZSkuYXR0cihhdHRyVGV4dCwgeF8oYXR0clRleHRUb1RyYW5zbGF0ZSkpOwogICAgfSk7Cgp9CgoKLyoKLy9GdW5jdGlvbiByZXNlcnZlZCB0byBnZXQgdGhlIGFwcCBsb2NhdGlvbi4gVGhpcyBoYXMgYmVlbiBtb3ZlZCB0bzogb25CTERldmljZVJlYWR5KCkgaW4gdXN0YWRtb2JpbGUtYm9va2xpc3QuanMgLgpmdW5jdGlvbiBnZXRBcHBMb2NhdGlvbigpeyAvL2Z1bmN0aW9uIHRvIGdldCB0aGUgcm9vdCBvZiB0aGUgZGV2aWNlLgoKfQoqLwoKLy9GdW5jdGlvbiB0byBoYW5kbGUgUHJldmlvdXMgUGFnZSBidXR0b24gd2l0aGluIGVYZSBjb250ZW50J3MgZm9vdGVyLgpmdW5jdGlvbiBleGVQcmV2aW91c1BhZ2VPcGVuKCl7CiAgICB2YXIgcHJldmlvdXNQYWdlSFJFRiA9ICQoIi51aS1wYWdlLWFjdGl2ZSAjZXhlUHJldmlvdXNQYWdlIikuYXR0cigiaHJlZiIpOwoJZGVidWdMb2coIlVzdGFkIE1vYmlsZSBDT05URU5UOiBHb2luZyB0byBwcmV2aW91cyBwYWdlOiAiICsgcHJldmlvdXNQYWdlSFJFRik7CiAgICAkLm1vYmlsZS5jaGFuZ2VQYWdlKCBwcmV2aW91c1BhZ2VIUkVGLCB7IHRyYW5zaXRpb246ICJzbGlkZSIsIHJldmVyc2U6IHRydWUgfSwgdHJ1ZSwgdHJ1ZSApOwp9CgovL0Z1bmN0aW9uIHRvIGhhbmRsZSBGaXJzdCBOZXh0IFBhZ2UgYnV0dG9uIHdpdGhpbiBlWGUgY29udGVudCdzIGZvb3Rlci4gKElzIG5vdCB1c2VkKQpmdW5jdGlvbiBleGVGaXJzdE5leHRQYWdlT3BlbigpeyAgIAogICAgZGVidWdMb2coIlVzdGFkIE1vYmlsZTogaW4gZXhlRmlyc3ROZXh0UGFnZU9wZW4oKSIpOwogICAgdmFyIG5leHRQYWdlSFJFRiA9ICQoIi51aS1wYWdlLWFjdGl2ZSAjZXhlTmV4dFBhZ2UiKS5hdHRyKCJocmVmIik7CiAgICBkZWJ1Z0xvZygiVXN0YWQgTW9iaWxlOiBDT05URU5UVDogR29pbmcgdG8gbmV4dCBwYWdlIGluIEZpcnN0TmV4dFBhZ2VPcGVuOiAiICsgbmV4dFBhZ2VIUkVGKTsKICAgICQubW9iaWxlLmNoYW5nZVBhZ2UoIG5leHRQYWdlSFJFRiwgeyB0cmFuc2l0aW9uOiAibm9uZSIgfSwgdHJ1ZSwgdHJ1ZSApOwp9CgovL0Z1bmN0aW9uIHRvIGhhbmRsZSBOZXh0IFBhZ2UgYnV0dG9uIHdpdGhpbiBlWGUgY29udGVudCdzIGZvb3Rlci4KZnVuY3Rpb24gZXhlTmV4dFBhZ2VPcGVuKCl7CiAgICB2YXIgbmV4dFBhZ2VIUkVGID0gJCgiLnVpLXBhZ2UtYWN0aXZlICNleGVOZXh0UGFnZSIpLmF0dHIoImhyZWYiKTsKICAgIGRlYnVnTG9nKCJVc3RhZCBNb2JpbGUgQ29udGVudDogR29pbmcgdG8gbmV4dCBwYWdlOiAiICsgbmV4dFBhZ2VIUkVGKTsgIAogICAgJC5tb2JpbGUuY2hhbmdlUGFnZSggbmV4dFBhZ2VIUkVGLCB7IHRyYW5zaXRpb246ICJzbGlkZSIgfSwgdHJ1ZSwgdHJ1ZSApOwp9CgovL0Z1bmN0aW9uIHRvIGhhbmRsZSBNZW51IFBhZ2Ugd2l0aGluIGVYZSBjb250ZW50J3MgZm9vdGVyLgpmdW5jdGlvbiBleGVNZW51UGFnZU9wZW4oKXsKICAgIC8vV2luZG93cyBQaG9uZSBjaGVja3MuCglpZigkLm1vYmlsZS5wYXRoLmdldExvY2F0aW9uKCJ4LXdtYXBwMDovL3d3dy91c3RhZG1vYmlsZV9tZW51UGFnZTIuaHRtbCIpICE9ICJ4LXdtYXBwMDovL3d3dy91c3RhZG1vYmlsZV9tZW51UGFnZTIuaHRtbCIpewoJCWRlYnVnTG9nKCd0aGVyZSBpcyBwYXRoIHByb2JsZW0nKTsKCX1lbHNlewoJCWRlYnVnTG9nKCdldmVyeXRoaW5nIGlzIE9LIHdpdGggcGF0aHMnKTsKCX0KCWRlYnVnTG9nKCJVc3RhZCBNb2JpbGUgQ29udGVudDogWW91IHdpbGwgZ28gaW50bzogZXhlTWVudVBhZ2UgIiArIGV4ZU1lbnVQYWdlMik7CgogICAgaWYoIHBsYXRmb3JtID09ICJhbmRyb2lkIiApewogICAgICAgIHZhciBleGVNZW51TGluazIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYmFzZVVSTCIpICsgIi8iICsgZXhlTWVudVBhZ2UyOwoJICAgIGRlYnVnTG9nKCJVc3RhZCBNb2JpbGUgQ29udGVudDogQU5EUk9JRDogWW91IHdpbGwgZ28gaW50bzogZXhlTWVudUxpbmsgIiArIGV4ZU1lbnVMaW5rMik7CQogICAgfWVsc2UgaWYocGxhdGZvcm0gPT0gIndwOCIpewkvL0N1cnJlbnRseSBvbmx5IFdpbmRvd3MgUGhvbmUgY2hlY2tzLgoJICAgIHZhciBleGVNZW51TGluazIgPSAiL3d3dy8iICsgZXhlTWVudVBhZ2UyOwogICAgICAgIGRlYnVnTG9nKCJVc3RhZCBNb2JpbGUgQ29udGVudDogV0lORE9XUyBQSE9ORTogWW91IHdpbGwgZ28gaW50bzogZXhlTWVudUxpbmsgIiArIGV4ZU1lbnVMaW5rMik7CiAgICB9ZWxzZSBpZihwbGF0Zm9ybSA9PSAiaW9zIil7CiAgICAgICAgLy9EbyBub3RoaW5nCiAgICAgICAgY29uc29sZS5sb2coIkRldGVjdGVkIHlvdXIgZGV2aWNlIHBsYXRmb3JtIGFzOiBpT1MhIik7CiAgICAgICAgdmFyIGV4ZU1lbnVMaW5rMiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJiYXNlVVJMIikgKyAiLyIgKyBleGVNZW51UGFnZTI7CgkgICAgZGVidWdMb2coIlVzdGFkIE1vYmlsZSBDb250ZW50OiBpT1M6IFlvdSB3aWxsIGdvIGludG86IGV4ZU1lbnVMaW5rICIgKyBleGVNZW51TGluazIpOwogICAgfWVsc2UgaWYocGxhdGZvcm0gPT0gImJiMTAiKXsKICAgICAgICAvL0RvIG5vdGhpbmcKICAgICAgICBjb25zb2xlLmxvZygiRGV0ZWN0ZWQgeW91ciBkZXZpY2UgcGxhdGZvcm0gYXM6IEJsYWNrYmVycnkgMTAhIik7CiAgICAgICAgdmFyIGV4ZU1lbnVMaW5rMiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJiYXNlVVJMIikgKyAiLyIgKyBleGVNZW51UGFnZTI7CgkgICAgZGVidWdMb2coIlVzdGFkIE1vYmlsZSBDb250ZW50OiBCbGFja2JlcnJ5IDEwOiBZb3Ugd2lsbCBnbyBpbnRvOiBleGVNZW51TGluayAiICsgZXhlTWVudUxpbmsyKTsKICAgICAgICBhbGVydCgiQkIxMFRFU1Q6IFVzdGFkIE1vYmlsZSBDb250ZW50OiBCbGFja2JlcnJ5IDEwOiBZb3Ugd2lsbCBnbyBpbnRvOiBleGVNZW51TGluayAiICsgZXhlTWVudUxpbmsyKTsKICAgIH1lbHNlewogICAgICAgIGNvbnNvbGUubG9nKCJVbmFibGUgdG8gZGV0ZWN0IHlvdXIgZGV2aWNlIHBsYXRmb3JtLiBFcnJvci4iKTsJCiAgICB9CiAgICAkLm1vYmlsZS5jaGFuZ2VQYWdlKCBleGVNZW51TGluazIsIHsgdHJhbnNpdGlvbjogInNsaWRldXAiIH0gKTsKfQoKLy9GdW5jdGlvbiB0byBoYW5kbGUgTWVudSBQYWdlIHdpdGhpbiBCb29rIExpc3QncyBmb290ZXIuCmZ1bmN0aW9uIGJvb2tsaXN0TWVudVBhZ2VPcGVuKCl7CglkZWJ1Z0xvZygiVXN0YWQgTW9iaWxlIEFwcDogWW91IHdpbGwgZ28gaW50bzogZXhlTWVudVBhZ2UgIiArIGV4ZU1lbnVQYWdlKTsKICAgIHZhciBleGVNZW51TGluayA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJiYXNlVVJMIikgKyAiLyIgKyBleGVNZW51UGFnZTsKICAgIGRlYnVnTG9nKCJVc3RhZCBNb2JpbGUgQXBwOiBZb3Ugd2lsbCBnbyBpbnRvOiBleGVNZW51TGluayAiICsgZXhlTWVudUxpbmspOwkKICAgICQubW9iaWxlLmNoYW5nZVBhZ2UoIGV4ZU1lbnVQYWdlLCB7IHRyYW5zaXRpb246ICJzbGlkZXVwIiB9ICk7Cn0KCi8vRnVuY3Rpb24gdG8gb3BlbiB2YXJpb3VzIGxpbmtzIGluIHRoZSBNZW51LgpmdW5jdGlvbiBvcGVuTWVudUxpbmsobGlua1RvT3BlbiwgdHJhbnNpdGlvbk1vZGUpewoJZGVidWdMb2coIlVzdGFkIE1vYmlsZTogSW4gb3Blbk1lbnVMaW5rKGxpbmtUb09wZW4pLCBBYm91dCB0byBvcGVuOiAiICsgbGlua1RvT3Blbik7CiAgICBpZihwbGF0Zm9ybSA9PSAiYW5kcm9pZCIpewogICAgICAgIC8vRG8gbm90aGluZwogICAgICAgIC8vbGlua1RvT3BlbiA9IGxpbmtUb09wZW47CiAgICB9ZWxzZSBpZihwbGF0Zm9ybSA9PSAid3A4Iil7CgkgICAgLy9pZihkZXZpY2UgaXMgd2luZG93cyBwaG9uZSl7CgkJICAgIGxpbmtUb09wZW4gPSAiLyIgKyBsaW5rVG9PcGVuOyAvL3gtd21hcHAwOiB3aWxsIGJlIGFwcGVuZGVkLgoJICAgIC8vfQogICAgfWVsc2UgaWYocGxhdGZvcm0gPT0gImlvcyIpewogICAgICAgIGNvbnNvbGUubG9nKCJEZXRlY3RlZCBpT1MgcGxhdGZvcm0uIik7CiAgICAgICAgLy9EbyBub3RoaW5nCiAgICB9ZWxzZSBpZihwbGF0Zm9ybSA9PSAiYmIxMCIpewogICAgICAgIGNvbnNvbGUubG9nKCJEZXRlY3RlZCBCbGFja2JlcnJ5IDEwIHBsYXRmb3JtLiIpOwogICAgICAgIC8vRG8gbm90aGluZwogICAgfWVsc2V7CiAgICAgICAgY29uc29sZS5sb2coIllvdXIgcGxhdGZvcm0gY2Fubm90IGJlIGRldGVjdGVkLiBFcnJvci4iKTsKICAgIH0KCWRlYnVnTG9nKCJVc3RhZCBNb2JpbGU6IEluIG9wZW5NZW51TGluayhsaW5rVG9PcGVuKSwgQWJvdXQgdG8gb3BlbiAocG9zdCB3cCBjaGVjayk6ICIgKyBsaW5rVG9PcGVuKTsKCSQubW9iaWxlLmNoYW5nZVBhZ2UobGlua1RvT3BlbiwgeyBjaGFuZ2VIYXNoOiBmYWxzZSwgdHJhbnNpdGlvbjogdHJhbnNpdGlvbk1vZGV9KTsKfQoKLy9Zb3VyIGxhc3QgcGFnZSBjb2RlIGdvZXMgaGVyZSAob3IgaXQgZ29lcyBpbjogcmVzdW1lTGFzdEJvb2tQYWdlKCkgd2hpY2ggZXZlciB5b3UgY2FsbCBpdCBmcm9tIHVzdGFibW9iaWxlX2Jvb2tsaXN0Lmh0bWwuCmZ1bmN0aW9uIGV4ZUxhc3RQYWdlT3BlbigpewogICAgY29uc29sZS5sb2coIkdvaW5nIHRvIHRoZSBsYXN0IHBhZ2UgYXMgcGVyIGVYZS4uIik7Cn0KCi8vb3BlblBhZ2UyIG5hbWVkIHdpdGggYSAyIHNvIHRoYXQgZG9lc250JyBjb25mdXNlIHdpdGggb3RoZXIgcGFnZSdzIG9wZW5QYWdlKCkgZnVuY3Rpb25zLCBpZiBhbnkuCi8vb3BlblBhZ2UyIGlzIHRoZSBvbmUgdGhhdCBjYWxscyB3aW5kb3cub3BlbiAobm90IGNoYW5nZVBhZ2UoKSBvZiBqUXVlcnkpLgpmdW5jdGlvbiBvcGVuUGFnZTIob3BlbkZpbGUpewogICAgCiAgICBpZihwbGF0Zm9ybSA9PSAiYW5kcm9pZCIpewogICAgICAgIC8vRG8gbm90aGluZywgb3BlbkZpbGUgPSAidXN0YWRtb2JpbGVfZmlsZS5odG1sIjsKICAgIH1lbHNlIGlmKHBsYXRmb3JtID09ICJ3cDgiKXsKICAgICAgICBvcGVuRmlsZSA9ICIvL3d3dy8iICsgb3BlbkZpbGU7CiAgICB9ZWxzZSBpZihwbGF0Zm9ybSA9PSAiaW9zIil7CiAgICAgICAgLy9EbyBub3RoaW5nLgogICAgICAgIGNvbnNvbGUubG9nKCJEZXRlY3RlZCB5b3VyIGRldmljZSBpcyBpT1MiKTsKICAgIH1lbHNlIGlmKHBsYXRmb3JtID09ICJiYjEwIil7CiAgICAgICAgLy92YXIgYmFzZXVybCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJiYXNlVVJMIik7CiAgICAgICAgLy9vcGVuRmlsZSA9ICIiICsgb3BlbkZpbGU7CiAgICAgICAgLy9EbyBub3RoaW5nLgogICAgICAgIGNvbnNvbGUubG9nKCJEZXRlY3RlZCB5b3VyIGRldmljZSBpcyBCbGFja2JlcnJ5IDEwIik7CiAgICB9ZWxzZXsKICAgICAgICBjb25zb2xlLmxvZygiVW5hYmxlIHRvIGRldGVjdCB5b3VyIGRldmljZSBwbGF0Zm9ybS4gRXJyb3IuIik7CiAgICB9CiAgICBjb25zb2xlLmxvZygiTWVudSBMaW5rczogR29pbmcgdG8gcGFnZTogIiArIG9wZW5GaWxlKTsKICAgIGFsZXJ0KCJCQjEwVEVTVDogTWVudSBMaW5rczogR29pbmcgdG8gcGFnZTogIiArIG9wZW5GaWxlKTsKCS8vd2luZG93Lm9wZW4ob3BlbkZpbGUpLnRyaWdnZXIoImNyZWF0ZSIpOwogICAgLy93aW5kb3cub3BlbihvcGVuRmlsZSk7CiAgICB3aW5kb3cub3BlbihvcGVuRmlsZSwgJ19zZWxmJyk7IC8vQkIxMCBzcGVjaWZpYyBjaGFuZ2VzIHNvIHRoYXQgaXQgbG9hZHMgaW4gY3VycmVudCBjaGlsZCB3ZWJ2aWV3Cn0KCgovL2Z1bmN0aW9uIHRoYXQgb3BlbnMgQm9va3MuIHRoaXMgdXNlcyBvcGVuUGFnZTIoKSBiZWNhdXNlIGl0IG5lZWRzIHRvIHJlbG9hZCB0aGUgcGFnZS4KZnVuY3Rpb24gb3BlbkJvb2tMaXN0UGFnZSgpewoJJC5tb2JpbGUubG9hZGluZygnc2hvdycsIHsKICAgICAgICB0ZXh0OiB4XygnVXN0YWQgTW9iaWxlOiBMb2FkaW5nLi4nKSwKICAgICAgICB0ZXh0VmlzaWJsZTogdHJ1ZSwKICAgICAgICB0aGVtZTogJ2InLAogICAgICAgIGh0bWw6ICIifQogICAgKTsKCW9wZW5QYWdlMigidXN0YWRtb2JpbGVfYm9va2xpc3QuaHRtbCIpOwp9CgovL2R1cGxpY2F0ZWQgZnVuY3Rpb24gZm9yIHRlc3RpbmcgcHVycG9zZXMuLgpmdW5jdGlvbiBvcGVuQm9va0xpc3RQYWdlMigpewoJJC5tb2JpbGUubG9hZGluZygnc2hvdycsIHsKICAgICAgICB0ZXh0OiB4XygnVXN0YWQgTW9iaWxlOiBMb2FkaW5nLi4nKSwKICAgICAgICB0ZXh0VmlzaWJsZTogdHJ1ZSwKICAgICAgICB0aGVtZTogJ2InLAogICAgICAgIGh0bWw6ICIifQogICAgKTsKCW9wZW5QYWdlMigidXN0YWRtb2JpbGVfYm9va2xpc3QuaHRtbCIpOyAvLyBVc2VkIHRvIGJlIC4uL3VzdGFkbW9iaWxlX2Jvb2tsaXN0Lmh0bWwKICAgIAp9Ci8vRnVuY3Rpb24gdG8gbG9nIG91dCBhbmQgZ2V0IGJhY2sgdG8gdGhlIGxvZ2luIHBhZ2UuCmZ1bmN0aW9uIHVtTWVudUxvZ291dCgpewogICAgJC5tb2JpbGUubG9hZGluZygnc2hvdycsIHsKICAgICAgICB0ZXh0OiB4XygnVXN0YWQgTW9iaWxlOkxvZ2dpbmcgT3V0Li4nKSwKICAgICAgICB0ZXh0VmlzaWJsZTogdHJ1ZSwKICAgICAgICB0aGVtZTogJ2InLAogICAgICAgIGh0bWw6ICIifQogICAgKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VybmFtZScpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Bhc3N3b3JkJyk7CglvcGVuUGFnZTIoInVzdGFkbW9iaWxlX2xvZ2luLmh0bWwiKTsKfSAgCgovL0Z1bmN0aW9uIHRvIGxvZyBvdXQgYW5kIGdldCBiYWNrIHRvIHRoZSBsb2dpbiBwYWdlIGZyb20gdGhlIGNvbnRlbnQuIFRoaXMgd2lsbCBzaG93IGEgc2xpZ2h0bHkgZGlmZmVyZW50IGxvZ2luIHBhZ2UgYmVjYXVzZSB3ZSB3YW50IHRvIG1haW50YWluIGEgY29uc3RhbnQgZ3VpLgovL0RvZXMgdGhlIHNhbWUgYXMgdW1NZW51TG9nb3V0KCkuLgpmdW5jdGlvbiB1bU1lbnVMb2dvdXQyKCl7CiAgICAkLm1vYmlsZS5sb2FkaW5nKCdzaG93JywgewogICAgICAgIHRleHQ6IHhfKCdVc3RhZCBNb2JpbGU6TG9nZ2luZyBPdXQuLicpLAogICAgICAgIHRleHRWaXNpYmxlOiB0cnVlLAogICAgICAgIHRoZW1lOiAnYicsCiAgICAgICAgaHRtbDogIiJ9CiAgICApOwoJLy9Db21tZW50ZWQgYmVjYXVzZSBsb2NhbFN0b2FnZSBvZiBhcHAgaXMgbm90IGFjY2Vzc2libGUgb24gd2luZG93cyBwaG9uZQogICAgLy9sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcm5hbWUnKTsKICAgIC8vbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Bhc3N3b3JkJyk7CiAgICBvcGVuUGFnZTIoInVzdGFkbW9iaWxlX2xvZ2luMi5odG1sIik7Cn0KCi8vVGhpcyBmdW5jdGlvbiBnZXRzIGNhbGxlZCBmcm9tIHRoZSBCb29rIExpc3QgTWVudSB0byBnbyBiYWNrIHRvIHRoZSBMb2dpbiBQYWdlIGZyb20gdGhlIE1lbnUuCmZ1bmN0aW9uIG9wZW5Mb2dpblBhZ2UoKXsKCSQubW9iaWxlLmxvYWRpbmcoJ3Nob3cnLCB7CiAgICAgICAgdGV4dDogeF8oJ1VzdGFkIE1vYmlsZTogTG9hZGluZy4uJyksCiAgICAgICAgdGV4dFZpc2libGU6IHRydWUsCiAgICAgICAgdGhlbWU6ICdiJywKICAgICAgICBodG1sOiAiIn0KICAgICk7CglvcGVuTWVudUxpbmsoInVzdGFkbW9iaWxlX2xvZ2luMi5odG1sIiwgInNsaWRlIik7Cn0KCi8vVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgZnJvbSB0aGUgQm9vayBMaXN0IE1lbnkgdG8gZ28gdG8gdGhlIGRvd25sb2FkIHBha2NhZ2VzIFBhZ2UgZnJvbSB0aGUgTWVudS4KLy9XZSBoYXZlIGRlY2lkZWQgdG8gbm90IGFsbG93IHVzZXIgdG8gYWNjZXNzIHRoZSBEb3dubG9hZCBQYWNrYWdlcyBwYWdlIHdoaWxpc3QgaW4gYSBib29rIChmb3IgcmVkdWN0aW9uIGluIGNvbXBsZXhpdHkpLgpmdW5jdGlvbiBvcGVuR2V0UGFja2FnZXNQYWdlKCl7CgkkLm1vYmlsZS5sb2FkaW5nKCdzaG93JywgewogICAgICAgIHRleHQ6IHhfKCdVc3RhZCBNb2JpbGU6TG9hZGluZy4uJyksCiAgICAgICAgdGV4dFZpc2libGU6IHRydWUsCiAgICAgICAgdGhlbWU6ICdiJywKICAgICAgICBodG1sOiAiIn0KICAgICk7CglvcGVuTWVudUxpbmsoInVzdGFkbW9iaWxlX2dldFBhY2thZ2VzLmh0bWwiLCAic2xpZGUiKTsKfQoKLy9GdW5jdGlvbiB0byBvcGVuIFNldHRpbmdzIGFuZCBMYW5ndWFnZXMgcGFnZSAoUHJlZmVyZW5jZXMpCmZ1bmN0aW9uIG9wZW5TZXRMYW5ndWFnZXNQYWdlKCl7CgkkLm1vYmlsZS5sb2FkaW5nKCdzaG93JywgewogICAgICAgIHRleHQ6IHhfKCdVc3RhZCBNb2JpbGU6TG9hZGluZy4uJyksCiAgICAgICAgdGV4dFZpc2libGU6IHRydWUsCiAgICAgICAgdGhlbWU6ICdiJywKICAgICAgICBodG1sOiAiIn0KICAgICk7CglvcGVuTWVudUxpbmsoInVzdGFkbW9iaWxlX3NldExhbmd1YWdlLmh0bWwiLCAic2xpZGUiKTsKfQoKLy9GdW5jdGlvbiBhdmFpbGFibGUgdG8gdGVzdCByZWZyZXNoaW5nIGEgcGFnZS4gTm90IHRlc3RlZC4KZnVuY3Rpb24gcmVmcmVzaFBhZ2UocGFnZVRvUmVmcmVzaCkKewoJY29uc29sZS5sb2coIlJlZnJlc2hpbmcgcGFnZTogIiArIHBhZ2VUb1JlZnJlc2gpOwogICAgJC5tb2JpbGUuY2hhbmdlUGFnZShwYWdlVG9SZWZyZXNoLCB7CiAgICAgICAgYWxsb3dTYW1lUGFnZVRyYW5zaXRpb246IHRydWUsCiAgICAgICAgdHJhbnNpdGlvbjogJ25vbmUnLAogICAgICAgIHJlbG9hZFBhZ2U6IHRydWUKICAgIH0pOwp9CgovL0Z1bmN0aW9uIHRvIG9wZW4gdGhlIEFib3V0IFVzdGFkIE1vYmlsZSBwYWdlIGZyb20gd2l0aGluIHRoZSBNZW51IChib3RoIGZyb20gQm9vayBMaXN0IGFuZCBlWGUgY29udGVudCkuCmZ1bmN0aW9uIG9wZW5BYm91dFVNKCl7CgkkLm1vYmlsZS5sb2FkaW5nKCdzaG93JywgewogICAgICAgIHRleHQ6IHhfKCdVc3RhZCBNb2JpbGUuLicpLAogICAgICAgIHRleHRWaXNpYmxlOiB0cnVlLAogICAgICAgIHRoZW1lOiAnYicsCiAgICAgICAgaHRtbDogIiJ9CiAgICApOwogICAgdmFyCWFib3V0TGluayA9ICJ1c3RhZG1vYmlsZV9hYm91dHVzLmh0bWwiOyAvL01heWJlIG1ha2UgdGhpcyBhIGdsb2JhbCB2YXJpYWJsZSA/Li4KICAgIAoJLy9hYm91dExpbmsgPSAiLyIgKyBhYm91dExpbms7IAogICAgb3Blbk1lbnVMaW5rKGFib3V0TGluaywgInNsaWRlIik7CgkvLyQubW9iaWxlLmNoYW5nZVBhZ2UoYWJvdXRMaW5rLCB7IGNoYW5nZUhhc2g6IGZhbHNlLCB0cmFuc2l0aW9uOiAic2xpZGUifSk7Cn0KCmZ1bmN0aW9uIG9wZW5UT0NQYWdlKCl7CgkkLm1vYmlsZS5sb2FkaW5nKCdzaG93JywgewogICAgICAgIHRleHQ6IHhfKCdMb2FkaW5nIFRPQy4uJyksCiAgICAgICAgdGV4dFZpc2libGU6IHRydWUsCiAgICAgICAgdGhlbWU6ICdiJywKICAgICAgICBodG1sOiAiIn0KICAgICk7CgogICAgLy9jb25zb2xlLmxvZygiQ3VycmVudCBsb2NhdGlvbjogIiArIGRvY3VtZW50LlVSTCk7CiAgICAvL3ZhciBjb250ZW50VXJsID0gZG9jdW1lbnQucmVmZXJyZXI7CiAgICAvL2NvbnNvbGUubG9nKCJDb250ZW50IC8gUHJldmlvdXMgbG9jYXRpb246ICIgKyBjb250ZW50VXJsKTsKICAgIC8vYWxlcnQoIkJvb2sgdXJsOiAiICsgY3VycmVudEJvb2tQYXRoKTsKCS8vdmFyIHRhYmxlT2ZDb250ZW50c1BhZ2UgPSBjb250ZW50VXJsICsgIi9leGV0b2MuaHRtbCI7CgkvL3ZhciB0YWJsZU9mQ29udGVudHNQYWdlID0gImV4ZXRvYy5odG1sIjsKICAgIHZhciB0YWJsZU9mQ29udGVudHNQYWdlID0gY3VycmVudFVybDsgLy9Ob3QgdGVzdGVkIGZvciBXaW5kb3dzIFBob25lIHlldC4KICAgIGRlYnVnTG9nKCJHb2luZyB0byBUYWJsZSBvZiBDb250ZW50cyBwYWdlOiAiICsgdGFibGVPZkNvbnRlbnRzUGFnZSk7CiAgICAkLm1vYmlsZS5jaGFuZ2VQYWdlKCB0YWJsZU9mQ29udGVudHNQYWdlLCB7IHRyYW5zaXRpb246ICJzbGlkZXVwIiwgcmV2ZXJzZTogdHJ1ZX0gKTsJCn0KCi8vVGVzdCBmdW5jdGlvbi4gRG9lcyBub3RoaW5nLiBEZWxldGUgaXQuCmZ1bmN0aW9uIGxpc3RQYWNrYWdlc0Zyb21TZXJ2ZXIyKCl7CgkJYWxlcnQoIldvcmtzLi4iKTsKCX0KZnVuY3Rpb24gaW5pdFRhYmxlT2ZDb250ZW50cygpIHsKICAgICQoZG9jdW1lbnQpLm9uKCJwYWdlaW5pdCIsICIjZXhlbWFpbnBhZ2UiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdG9jQ2xpY2tlZCA9IGZhbHNlOwogICAgICAgIHZhciBzY3JlZW5XaWR0aCA9ICQod2luZG93KS53aWR0aCgpOwogICAgICAgIHZhciB3aWR0aFBlckJ1dHRvbiA9IDQwOwogICAgICAgIHZhciBiYXNlV2lkdGhSZWR1Y3Rpb24gPSAxMDA7CiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IDY7IGkrKykgewogICAgICAgICAgICAkKCIuYnV0dG9uTGV2ZWwiK2kpLndpZHRoKHNjcmVlbldpZHRoIC0gKGJhc2VXaWR0aFJlZHVjdGlvbisod2lkdGhQZXJCdXR0b24qaSkpKTsKICAgICAgICB9CiAgICB9KTsgICAgCn0KCi8qClRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjb250cm9sIHNob3cvaGlkZSBzZWN0aW9uCmJ1dHRvbnMuICBVbmZvcnR1bmF0ZWx5IEpRdWVyeSBtb2JpbGUgZG9lcyBub3QgbGlrZQpjaGFuZ2luZyBpY29ucyBvbiBidXR0b25zLCBzbyB3ZSBhY3R1YWxseSBtYWtlIHR3byBvZgp0aGVtIGVhY2ggaW5zaWRlIHRoZWlyIG93biBzcGFuIGFuZCBoaWRlIHRoZW0KKi8KZnVuY3Rpb24gdG9jVHJpZ2dlcih0b2NJZCwgdG9TaG93KSB7CiAgICBpZih0b1Nob3cgPT0gdHJ1ZSkgewogICAgICAgICQoIiN0b2NCdXR0b25TaG93U3BhbiIgKyB0b2NJZCkuaGlkZSgpOwogICAgICAgICQoIiN0b2NCdXR0b25IaWRlU3BhbiIgKyB0b2NJZCkuc2hvdygpOwogICAgICAgICQoIiN0b2NEaXYiICsgdG9jSWQpLnNob3coKTsKICAgICAgICAkKCIjdG9jQnV0dG9uSGlkZVNwYW4iICsgdG9jSWQpLmJpbmQoImNsaWNrIiwgZnVuY3Rpb24oKSB7IGV2YWwoInRvY1RyaWdnZXIoJyIgKyB0b2NJZCArIicsIGZhbHNlKSIpOyB9KTsKICAgICAgICAkKCIjdG9jQnV0dG9uU2hvd1NwYW4iICsgdG9jSWQpLnVuYmluZCgiY2xpY2siKTsKICAgIH1lbHNlIHsKICAgICAgICAkKCIjdG9jQnV0dG9uU2hvd1NwYW4iICsgdG9jSWQpLnNob3coKTsKICAgICAgICAkKCIjdG9jQnV0dG9uSGlkZVNwYW4iICsgdG9jSWQpLmhpZGUoKTsKICAgICAgICAkKCIjdG9jRGl2IiArIHRvY0lkKS5oaWRlKCk7CiAgICAgICAgJCgiI3RvY0J1dHRvblNob3dTcGFuIiArIHRvY0lkKS5iaW5kKCJjbGljayIsIGZ1bmN0aW9uKCkgeyBldmFsKCJ0b2NUcmlnZ2VyKCciICsgdG9jSWQgKyInLCB0cnVlKSIpOyB9KTsKICAgICAgICAkKCIjdG9jQnV0dG9uSGlkZVNwYW4iICsgdG9jSWQpLnVuYmluZCgiY2xpY2siKTsKCiAgICB9ICAgIAp9CgoK", "ustadmobile.js"];
var ustadmobilebooklistjs = ["LyoKPCEtLSBUaGlzIGZpbGUgaXMgcGFydCBvZiBVc3RhZCBNb2JpbGUuICAKICAgIAogICAgVXN0YWQgTW9iaWxlIENvcHlyaWdodCAoQykgMjAxMS0yMDEzIFRvdWdocmEgVGVjaG5vbG9naWVzIEZaIExMQy4KCiAgICBVc3RhZCBNb2JpbGUgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQogICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uIHdpdGggdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIHRlcm1zOgogICAgCiAgICBBbGwgbmFtZXMsIGxpbmtzLCBhbmQgbG9nb3Mgb2YgVXN0YWQgTW9iaWxlIGFuZCBUb3VnaHJhIFRlY2hub2xvZ2llcyBGWiAKICAgIExMQyBtdXN0IGJlIGtlcHQgYXMgdGhleSBhcmUgaW4gdGhlIG9yaWdpbmFsIGRpc3RyaWJ1dGlvbi4gIElmIGFueSBuZXcKICAgIHNjcmVlbnMgYXJlIGFkZGVkIHlvdSBtdXN0IGluY2x1ZGUgdGhlIFVzdGFkIE1vYmlsZSBsb2dvIGFzIGl0IGhhcyBiZWVuCiAgICB1c2VkIGluIHRoZSBvcmlnaW5hbCBkaXN0cmlidXRpb24uICBZb3UgbWF5IG5vdCBjcmVhdGUgYW55IG5ldyAKICAgIGZ1bmN0aW9uYWxpdHkgd2hvc2UgcHVycG9zZSBpcyB0byBkaW1pbmlzaCBvciByZW1vdmUgdGhlIFVzdGFkIE1vYmlsZSAKICAgIExvZ28uICBZb3UgbXVzdCBsZWF2ZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgdGhlIGxvZ28gZm9yIHRoZSAKICAgIGFwcGxpY2F0aW9uIHRvIGJlIHVzZWQgd2l0aCBhbnkgbGF1bmNoZXIgKGUuZy4gdGhlIG1vYmlsZSBhcHAgbGF1bmNoZXIpLiAgCiAgICAKICAgIElmIHlvdSB3YW50IGEgY29tbWVyY2lhbCBsaWNlbnNlIHRvIHJlbW92ZSB0aGUgYWJvdmUgcmVzdHJpY3Rpb24geW91IG11c3QKICAgIGNvbnRhY3QgdXMuICAKICAgIAogICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKICAgIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoKICAgIFVzdGFkIE1vYmlsZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAogICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgoKCgpUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZS4gIEl0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBHTlUgR0VORVJBTCBQVUJMSUMgTElDRU5TRSAoIGh0dHA6Ly93d3cuZ251Lm9yZy9jb3B5bGVmdC9ncGwuaHRtbCApIHdpdGggdGhlIGZvbGxvd2luZyAKCkdQTCBMaWNlbnNlIEFkZGl0aW9uYWwgVGVybXMKCkFsbCBuYW1lcywgbGlua3MsIGFuZCBsb2dvcyBvZiBVc3RhZCBNb2JpbGUgYW5kIFRvdWdocmEgVGVjaG5vbG9naWVzIEZaIExMQyBtdXN0IGJlIGtlcHQgYXMgdGhleSBhcmUgaW4gdGhlIG9yaWdpbmFsIGRpc3RyaWJ1dGlvbi4gIElmIGFueSBuZXcgc2NyZWVucyBhcmUgYWRkZWQgeW91IG11c3QgaW5jbHVkZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgaXQgaGFzIGJlZW4gdXNlZCBpbiB0aGUgb3JpZ2luYWwgZGlzdHJpYnV0aW9uLiAgWW91IG1heSBub3QgY3JlYXRlIGFueSBuZXcgZnVuY3Rpb25hbGl0eSB3aG9zZSBwdXJwb3NlIGlzIHRvIGRpbWluaXNoIG9yIHJlbW92ZSB0aGUgVXN0YWQgTW9iaWxlIExvZ28uICBZb3UgbXVzdCBsZWF2ZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgdGhlIGxvZ28gZm9yIHRoZSBhcHBsaWNhdGlvbiB0byBiZSB1c2VkIHdpdGggYW55IGxhdW5jICAgaGVyIChlLmcuIHRoZSBtb2JpbGUgYXBwIGxhdW5jaGVyKS4gIAoKSWYgeW91IG5lZWQgYSBjb21tZXJjaWFsIGxpY2Vuc2UgdG8gcmVtb3ZlIHRoZXNlIHJlc3RyaWN0aW9ucyBwbGVhc2UgY29udGFjdCB1cyBieSBlbWFpbGluZyBpbmZvQHVzdGFkbW9iaWxlLmNvbSAKCi0tPgoKKi8KCi8qClVzdGFkIE1vYmlsZSBCb29rIExpc3Qgd2lsbCBzY2FuIGEgbGlzdCBvZiByb290IGRpcmVjdG9yaWVzIGZvciBzdWIgZGlyZWN0b3JpZXMuCkVhY2ggc3ViIGRpcmVjdG9yeSB3aWxsIGJlIHF1ZXJpZWQgZm9yIGEgbWFya2VyIGZpbGUuICBJZiB0aGF0IGZpbGUgZXhpc3RzIGl0IHdpbGwKYmUgY29uc2lkZXJlZCBhbiBFWEUgY29udGVudCBkaXJlY3RvcnkgYW5kIGl0IHdpbGwgYmUgZGlzcGxheWVkIGluIGEgSlF1ZXJ5IE1vYmlsZSAKVUkgbGlzdCB0aGF0IHRoZSB1c2VyIGNhbiBvcGVuIGEgY2hvc2VuIGNvbnRlbnQgZW50cnkuCiovCgovKgpUaGUgZmlsZSB0byBsb29rIGZvciBpbiBhIHN1YiBkaXJlY3RvcnkgdG8gZGV0ZXJtaW5lIGlmIGl0IGlzIEVYRQpjb250ZW50IG9yIG5vdAoqLwoKdmFyIGV4ZUxhc3RQYWdlID0gIi4uLyI7CnZhciBleGVNZW51UGFnZSA9ICJ1c3RhZG1vYmlsZV9tZW51UGFnZS5odG1sIjsKdmFyIGV4ZU1lbnVQYWdlMiA9ICJ1c3RhZG1vYmlsZV9tZW51UGFnZTIuaHRtbCI7Ci8vbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2V4ZU1lbnVQYWdlJyxleGVNZW51UCk7CnZhciBnbG9iYWxYTUxMaXN0Rm9sZGVyTmFtZSA9ICJhbGwiOwovLyBCQjEwIHNwZWNpZmljIGNoYW5nZXMuCgp2YXIgY3VycmVudEJvb2tQYXRoPSIiOwp2YXIgZXhlQ29udGVudEZpbGVOYW1lID0gImluZGV4Lmh0bWwiOwp2YXIgZXhlQ29udGVudEZpbGVOYW1lID0gImV4ZXRvYy5odG1sIjsKdmFyIGpzTG9hZGVkID0gImZhbHNlIjsKCi8qCkNhbGxlZCB3aGVuIHBvcHVsYXRlRGlyIGZhaWxzIHRvIGdldCBhIHJlYWRlciBmb3IgYSBnaXZlbiBkaXJlY3RvcnkKKi8KLy9mdW5jdGlvbiBmYWlsYmwoZXZ0KSB7Ci8vICAgIGRlYnVnTG9nKGV2dC50YXJnZXQuZXJyb3IuY29kZSk7Ci8vCWRlYnVnTG9nKCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOwovL30KCi8vVGhlIGZpbGUgdGhhdCBzaG91bGQgYmUgcHJlc2VudCBpbiBhIGRpcmVjdG9yeSB0byBpbmRpY2F0ZSB0aGlzIGlzIGV4ZSBjb250ZW50CnZhciBleGVGaWxlTWFya2VyID0gImluZGV4Lmh0bWwiOwp2YXIgZXhlRmlsZU1hcmtlciA9ICJleGV0b2MuaHRtbCI7CgovL25vdCByZWFsbHkgdXNlZAp2YXIgY3VycmVudFBhdGggPSAiL2V4dF9jYXJkL3VzdGFkbW9iaWxlIjsKCi8vbGlzdCBvZiBmb2xkZXIgcGF0aHMgdG8gc2NhbiBmb3Igc3ViIGRpcmVjdG9yaWVzIGNvbnRhaW5pbmcKLy9leGUgY29udGVudAovL3ZhciBmb2xkZXJzVG9TY2FuID0gWyIvZXh0X2NhcmQvdXN0YWRtb2JpbGUiLCAiL3NkY2FyZC91c3RhZG1vYmlsZSIsICIvdXN0YWRtb2JpbGVDb250ZW50L3VtUGFja2FnZXMvIl07Cgp2YXIgZm9sZGVyc1RvU2NhbiA9IFsiL2V4dF9jYXJkL3VzdGFkbW9iaWxlIiwgIi9zZGNhcmQvdXN0YWRtb2JpbGUiLCAiL3NkY2FyZC91c3RhZG1vYmlsZUNvbnRlbnQiLCAiL3VzdGFkbW9iaWxlQ29udGVudC91bVBhY2thZ2VzLyIsICIvdXN0YWRtb2JpbGVDb250ZW50LyJdOwoKLy90aGUgaW5kZXggb2YgZm9sZGVyc1RvU2NhbiB3aGljaCB3ZSBhcmUgY3VycmVudGx5IGdvaW5nIHRocm91Z2gKdmFyIGN1cnJlbnRGb2xkZXJJbmRleCA9IDA7CgovL3RoZSBkaXIgZW50cmllcyB0aGF0IHdlIGZvdW5kIGluc2lkZSBjdXJyZW50Rm9sZGVySW5kZXgKdmFyIGN1cnJlbnRFbnRyaWVzVG9TY2FuID0gbnVsbDsKCi8vdGhlIGN1cnJlbnQgaW5kZXggbnVtYmVyIHdlIGFyZSB3b3JraW5nIG9uIGZyb20gY3VycmVudEVudHJpZXNUb1NjYW4KdmFyIGN1cnJlbnRFbnRyaWVzSW5kZXggPSAwOwoKLy9SZWZlcmVuY2UgdG8gZmlsZXN5c3RlbSBvYmplY3QKdmFyIGZpbGVTeXN0ZW0gPSBudWxsOwoKdmFyIGJvb2tzRm91bmQgPSBbXTsKCnZhciBhbGxCb29rRm91bmRDYWxsYmFjayA9IG51bGw7CgoKCi8vIFdhaXQgZm9yIFBob25lR2FwIHRvIGxvYWQKLy8KZnVuY3Rpb24gb25Cb29rTGlzdExvYWQoKSB7CiAgICAvLyQubW9iaWxlLmxvYWRpbmcoJ2hpZGUnKTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImRldmljZXJlYWR5Iiwgb25CTERldmljZVJlYWR5LCBmYWxzZSk7Cn0KCi8vIFBob25lR2FwIGlzIHJlYWR5IC0gc2NhbiB0aGUgZmlyc3QgZGlyZWN0b3J5Ci8vCmZ1bmN0aW9uIG9uQkxEZXZpY2VSZWFkeSgpIHsKICAgIHZhciB1c2Vybj0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJuYW1lJyk7CiAgICB2YXIgbG9nb21lPScnOwogICAgaWYgKHVzZXJuIT1udWxsKQogICAgewogICAgICAgIGxvZ29tZT14XygnTG9nb3V0Jyk7CiAgICB9CiAgICBlbHNlewogICAgICAgIGxvZ29tZT14XygnSG9tZScpOwogICAgICAgIHVzZXJuPXhfKCdHdWVzdCcpOwogICAgfQoKICAgICQubW9iaWxlLmxvYWRpbmcoJ3Nob3cnLCB7CiAgICAgICAgdGV4dDogeF8oJ0xvYWRpbmcgeW91ciBib29rcy4uJyksCiAgICAgICAgdGV4dFZpc2libGU6IHRydWUsCiAgICAgICAgdGhlbWU6ICdiJywKICAgIGh0bWw6ICIifSk7CiAgICAKICAgIHZhciBwb3NPZkxhc3RTbGFzaCA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYubGFzdEluZGV4T2YoIi8iKTsKICAgIHZhciBtYWluUGF0aCA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuc3Vic3RyaW5nKDAsIHBvc09mTGFzdFNsYXNoKTsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdiYXNlVVJMJywgbWFpblBhdGgpOwogICAgCiAgICAkKCIjVU1Vc2VybmFtZSIpLmVtcHR5KCkuYXBwZW5kKCk7CiAgICAkKCIjVU1Vc2VybmFtZSIpLmFwcGVuZCh1c2VybikudHJpZ2dlcigiY3JlYXRlIik7CiAgICAkKCIjVU1Mb2dvdXQiKS5lbXB0eSgpLmFwcGVuZCgpOwogICAgJCgiI1VNTG9nb3V0IikuYXBwZW5kKGxvZ29tZSkudHJpZ2dlcigiY3JlYXRlIik7CiAgICAkKCIjVU1Cb29rTGlzdCIpLmVtcHR5KCkuYXBwZW5kKCk7CiAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteUFuY2hvcicpLmlubmVySFRNTD0iVzNTY2hvb2xzIjsKICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1VNVXNlcm5hbWUnKS5pbm5lckhUTUw9dXNlcm47CiAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdVTUxvZ291dCcpLmlubmVySFRNTD1sb2dvbWU7CiAgICAKICAgIC8vJC5tb2JpbGUubG9hZGluZygnaGlkZScpOwogICAgY3VycmVudEVudHJpZXNJbmRleCA9IDA7CiAgICBjdXJyZW50Rm9sZGVySW5kZXggPSAwOwogICAgcG9wdWxhdGVOZXh0RGlyKCk7Cn0KCi8qCkxvZyBvdXQgZnVuY3Rpb24gdG8gc2V0IGxvY2FsU3RvcmFnZSB0byBudWxsIChyZW1vdmUpIGFuZCByZWRpcmVjdCB0byBsb2dpbiBwYWdlIGZyb20gdGhlbi4KKi8KZnVuY3Rpb24gdW1Mb2dvdXQoKXsKICAgICQubW9iaWxlLmxvYWRpbmcoJ3Nob3cnLCB7CiAgICB0ZXh0OiB4XygnTG9hZGluZyBVc3RhZCBNb2JpbGUnKSwKICAgIHRleHRWaXNpYmxlOiB0cnVlLAogICAgdGhlbWU6ICdiJywKICAgIGh0bWw6ICIifSk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcm5hbWUnKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdwYXNzd29yZCcpOwogICAgLy93aW5kb3cub3BlbigidXN0YWRtb2JpbGVfbG9naW4uaHRtbCIpOwogICAgd2luZG93Lm9wZW4oInVzdGFkbW9iaWxlX2xvZ2luLmh0bWwiLCAnX3NlbGYnKTsgLy9CQjEwIHNwZWNpZmljIGNoYW5nZXMuCn0gIAoKLyoKQ2FsbGVkIG9uY2UgYSBzY2FuIG9mIGEgZGlyZWN0b3J5IGlzIGRvbmUgLSBnbyBhbmQgbG9vayBhdAp0aGUgbmV4dCBlbnRyeSBmcm9tIGZvbGRlcnNUb1NjYW4gaWYgdGhlcmUgYXJlIG1vcmUuLi4KKi8KZnVuY3Rpb24gcG9wdWxhdGVOZXh0RGlyKCkgewogICAgZGVidWdMb2coIkluIHBvcHVsYXRlTmV4dERpcigpIik7CiAgICBpZihjdXJyZW50Rm9sZGVySW5kZXggPCBmb2xkZXJzVG9TY2FuLmxlbmd0aCkgewogICAgICAgIGRlYnVnTG9nKCJDYWxsaW5nIHRvIHBvcHVsYXRlIHRoZSBuZXh0IGZvbGRlci4uIik7CiAgICAgICAgcG9wdWxhdGUoZm9sZGVyc1RvU2NhbltjdXJyZW50Rm9sZGVySW5kZXgrK10pOwogICAgfWVsc2UgewogICAgICAgICQubW9iaWxlLmxvYWRpbmcoJ2hpZGUnKTsKICAgICAgICBkZWJ1Z0xvZygiTm8gbW9yZSBmb2xkZXJzIHRvIHNjYW4gZm9yIHVzdGFkIG1vYmlsZSBwYWNrYWdlcy4iKTsKICAgICAgICBpZihhbGxCb29rRm91bmRDYWxsYmFjayAhPSBudWxsKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgYWxsQm9va0ZvdW5kQ2FsbGJhY2sgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICAgIGFsbEJvb2tGb3VuZENhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCi8qIApXaGVuIHJvb3QgZGlyIHJlYWRlciBmYWlscwoqLwpmdW5jdGlvbiBmYWlsYmwoZXZ0KSB7CiAgICAvL2RlYnVnTG9nKGV2dC50YXJnZXQuZXJyb3IuY29kZSk7CiAgICBkZWJ1Z0xvZygiQ291bGQgbm90IGZpbmQgdGhlIGZvbGRlciB0byBzY2FuIGZvciB0aGlzIHBsYXRmb3JtLiBHb2luZyB0byB0aGUgbmV4dCBmb2xkZXIuLiIpOwogICAgcG9wdWxhdGVOZXh0RGlyKCk7Cn0KCi8qCkxvb2tzIGZvciBzdWJkaXJlY3RvcmllcyBvZiBwYXRoIHRoYXQgY29udGFpbiBleGUgY29udGVudCAtIGZvciBlYWNoCnN1YiBkaXJlY3Rvcnkgd2lsbCBsb29rIGZvciB0aGUgbWFya2VyIGZpbGUuCiovCmZ1bmN0aW9uIHBvcHVsYXRlKHBhdGhGcm9tKXsKICAgIGRlYnVnTG9nKCJhdHRlbXB0aW5nIHRvIHBvcHVsYXRlIGZyb206ICIgKyBwYXRoRnJvbSk7CiAgICB0cnkgewogICAgICAgIHdpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbShMb2NhbEZpbGVTeXN0ZW0uUEVSU0lTVEVOVCwgMCwgZnVuY3Rpb24oZnMpewogICAgICAgICAgICBmaWxlU3lzdGVtID0gZnM7CiAgICAgICAgICAgIGZzLnJvb3QuZ2V0RGlyZWN0b3J5KHBhdGhGcm9tLHtjcmVhdGU6IGZhbHNlLCBleGNsdXNpdmU6IGZhbHNlfSxkaXJSZWFkZXIsZmFpbGJsKTsKICAgICAgICB9LCBmYWlsYmwpOwogICAgfSBjYXRjaCAoZSkgewogICAgICAgIC8vZGVidWdMb2coInBvcHVsYXRlIGV4Y2VwdGlvbjogY2F0Y2ghOiAiICsgZHVtcChlKSk7CiAgICAgICAgZGVidWdMb2coIlBvcHVsYXRlIGV4Y2VwdGlvbi4iKTsKICAgICAgICBwb3B1bGF0ZU5leHREaXIoKTsKICAgIH0KfQogIAovKgpXZSBoYXZlIGdvdCBhIGRpckVudHJ5IGZyb20gcG9wdWxhdGUgLSBub3cgYXR0ZW1wdCB0byByZWFkIGVudHJpZXMuLi4KKi8KZnVuY3Rpb24gZGlyUmVhZGVyKGRpckVudHJ5KXsKICAgIHZhciBkaXJlY3RvcnlSZWFkZXIgPSBkaXJFbnRyeS5jcmVhdGVSZWFkZXIoKTsKICAgIGRlYnVnTG9nKCJkaXJSZWFkZXIgRGlyZWN0b3J5OiAiICsgZGlyRW50cnkuZnVsbFBhdGgpOwogICAgZGlyZWN0b3J5UmVhZGVyLnJlYWRFbnRyaWVzKHN1Y2Nlc3NEaXJlY3RvcnlSZWFkZXIsZmFpbERpcmVjdG9yeVJlYWRlcik7Cn0KCi8qCkNhbGxlZCB3aGVuIHRoZSBmaWxlbWFya2VyIGlzIGZvdW5kIC0gZmlsZUVudHJ5IHJlcHJlc2VudHMKdGhlIGFjdHVhbCBmaWxlIGl0c2VsZiBmb3VuZCAoZS5nLiBwYXRoL2V4ZUZpbGVNYXJrZXIpCiovCQpmdW5jdGlvbiBmaW5kRVhFRmlsZU1hcmtlclN1Y2Nlc3MoZmlsZUVudHJ5KSB7CiAgICB2YXIgZmlsZUZ1bGxQYXRoID0gZmlsZUVudHJ5LmZ1bGxQYXRoOwogICAgZGVidWdMb2coIkZvdW5kICIgKyBmaWxlRnVsbFBhdGggKyAiIGlzIGFuIEVYRSBkaXJlY3RvcnkgLSBhZGRpbmcuLi4iKTsKICAgIHZhciBmb2xkZXJOYW1lID0gZmlsZUVudHJ5LmdldFBhcmVudCgpOwogICAgZmlsZUVudHJ5LmdldFBhcmVudChmdW5jdGlvbihwYXJlbnRFbnRyeSkgewogICAgICAgIGRlYnVnTG9nKCJHb3QgYSBwYXJlbnQgQm9vayBkaXJlY3RvcnkgbmFtZSIpOwogICAgICAgIGRlYnVnTG9nKCJUaGUgZnVsbCBwYXRoID0gIiArIHBhcmVudEVudHJ5LmZ1bGxQYXRoKTsKICAgICAgICBmb2xkZXJOYW1lID0gcGFyZW50RW50cnkubmFtZTsgIAogICAgICAgIGJvb2tzRm91bmRbYm9va3NGb3VuZC5sZW5ndGhdID0gZm9sZGVyTmFtZTsKICAgICAgICAkKCIjVU1Cb29rTGlzdCIpLmFwcGVuZCgiPGEgb25jbGljaz0nb3BlbkJMUGFnZShcIiIgKyBmaWxlRnVsbFBhdGggKyAiXCIpJyBocmVmPVwiI1wiIGRhdGEtcm9sZT1cImJ1dHRvblwiIGRhdGEtaWNvbj1cInN0YXJcIiBkYXRhLWFqYXg9XCJmYWxzZVwiPiIgKyBmb2xkZXJOYW1lICsgIjwvYT4iKS50cmlnZ2VyKCJjcmVhdGUiKTsKICAgICAgICB9LCBmdW5jdGlvbihlcnJvcil7CiAgICAgICAgICAgIGRlYnVnTG9nKCJmYWlsZWQgdG8gZ2V0IHBhcmVudCBkaXJlY3RvcnkgZm9sZGVyTmFtZTogIiArIGZvbGRlck5hbWUgKyAiIHdpdGggYW4gZXJyb3I6ICIgKyBlcnJvcik7CiAgICAgICAgfQogICAgKTsgCiAgICBkZWJ1Z0xvZygiQmVmb3JlIHdlIHNjYW4gdGhlIGRpcmVjdG9yeSwgdGhlIG51bWJlciBvZiBCb29rcyBGb3VuZCBpczogIiArIGJvb2tzRm91bmQubGVuZ3RoKTsKICAgIHNjYW5OZXh0RGlyZWN0b3J5SW5kZXgoKTsKfQoKLyoKZXhlRmlsZU1hcmtlciB3YXMgbm90IGZvdW5kIC0ganVzdCBnbyBmb3Igc2Nhbm5pbmcgdGhlIG5leHQgZGlyZWN0b3J5CiovCmZ1bmN0aW9uIGZpbmRFWEVGaWxlTWFya2VyRmFpbChmaWxlRW50cnkpIHsKICAgIGRlYnVnTG9nKCJmYWlsZWQgdG8gZmluZCBmaWxlIG1hcmtlciBmb3IgIiArIGZpbGVFbnRyeS5uYW1lKTsKICAgIHNjYW5OZXh0RGlyZWN0b3J5SW5kZXgoKTsKfQoKLyoKTm93IHdlIGhhdmUgYSBkaXJlY3RvcnkgY29udGVudCByZWFkZXIgLSBmb3IgZWFjaCBzdWJkaXJlY3RvcnkKd2UgZm91bmQgZ28gYW5kIGNoZWNrIGlmIGl0IGhhcyBleGVGaWxlTWFya2VyIG9yIG5vdAoqLwpmdW5jdGlvbiBzY2FuTmV4dERpcmVjdG9yeUluZGV4KCkgewogICAgZGVidWdMb2coIkluIHNjYW5OZXh0RGlyZWN0b3J5SW5kZXgoKS4uIik7CiAgICBpZihjdXJyZW50RW50cmllc0luZGV4IDwgY3VycmVudEVudHJpZXNUb1NjYW4ubGVuZ3RoKSB7CiAgICAgICAgdmFyIHBhdGhUb0NoZWNrID0gY3VycmVudEVudHJpZXNUb1NjYW5bY3VycmVudEVudHJpZXNJbmRleF0uZnVsbFBhdGggKyAiLyIgKyBleGVGaWxlTWFya2VyOwogICAgICAgIGN1cnJlbnRFbnRyaWVzSW5kZXgrKzsKCQkvL3JlbW92ZSBmaWxlOi8vIHByZWZpeCAobmVlZGVkKQoJCXBhdGhUb0NoZWNrID0gcGF0aFRvQ2hlY2sucmVwbGFjZSgiZmlsZTovLyIsICIiKTsKCQlkZWJ1Z0xvZygicGF0aHRvQ2hlY2s6ICIgKyBwYXRoVG9DaGVjayk7CgkJLy9zY2FuIGFuZCBzZWUgaWYgdGhpcyBpcyByZWFsbHkgYW4gRVhFIERpcmVjdG9yeQoJCWZpbGVTeXN0ZW0ucm9vdC5nZXRGaWxlKHBhdGhUb0NoZWNrLCB7Y3JlYXRlOiBmYWxzZSwgZXhjbHVzaXZlOiBmYWxzZX0sIGZpbmRFWEVGaWxlTWFya2VyU3VjY2VzcywgZmluZEVYRUZpbGVNYXJrZXJGYWlsKTsKICAgIH1lbHNlIHsKICAgICAgICAvLy9kb25lIGxvb2tpbmcgYXQgdGhpcyBkaXJlY3RvcnkgLSBnbyB0byB0aGUgbmV4dCBvbmUKICAgICAgICBkZWJ1Z0xvZygiU2NhbiBuZXh0IGRpcmVjdG9yeSBpbmRleCBpcyBkb25lIik7CiAgICAgICAgcG9wdWxhdGVOZXh0RGlyKCk7CiAgICB9Cn0KICAgIAovKgpXZSBnb3QgYSBkaXJlY290cnkgcmVhZGVyIC0gbWFrZSBhIGxpc3Qgb2YgYWxsIHN1YiBkaXJlY3Rvcmllcwp0byBzY2FuIGZvciBleGVGaWxlTWFya2VyIGFuZCBwdXQgdGhlbSBjdXJyZW50RW50cmllc1RvU2NhbgoqLwpmdW5jdGlvbiBzdWNjZXNzRGlyZWN0b3J5UmVhZGVyKGVudHJpZXMpIHsKICAgIHZhciBpOwogICAgZGVidWdMb2coIkluIHN1Y2Nlc3NEaXJlY3RvcnlSZWFkZXIgcGF0aCIpOwkKICAgIGN1cnJlbnRFbnRyaWVzVG9TY2FuID0gbmV3IEFycmF5KCk7CiAgICBjdXJyZW50RW50cmllc0luZGV4ID0gMDsKCiAgICBmb3IgKGk9MDsgaTxlbnRyaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGVudHJpZXNbaV0uaXNEaXJlY3RvcnkpIHsKICAgICAgICAgICAgY3VycmVudEVudHJpZXNUb1NjYW5bY3VycmVudEVudHJpZXNUb1NjYW4ubGVuZ3RoXSA9IGVudHJpZXNbaV07CiAgICAgICAgfQogICAgfQoKICAgIHNjYW5OZXh0RGlyZWN0b3J5SW5kZXgoKTsKCn0KCi8qCkNvdWxkIG5vdCBnZXQgYSBkaXJlY3RvcnkgcmVhZGVyIGZvciB0aGlzIHN1YiBkaXIgLSBnbyB0byB0aGUgbmV4dCBvbmUKKi8KZnVuY3Rpb24gZmFpbERpcmVjdG9yeVJlYWRlcihlcnJvcikgewogICAgZGVidWdMb2coIkZhaWxlZCB0byBsaXN0IGRpcmVjdG9yeSBjb250ZW50cy4gRXJyb3IgY29kZTogIiArIGVycm9yLmNvZGUpOwogICAgcG9wdWxhdGVOZXh0RGlyKCk7Cn0KCi8qClNpbXBsZSBPcGVuIHBhZ2Ugd3JhcHBlciAoKyBzZXRzIGxhbmd1YWdlIG9mIHRoZSBvcGVuZWQgYm9vayA/KQoqLwpmdW5jdGlvbiBvcGVuQkxQYWdlKG9wZW5GaWxlKXsKICAgIGpzTG9hZGVkID0gZmFsc2U7CiAgICBjdXJyZW50Qm9va1BhdGggPSBvcGVuRmlsZTsKICAgIGNvbnNvbGUubG9nKCJCb29rIFVSTCB0aGF0IFVNIGlzIGdvaW5nIHRvIGlzOiAiICsgY3VycmVudEJvb2tQYXRoKTsKICAgIC8vZWc6IGZpbGU6Ly8vc2RjYXJkL3VzdGFkbW9iaWxlQ29udGVudC9tZWFzdXJlbWVudERlbW9WMkFPL2V4ZXRvYy5odG1sCiAgICAvLzEuIFdlIG5lZWQgdG8gY3JlYXRlIGEgZmlsZTogdXN0YWRtb2JpbGUtc2V0dGluZ3MuanMKICAgIC8vMi4gV2UgbmVlZCB0byBwdXQgdGhhdCBmaWxlIGluIHRoYXQgZGlyZWN0b3J5CiAgICAvLzMuIFdlIG5lZWQgdG8gb3BlbiB0aGUgZmlsZS4KICAgIHZhciBib29rcGF0aCA9IGN1cnJlbnRCb29rUGF0aC5zdWJzdHJpbmcoMCwgY3VycmVudEJvb2tQYXRoLmxhc3RJbmRleE9mKCIvIikpOwogICAgdmFyIGJvb2twYXRoU3BsaXQgPSBib29rcGF0aC5zcGxpdCgiLy8iKTsKICAgIGJvb2twYXRoID0gYm9va3BhdGhTcGxpdFtib29rcGF0aFNwbGl0Lmxlbmd0aC0xXTsKICAgIHZhciB1c2VyU2V0TGFuZ3VhZ2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGFuZ3VhZ2UnKTsKICAgIGNvbnNvbGUubG9nKCJUaGUgdXNlciBzZWxlY3RlZCBsYW5ndWFnZSBpcyA6ICIgKyB1c2VyU2V0TGFuZ3VhZ2UgKyAiIGFuZCB0aGUgY3VycmVudCBCb29rIFBhdGggaXM6ICIgKyBib29rcGF0aCk7CiAgICB1c2VyU2V0TGFuZ3VhZ2VTdHJpbmcgPSAidmFyIHVzdGFkbG9jYWxlbGFuZyA9IFwiIiArIHVzZXJTZXRMYW5ndWFnZSArICJcIjsgY29uc29sZS5sb2coXCJEQUZUIFBVTksgR0VUIExVQ0tZXCIpOyI7CiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXN0YWRtb2JpbGUtc2V0dGluZ3MuanMnLCB1c2VyU2V0TGFuZ3VhZ2VTdHJpbmcpOwogICAgbG9jYWxTdG9yYWdlVG9GaWxlKGJvb2twYXRoLCAidXN0YWRtb2JpbGUtc2V0dGluZ3MuanMiLCBvcGVuRmlsZSk7CiAgICAvL3dpbmRvdy5vcGVuKG9wZW5GaWxlKTsKfQogICAgZnVuY3Rpb24gd2RvdG9wZW4ob3BlbkZpbGUpewogICAgICAgIC8vd2luZG93Lm9wZW4ob3BlbkZpbGUpOwogICAgICAgIHdpbmRvdy5vcGVuKG9wZW5GaWxlLCAnX3NlbGYnKTsgICAgIC8vQkIxMCBzcGVjaWZpYyBjaGFuZ2VzLgoKICAgIH0KCgoKLy9GdW5jdGlvbiB0byB3cml0ZSB0aGUgaGVhZGVyLiBUaGlzIGNhbiBiZSBjYWxsZWQgZnJvbSB3aXRoaW4gdGhlIGh0bWwgYW5kIHdlbGwsIGl0IHdyaXRlcyB0aGUgc3RhcnQuIEN1cnJlbnRseSB0aGlzIGlzIGltcGxlbWVudGVkIGluIGVYZSBzbyB0aGlzIGlzIGtpbmQgb2YgcmVkdW5kYW50ICwgdW5sZXNzIHlvdSB3YW50IHRvIHVzZSBpdC4uIGdvIGFoZWFkLgpmdW5jdGlvbiB3cml0ZUJvZHlTdGFydCh0aXRsZSkgewogICAgZG9jdW1lbnQud3JpdGVsbigiPGRpdiBkYXRhLXJvbGU9XCJwYWdlXCIgaWQ9XCJleGVtYWlucGFnZVwiPiIpOwogICAgZG9jdW1lbnQud3JpdGVsbigiPGRpdiBkYXRhLXJvbGU9XCJoZWFkZXJcIiBkYXRhLXBvc2l0aW9uPVwiZml4ZWRcIiBkYXRhLXRhcC10b2dnbGU9XCJmYWxzZVwiPiIpOwogICAgZG9jdW1lbnQud3JpdGVsbigiPHAgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOnVybCgncmVzL3VtcmVzL2Jhbm5lMS5wbmcnKTsgYmFja2dyb3VuZC1yZXBlYXQ6cmVwZWF0LXg7bWFyZ2luLXRvcDotOHB4O1wiID4uPC9wPiIpOwogICAgLy9kb2N1bWVudC53cml0ZWxuKCI8YSBpZD1cIlVNVXNlcm5hbWVcIj4iKTsKICAgIC8vZG9jdW1lbnQud3JpdGVsbigiPC9hPiIpOwogICAgLy9kb2N1bWVudC53cml0ZWxuKCI8YT48L2E+Iik7ICAgIAogICAgLy9kb2N1bWVudC53cml0ZWxuKCI8YSBpZD1cIlVNTG9nb3V0XCIgZGF0YS1yb2xlPVwiYnV0dG9uXCIgZGF0YS1pY29uPVwiaG9tZVwiIGRhdGEtaWNvbnNoYWRvdz1cImZhbHNlXCIgZGF0YS1kaXJlY3Rpb249XCJyZXZlcnNlXCIgb25jbGljaz1cInVtTG9nb3V0KClcIiBjbGFzcz1cInVpLWJ0bi1yaWdodFwiPjwvYT4iKTsgLy8gbWlnaHQgYmUgYWRkZWQ6IHJlbD1cImV4dGVybmFsXCIgc28gdGhhdCBpdCBkb2Vzbid0IGFjdHVhbGx5IG9wZW4gYSBuZXcgcGFnZS4KICAgIGRvY3VtZW50LndyaXRlbG4oIjxoMz4iICsgdGl0bGUgKyAiPC9oMz4iKTsKICAgIGRvY3VtZW50LndyaXRlbG4oIjwvZGl2PiIpOwogICAgZG9jdW1lbnQud3JpdGVsbigiPGRpdiBkYXRhLXJvbGU9XCJjb250ZW50XCI+Iik7Cn0KCgovL0Z1bmN0aW9uIHRvIHdyaXRlIHRoZSBmb290ZXIuIFRoaXMgY2FuIGJlIGNhbGxlZCBmcm9tIHdpdGhpbiB0aGUgaHRtbCBhbmQgd2VsbCwgaXQgd3JpdGVzIHRoZSBlbmQuIEN1cnJlbnRseSB0aGlzIGlzIGltcGxlbWVudGVkIGluIGVYZSBzbyB0aGlzIGlzIGtpbmQgb2YgcmVkdW5kYW50ICwgdW5sZXNzIHlvdSB3YW50IHRvIHVzZSBpdC4uIGdvIGFoZWFkLgpmdW5jdGlvbiB3cml0ZUJvZHlFbmQoKSB7CiAgICBkb2N1bWVudC53cml0ZWxuKCI8ZGl2IGRhdGEtcm9sZT1cImZvb3RlclwiIGRhdGEtcG9zaXRpb249XCJmaXhlZFwiIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyO1wiIGRhdGEtdGFwLXRvZ2dsZT1cImZhbHNlXCI+Iik7CiAgICBkb2N1bWVudC53cml0ZWxuKCI8YSBpZD1cInVtQmFja1wiIGRhdGEtcm9sZT1cImJ1dHRvblwiIGRhdGEtaWNvbj1cImFycm93LWxcIiBjbGFzcz1cInVpLWJ0bi1sZWZ0XCIgb25jbGljaz1cImV4ZVByZXZpb3VzUGFnZU9wZW4oKVwiICBkYXRhLXRoZW1lPVwiYVwiIGRhdGEtaW5saW5lPVwidHJ1ZVwiPkJhY2s8L2E+Iik7CiAgICBkb2N1bWVudC53cml0ZWxuKCI8YSBvbmNsaWNrPVwiZXhlTWVudVBhZ2VPcGVuKClcIiAgIHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyO1wiIGRhdGEtdHJhbnNpdGlvbj1cInNsaWRldXBcIiBkYXRhLWlubGluZT1cInRydWVcIiBkYXRhLWljb249XCJncmlkXCIgZGF0YS10aGVtZT1cImFcIj5NZW51PC9hPiIpOwogICAgZG9jdW1lbnQud3JpdGVsbigiPGEgaWQ9XCJ1bUZvcndhcmRcIiBkYXRhLXJvbGU9XCJidXR0b25cIiBkYXRhLWljb249XCJhcnJvdy1yXCIgY2xhc3M9XCJ1aS1idG4tcmlnaHRcIiBkYXRhLWRpcmVjdGlvbj1cInJldmVyc2VcIiBvbmNsaWNrPVwiZXhlTmV4dFBhZ2VPcGVuKClcIiBkYXRhLXRoZW1lPVwiYVwiIGRhdGEtaW5saW5lPVwidHJ1ZVwiPkZvcndhcmQ8L2E+Iik7CiAgICBkb2N1bWVudC53cml0ZWxuKCI8L2Rpdj4iKTsKfQoKIAo=", "ustadmobile-booklist.js"];
var ustadmobilecommonjs = ["LyoKPCEtLSBUaGlzIGZpbGUgaXMgcGFydCBvZiBVc3RhZCBNb2JpbGUuICAKICAgIAogICAgVXN0YWQgTW9iaWxlIENvcHlyaWdodCAoQykgMjAxMS0yMDEzIFRvdWdocmEgVGVjaG5vbG9naWVzIEZaIExMQy4KCiAgICBVc3RhZCBNb2JpbGUgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQogICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uIHdpdGggdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIHRlcm1zOgogICAgCiAgICBBbGwgbmFtZXMsIGxpbmtzLCBhbmQgbG9nb3Mgb2YgVXN0YWQgTW9iaWxlIGFuZCBUb3VnaHJhIFRlY2hub2xvZ2llcyBGWiAKICAgIExMQyBtdXN0IGJlIGtlcHQgYXMgdGhleSBhcmUgaW4gdGhlIG9yaWdpbmFsIGRpc3RyaWJ1dGlvbi4gIElmIGFueSBuZXcKICAgIHNjcmVlbnMgYXJlIGFkZGVkIHlvdSBtdXN0IGluY2x1ZGUgdGhlIFVzdGFkIE1vYmlsZSBsb2dvIGFzIGl0IGhhcyBiZWVuCiAgICB1c2VkIGluIHRoZSBvcmlnaW5hbCBkaXN0cmlidXRpb24uICBZb3UgbWF5IG5vdCBjcmVhdGUgYW55IG5ldyAKICAgIGZ1bmN0aW9uYWxpdHkgd2hvc2UgcHVycG9zZSBpcyB0byBkaW1pbmlzaCBvciByZW1vdmUgdGhlIFVzdGFkIE1vYmlsZSAKICAgIExvZ28uICBZb3UgbXVzdCBsZWF2ZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgdGhlIGxvZ28gZm9yIHRoZSAKICAgIGFwcGxpY2F0aW9uIHRvIGJlIHVzZWQgd2l0aCBhbnkgbGF1bmNoZXIgKGUuZy4gdGhlIG1vYmlsZSBhcHAgbGF1bmNoZXIpLiAgCiAgICAKICAgIElmIHlvdSB3YW50IGEgY29tbWVyY2lhbCBsaWNlbnNlIHRvIHJlbW92ZSB0aGUgYWJvdmUgcmVzdHJpY3Rpb24geW91IG11c3QKICAgIGNvbnRhY3QgdXMuICAKICAgIAogICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKICAgIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoKICAgIFVzdGFkIE1vYmlsZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAogICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgoKCgpUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZS4gIEl0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBHTlUgR0VORVJBTCBQVUJMSUMgTElDRU5TRSAoIGh0dHA6Ly93d3cuZ251Lm9yZy9jb3B5bGVmdC9ncGwuaHRtbCApIHdpdGggdGhlIGZvbGxvd2luZyAKCkdQTCBMaWNlbnNlIEFkZGl0aW9uYWwgVGVybXMKCkFsbCBuYW1lcywgbGlua3MsIGFuZCBsb2dvcyBvZiBVc3RhZCBNb2JpbGUgYW5kIFRvdWdocmEgVGVjaG5vbG9naWVzIEZaIExMQyBtdXN0IGJlIGtlcHQgYXMgdGhleSBhcmUgaW4gdGhlIG9yaWdpbmFsIGRpc3RyaWJ1dGlvbi4gIElmIGFueSBuZXcgc2NyZWVucyBhcmUgYWRkZWQgeW91IG11c3QgaW5jbHVkZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgaXQgaGFzIGJlZW4gdXNlZCBpbiB0aGUgb3JpZ2luYWwgZGlzdHJpYnV0aW9uLiAgWW91IG1heSBub3QgY3JlYXRlIGFueSBuZXcgZnVuY3Rpb25hbGl0eSB3aG9zZSBwdXJwb3NlIGlzIHRvIGRpbWluaXNoIG9yIHJlbW92ZSB0aGUgVXN0YWQgTW9iaWxlIExvZ28uICBZb3UgbXVzdCBsZWF2ZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgdGhlIGxvZ28gZm9yIHRoZSBhcHBsaWNhdGlvbiB0byBiZSB1c2VkIHdpdGggYW55IGxhdW5jaGVyIChlLmcuIHRoZSBtb2JpbGUgYXBwIGxhdW5jaGVyKS4gIAoKSWYgeW91IG5lZWQgYSBjb21tZXJjaWFsIGxpY2Vuc2UgdG8gcmVtb3ZlIHRoZXNlIHJlc3RyaWN0aW9ucyBwbGVhc2UgY29udGFjdCB1cyBieSBlbWFpbGluZyBpbmZvQHVzdGFkbW9iaWxlLmNvbSAKCi0tPgoKKi8KCi8vVG8gYmUgcnVuIGF0IHRoZSBzdGFydCBvZiBhcHAgYW5kIGF0IGV2ZXJ5IHBhZ2UuIChpbmNsdWRlIGl0IGluIHRoZSBIZWFkZXJFbGVtZW50IHNvIHRoYXQgaXQgaXMgY2FsbGVkIG9uIGV2ZXJ5IHBhZ2UuCgovL3JlcGxhY2UgZXZlcnkgc3RyaW5nIHdpdGggdGhpcyBmdW5jdGlvbi4gZWc6IGFsZXJ0KF8oZXJyb3IpICsgdmFsdWUgKTsKCnZhciBleGVMYXN0UGFnZSA9ICIuLi8iOwp2YXIgZXhlTWVudVBhZ2UgPSAidXN0YWRtb2JpbGVfbWVudVBhZ2UuaHRtbCI7CnZhciBleGVNZW51UGFnZTIgPSAidXN0YWRtb2JpbGVfbWVudVBhZ2UyLmh0bWwiOwovL2xvY2FsU3RvcmFnZS5zZXRJdGVtKCdleGVNZW51UGFnZScsZXhlTWVudVApOwp2YXIgZ2xvYmFsWE1MTGlzdEZvbGRlck5hbWUgPSAiYWxsIjsKCgpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkZXZpY2VyZWFkeScsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RGaWxlU3lzdGVtICA9IHdpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEZpbGVTeXN0ZW07CiAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RGaWxlU3lzdGVtKExvY2FsRmlsZVN5c3RlbS5QRVJTSVNURU5ULCAwLCBnb3RGU3VtYywgY29tbW9uZmFpbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSk7CgpmdW5jdGlvbiBfKG1zZ2lkKSB7CiAgICBpZiAobXNnaWQgaW4gbWVzc2FnZXMpIHsKICAgICAgICByZXR1cm4gbWVzc2FnZXNbbXNnaWRdOwogICAgfWVsc2UgewogICAgICAgIHJldHVybiBtc2dpZDsKICAgIH0KfQoKZnVuY3Rpb24gY29tbW9uZmFpbCgpewogICAgZGVidWdMb2coIkZhaWxlZCBhdCB1c3RhZG1vYmlsZS1jb21tb24uanMuIik7CiAgICBhbGVydCgiU29tZXRoaW5nIHdlbnQgd3JvbmcgaW4gdGhlIGFwcCBzdGFydCBwcm9jZWR1cmUuIik7Cn0KCgpmdW5jdGlvbiBsb2FkTG9jYWxlKGxvY2FsZUNvZGUpIHsKICAgIHZhciBpbXBvcnRlZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwogICAgaW1wb3J0ZWQuc3JjID0gJy9sb2NhbGUvZW4uanMnOyAvLyB0byBiZSBjaGFuZ2VkLgogICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChpbXBvcnRlZCk7Cn0KCmZ1bmN0aW9uIGdvdEZTdW1jKGZpbGVTeXN0ZW0pewogICAgLy93aW5kb3cucm9vdEZTID0gZmlsZVN5c3RlbS5yb290OwogICAgLy9zbyB0aGUgcm9vdEZTLmZ1bGxQYXRoIGlzIHRoZSBhcHAgUGF0aC48IFVzZSB0aGF0IChub3QgdGVzdGVkKS4KCWRlYnVnTG9nKCJDb3Jkb3ZhIGlzIHJlYWR5OiBpbiB1c3RhZG1vYmlsZS1jb21tb24uanMiKTsKCS8vYWxlcnQoIlNUQVJUVVA6IENvcmRvdmEgaXMgcmVhZHkiKTsKCQl2YXIgZ2V0RGlyID0gInVzdGFkbW9iaWxlQ29udGVudCI7CiAgICAgICAgZGVidWdMb2coIkNIRUNLSU5HIElGIERJUkVDVE9SWTogIiArIGdldERpciArICIgRVhJU1RTLiBJRiBOT1QsIENSRUFUSU5HIElULiIpOwogICAgICAgIGZpbGVTeXN0ZW0ucm9vdC5nZXREaXJlY3RvcnkoZ2V0RGlyLCB7Y3JlYXRlOnRydWUsIGV4Y2x1c2l2ZTpmYWxzZX0sIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGRlYnVnTG9nKCJTVEFSVFVQOiBDcmVhdGluZyBEaXIgL3VzdGFkbW9iaWxlQ29udGVudC8gc3VjY2VzcyBvciBhbHJlYWR5IGV4aXN0cy4iKTsKCQkJdmFyIGdldERpcjIgPSAidXN0YWRtb2JpbGVDb250ZW50LyIgKyBnbG9iYWxYTUxMaXN0Rm9sZGVyTmFtZTsKCQkJZGVidWdMb2coIlNUQVJUVVA6IENIRUNLSU5HIElGIERJUkVDVE9SWTogIiArIGdldERpcjIgKyAiIEVYSVNUUy4gSUYgTk9ULCBDUkVBVElORyBJVC4iKTsKCQkJZmlsZVN5c3RlbS5yb290LmdldERpcmVjdG9yeShnZXREaXIyLCB7Y3JlYXRlOnRydWUsIGV4Y2x1c2l2ZTpmYWxzZX0sIGZ1bmN0aW9uKCl7CgkJCQkJZGVidWdMb2coIlNUQVJUVVA6IENyZWF0aW5nIERpciAvdXN0YWRtb2JpbGVDb250ZW50L2FsbCBzdWNjZXNzIG9yIGFscmVhZHkgZXhpc3RzLiIpOwoJCQkJfSwgZnVuY3Rpb24oKXtkZWJ1Z0xvZygiU1RBUlRVUDogQ3JlYXRpbmcgcGFja2FnZSBEaXIgL3VzdGFkbW9iaWxlQ29udGVudC8gdW5zdWNjZXNzLiIpOyQubW9iaWxlLmxvYWRpbmcoJ2hpZGUnKTsgYWxlcnQoIlNUQVJUVVA6IFNvbWUgZmVhdHVyZXMgbWlnaHQgbm90IHdvcmsgb24geW91ciBkZXZpY2UuIik7fSk7CiAgICAgICAgfSwgZnVuY3Rpb24oKXtkZWJ1Z0xvZygiU1RBUlRVUDogQ3JlYXRpbmcgcGFja2FnZSBEaXIgL3VzdGFkbW9iaWxlQ29udGVudC9hbGwvIHVuc3VjY2Vzcy4iKTskLm1vYmlsZS5sb2FkaW5nKCdoaWRlJyk7IGFsZXJ0KCJTVEFSVFVQOiBTb21lIGZlYXR1cmVzIG1pZ2h0IG5vdCB3b3JrIG9uIHlvdXIgZGV2aWNlLiIpO30pOwp9CgoK", "ustadmobile-common.js"];
var ustadmobileconstantsjs = ["LyoKPCEtLSBUaGlzIGZpbGUgaXMgcGFydCBvZiBVc3RhZCBNb2JpbGUuICAKICAgIAogICAgVXN0YWQgTW9iaWxlIENvcHlyaWdodCAoQykgMjAxMS0yMDEzIFRvdWdocmEgVGVjaG5vbG9naWVzIEZaIExMQy4KCiAgICBVc3RhZCBNb2JpbGUgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQogICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uIHdpdGggdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIHRlcm1zOgogICAgCiAgICBBbGwgbmFtZXMsIGxpbmtzLCBhbmQgbG9nb3Mgb2YgVXN0YWQgTW9iaWxlIGFuZCBUb3VnaHJhIFRlY2hub2xvZ2llcyBGWiAKICAgIExMQyBtdXN0IGJlIGtlcHQgYXMgdGhleSBhcmUgaW4gdGhlIG9yaWdpbmFsIGRpc3RyaWJ1dGlvbi4gIElmIGFueSBuZXcKICAgIHNjcmVlbnMgYXJlIGFkZGVkIHlvdSBtdXN0IGluY2x1ZGUgdGhlIFVzdGFkIE1vYmlsZSBsb2dvIGFzIGl0IGhhcyBiZWVuCiAgICB1c2VkIGluIHRoZSBvcmlnaW5hbCBkaXN0cmlidXRpb24uICBZb3UgbWF5IG5vdCBjcmVhdGUgYW55IG5ldyAKICAgIGZ1bmN0aW9uYWxpdHkgd2hvc2UgcHVycG9zZSBpcyB0byBkaW1pbmlzaCBvciByZW1vdmUgdGhlIFVzdGFkIE1vYmlsZSAKICAgIExvZ28uICBZb3UgbXVzdCBsZWF2ZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgdGhlIGxvZ28gZm9yIHRoZSAKICAgIGFwcGxpY2F0aW9uIHRvIGJlIHVzZWQgd2l0aCBhbnkgbGF1bmNoZXIgKGUuZy4gdGhlIG1vYmlsZSBhcHAgbGF1bmNoZXIpLiAgCiAgICAKICAgIElmIHlvdSB3YW50IGEgY29tbWVyY2lhbCBsaWNlbnNlIHRvIHJlbW92ZSB0aGUgYWJvdmUgcmVzdHJpY3Rpb24geW91IG11c3QKICAgIGNvbnRhY3QgdXMuICAKICAgIAogICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKICAgIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoKICAgIFVzdGFkIE1vYmlsZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAogICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgoKCgpUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZS4gIEl0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBHTlUgR0VORVJBTCBQVUJMSUMgTElDRU5TRSAoIGh0dHA6Ly93d3cuZ251Lm9yZy9jb3B5bGVmdC9ncGwuaHRtbCApIHdpdGggdGhlIGZvbGxvd2luZyAKCkdQTCBMaWNlbnNlIEFkZGl0aW9uYWwgVGVybXMKCkFsbCBuYW1lcywgbGlua3MsIGFuZCBsb2dvcyBvZiBVc3RhZCBNb2JpbGUgYW5kIFRvdWdocmEgVGVjaG5vbG9naWVzIEZaIExMQyBtdXN0IGJlIGtlcHQgYXMgdGhleSBhcmUgaW4gdGhlIG9yaWdpbmFsIGRpc3RyaWJ1dGlvbi4gIElmIGFueSBuZXcgc2NyZWVucyBhcmUgYWRkZWQgeW91IG11c3QgaW5jbHVkZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgaXQgaGFzIGJlZW4gdXNlZCBpbiB0aGUgb3JpZ2luYWwgZGlzdHJpYnV0aW9uLiAgWW91IG1heSBub3QgY3JlYXRlIGFueSBuZXcgZnVuY3Rpb25hbGl0eSB3aG9zZSBwdXJwb3NlIGlzIHRvIGRpbWluaXNoIG9yIHJlbW92ZSB0aGUgVXN0YWQgTW9iaWxlIExvZ28uICBZb3UgbXVzdCBsZWF2ZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgdGhlIGxvZ28gZm9yIHRoZSBhcHBsaWNhdGlvbiB0byBiZSB1c2VkIHdpdGggYW55IGxhdW5jaGVyIChlLmcuIHRoZSBtb2JpbGUgYXBwIGxhdW5jaGVyKS4gIAoKSWYgeW91IG5lZWQgYSBjb21tZXJjaWFsIGxpY2Vuc2UgdG8gcmVtb3ZlIHRoZXNlIHJlc3RyaWN0aW9ucyBwbGVhc2UgY29udGFjdCB1cyBieSBlbWFpbGluZyBpbmZvQHVzdGFkbW9iaWxlLmNvbSAKCi0tPgoKKi8KCi8vIFN0aWxsIGRldmVsb3BpbmcuLgoKLy9EbyBub3QgY2hhbmdlLSB3aWxsIGJlIHJlZ2VuZXJhdGVkCgoKdXN0YWRBcHBQYXRoID0gIi9ibGFoL2JsYWgiOwoKLy91c3RhZFRoZW1lRGlyID0gCgovL2RvY3VtZW50LmxvY2F0aW9uLmhyZWYKCgoK", "ustadmobile-constants.js"];
var ustadmobilegetpackagesjs = ["IC8qCiAgICA8IS0tIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFVzdGFkIE1vYmlsZS4gIAogICAgCiAgICBVc3RhZCBNb2JpbGUgQ29weXJpZ2h0IChDKSAyMDExLTIwMTMgVG91Z2hyYSBUZWNobm9sb2dpZXMgRlogTExDLgoKICAgIFVzdGFkIE1vYmlsZSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQogICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3IKICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24gd2l0aCB0aGUgZm9sbG93aW5nIGFkZGl0aW9uYWwgdGVybXM6CiAgICAKICAgIEFsbCBuYW1lcywgbGlua3MsIGFuZCBsb2dvcyBvZiBVc3RhZCBNb2JpbGUgYW5kIFRvdWdocmEgVGVjaG5vbG9naWVzIEZaIAogICAgTExDIG11c3QgYmUga2VwdCBhcyB0aGV5IGFyZSBpbiB0aGUgb3JpZ2luYWwgZGlzdHJpYnV0aW9uLiAgSWYgYW55IG5ldwogICAgc2NyZWVucyBhcmUgYWRkZWQgeW91IG11c3QgaW5jbHVkZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgaXQgaGFzIGJlZW4KICAgIHVzZWQgaW4gdGhlIG9yaWdpbmFsIGRpc3RyaWJ1dGlvbi4gIFlvdSBtYXkgbm90IGNyZWF0ZSBhbnkgbmV3IAogICAgZnVuY3Rpb25hbGl0eSB3aG9zZSBwdXJwb3NlIGlzIHRvIGRpbWluaXNoIG9yIHJlbW92ZSB0aGUgVXN0YWQgTW9iaWxlIAogICAgTG9nby4gIFlvdSBtdXN0IGxlYXZlIHRoZSBVc3RhZCBNb2JpbGUgbG9nbyBhcyB0aGUgbG9nbyBmb3IgdGhlIAogICAgYXBwbGljYXRpb24gdG8gYmUgdXNlZCB3aXRoIGFueSBsYXVuY2hlciAoZS5nLiB0aGUgbW9iaWxlIGFwcCBsYXVuY2hlcikuICAKICAgIAogICAgSWYgeW91IHdhbnQgYSBjb21tZXJjaWFsIGxpY2Vuc2UgdG8gcmVtb3ZlIHRoZSBhYm92ZSByZXN0cmljdGlvbiB5b3UgbXVzdAogICAgY29udGFjdCB1cy4gIAogICAgCiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQogICAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW0uICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uCgogICAgVXN0YWQgTW9iaWxlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgogICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQogICAgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KCgoKClRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlLiAgSXQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEdOVSBHRU5FUkFMIFBVQkxJQyBMSUNFTlNFICggaHR0cDovL3d3dy5nbnUub3JnL2NvcHlsZWZ0L2dwbC5odG1sICkgd2l0aCB0aGUgZm9sbG93aW5nIAoKR1BMIExpY2Vuc2UgQWRkaXRpb25hbCBUZXJtcwoKQWxsIG5hbWVzLCBsaW5rcywgYW5kIGxvZ29zIG9mIFVzdGFkIE1vYmlsZSBhbmQgVG91Z2hyYSBUZWNobm9sb2dpZXMgRlogTExDIG11c3QgYmUga2VwdCBhcyB0aGV5IGFyZSBpbiB0aGUgb3JpZ2luYWwgZGlzdHJpYnV0aW9uLiAgSWYgYW55IG5ldyBzY3JlZW5zIGFyZSBhZGRlZCB5b3UgbXVzdCBpbmNsdWRlIHRoZSBVc3RhZCBNb2JpbGUgbG9nbyBhcyBpdCBoYXMgYmVlbiB1c2VkIGluIHRoZSBvcmlnaW5hbCBkaXN0cmlidXRpb24uICBZb3UgbWF5IG5vdCBjcmVhdGUgYW55IG5ldyBmdW5jdGlvbmFsaXR5IHdob3NlIHB1cnBvc2UgaXMgdG8gZGltaW5pc2ggb3IgcmVtb3ZlIHRoZSBVc3RhZCBNb2JpbGUgTG9nby4gIFlvdSBtdXN0IGxlYXZlIHRoZSBVc3RhZCBNb2JpbGUgbG9nbyBhcyB0aGUgbG9nbyBmb3IgdGhlIGFwcGxpY2F0aW9uIHRvIGJlIHVzZWQgd2l0aCBhbnkgbGF1bmNoZXIgKGUuZy4gdGhlIG1vYmlsZSBhcHAgbGF1bmNoZXIpLiAgCgpJZiB5b3UgbmVlZCBhIGNvbW1lcmNpYWwgbGljZW5zZSB0byByZW1vdmUgdGhlc2UgcmVzdHJpY3Rpb25zIHBsZWFzZSBjb250YWN0IHVzIGJ5IGVtYWlsaW5nIGluZm9AdXN0YWRtb2JpbGUuY29tIAoKLS0+CjwhLS0KICAgVGhpcyBpcyB0aGUgamF2YXNyaXB0IHRoYXQgYWNjb21wYW5pZXMgdGhlIHBhZ2Ugd2hlcmUgdXNlciByZXF1ZXN0cyBmb3IgYSBsaXN0IG9mIHVzdGFkIG1vYmlsZSBwYWNrYWdlcyBhdmFpbGFibGUgYW5kIGlzIGFibGUgdG8gc2VsZWN0IGFuZCBmZXRjaCBhbGwgdGhlIGZpbGVzIHN1Y2ggdGhhdCBpdCB3aWxsIGJlIGF2YWlsYWJsZSBPdmVyIFRoZSBBaXIgb24gdGhlIGRldmljZSBpdHNlbGYuIAotLT4KKi8KICAgIHZhciBnbG9iYWxYTUxMaXN0Rm9sZGVyTmFtZSA9ICJhbGwiOwogICAgdmFyIHJvb3RQYXRoOyAvL0RvZXNuJ3QgY2hhbmdlIHRocm91Z2hvdXQgdGhlIHByb2dyYW0uCiAgICB2YXIgcm9vdFVSTDsgLy9CQjEwIHJvb3QgaXMgc2xpZ2h0bHkgZGlmZmVyZW50LgogICAgdmFyIHVtZ3BQbGF0Zm9ybTsKICAgIHZhciBmaWxlTmFtZSA9ICIiOyAvL2ZpbGVOYW1lIGVpdGhlciBMaXN0IG9mIFBhY2thZ2VzIG9yIHRoZSBQYWNrYWdlcyBpdCBzZWxmLgogICAgdmFyIHBhY2thZ2VTdHJpbmcgPSAiIjsgLy9lZzogaHR0cDovL3d3dy51c3RhZG1vYmlsZS9ib29rcy9UZXN0UGFja2FnZTNfdXN0YWRwa2dfaHRtbDUueG1sCiAgICB2YXIgcGFja2FnZUZvbGRlck5hbWUgPSAiIjsgLy8gZWc6IFRlc3RQYWNrYWdlMwogICAgdmFyIGFsbEZpbGVEb3dubG9hZENhbGxiYWNrID0gbnVsbDsKCiAgICB2YXIgcGFja2FnZUxpc3RTdHJpbmcgPSAiaHR0cDovL3d3dy51c3RhZG1vYmlsZS5jb20vYm9va3MvYWxsX3VzdGFkcGtnX2h0bWw1LnhtbCI7IC8vIEluIGZ1dHVyZSB3aWxsIGJlIGEgdmFyaWFibGUgdGhhdCBNYW5hZ2VycyBjYW4gc2V0LgogICAgdmFyIHBhY2thZ2VMaXN0RmlsZU5hbWUgPSAiIjsgLy8gVGhpcyBjaGFuZ2VzLiBlZzogYWxsX3VzdGFkcGtnX2h0bWw1LnhtbAogICAgdmFyIHBhY2thZ2VMaXN0Rm9sZGVyTmFtZSA9ICIiOyAvLyBlZzogYWxsOiBIb3dldmVyIHlvdSBhbmQgeW91ciBzZXJ2ZXIgbWlnaHQgZGVmaW5lLiBIZXJlIHdpdGggdXN0YWRtb2JpbGUuY29tIHNlcnZlciBkZWZpbmVkIGFzICJhbGwiLgoKICAgIC8vbGlzdCBvZiBmaWxlcyB0aGF0IG5lZWQgZG93bmxvYWRlZAogICAgdmFyIGZpbGVEb3dubG9hZExpc3Q7CgogICAgLy9GaWxlIGluZGV4IGFzIHdlIGdvIHRocm91Z2ggdGhlIGRvd25sb2Fkcy4KICAgIHZhciBjdXJyZW50RmlsZURvd25sb2FkSW5kZXggPSAwOwoKICAgIHZhciBmaWxlWE1MQ2FsbGJhY2sgPSBudWxsOwogICAgdmFyIHBhY2thZ2VYTUxDYWxsYmFjayA9IG51bGw7CgogICAgLyogR2VuZXJhbCwgYWxsIHB1cnBvc2UgZmFpbCBmdW5jdGlvbi4qLwogICAgZnVuY3Rpb24gZmFpbDIoKXsKICAgICAgZGVidWdMb2coIlNvbWV0aGluZyB3ZW50IHdyb25nIik7CiAgICAgIGFsZXJ0KCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOy8vZXJyb3J1bmtub3duIChtZXNzYWdlcyBmcm9tIGVuLmpzKQogICAgICAkLm1vYmlsZS5sb2FkaW5nKCdoaWRlJyk7CiAgICB9CgogICAgLyogRG93bmxvYWQgZmFpbCBmdW5jdGlvbiBjYWxsZWQgaW4gYmF0Y2ggZG93bmxvYWQgcHJvY2Vzcy4gSWYgYSBmaWxlIGlzIG5vdCBmb3VuZCwgaXQgd2lsbCBzdGlsbCBjb250aW51ZSB3aXRoIHRoZSBuZXh0IGZpbGUuIiAqLwogICAgZnVuY3Rpb24gZG93bmxvYWRmYWlsKCl7CiAgICAgICAgZGVidWdMb2coIiFEb3dubG9hZCBGYWlsZWQuIik7CiAgICAgICAgZGVidWdMb2coIlRyeWluZyB0aGUgbmV4dCBmaWxlLi4iKTsKICAgICAgICBkb3dubG9hZE5leHRGaWxlKCk7ICAgICAgICAKICAgIH0KICAgIAogICAgLyogRG93bmxvYWQgZmFpbCBmdW5jdGlvbiB3aGVuIG9uZSBmaWxlIChMaXN0IHhtbCBvciBQYWNrYWdlIHhtbCkgZmlsZSBpcyB1bmFibGUgdG8gYmUgZG93bmxvYWRlZC4gKi8KICAgIGZ1bmN0aW9uIGRvd25sb2FkZmFpbChjdXJyZW50RmlsZU4pewogICAgICAgIGRlYnVnTG9nKCIhQ291bGRuIG5vdCBkb3dubG9hZCBhIGZpbGU6ICIgKyBjdXJyZW50RmlsZU4pOyAgICAgICAgCiAgICAgICAgYWxlcnQoIkNvdWxkIG5vdCBkb3dubG9hZCB0aGUgZmlsZS4gQ2hlY2sgaWYgcGF0aCBpcyBjb3JyZWN0IG9uIHRoZSBzZXJ2ZXIgbGlzdC4iKTsKICAgIH0KCgogICAgLyogVGhlIHN0YXJ0aW5nIGZ1bmN0aW9uIHRvIExpc3QgYWxsIFBhY2thZ2VzIGZyb20gdGhlIHNlcnZlciB1cmwgbWVudGlvbmVkIGdsb2JhbGx5OiBwYWNrYWdlTGlzdFN0cmluZy4gCiAgICAgICAgLy8xLiBEb3dubG9hZCBhbiB4bWwgZnJvbSB0aGUgc2VydmVyIHVybC4KICAgICAgICAvLzIuIE9wZW4gaXMgYW5kIGxpc3QgaXQuCiAgICAgICAgLy8zLiBBcyB3ZSBnbyB0aHJvdWdoLCB3ZSBtYWtlIGEgbGlzdC4KICAgICAgICAvLzQuIFRoZSBsaW5rIG9mIHRoZSBsaXN0IGlzIHRvIGRvd25sb2FkIHRoZSBmaWxlLgogICAgICAgIC8vNS4gQSBkaWFsb2cgYm94IGNvbmZpcm1pbmcgZG93bmxvYWQobWF5YmUgU2l6ZSBwYXJhbWV0ZXI/KQogICAgICAgIC8vNi4gV2hlbiBjb25maXJtZWQsIHRoZSBYTUwgZG93bmxvYWQgaXMgY2FsbGVkIGFuZCB0aGVuIHRoZSBYTUwgcHJvY2Vzc2luZyBmdW5jdGlvbiB0b28uIFRoZW4gRG9uZS4KICAgICAgICAvLzcuIEhhdmUgYSBsaW5rPCBCYWNrIHRvIEJvb2svUGFja2FnZSBMaXN0LiAgICAKICAgICovCiAgICBmdW5jdGlvbiBsaXN0UGFja2FnZXNGcm9tU2VydmVyKCl7CiAgICAgICAgJC5tb2JpbGUubG9hZGluZygnc2hvdycsIHsKICAgICAgICAgICAgdGV4dDogeF8oJ0NvbnRhY3RpbmcgdGhlIHNlcnZlci4uJyksCiAgICAgICAgICAgIHRleHRWaXNpYmxlOiB0cnVlLAogICAgICAgICAgICB0aGVtZTogJ2InLAogICAgICAgICAgICBodG1sOiAiIn0KICAgICAgICApOwogICAgICAgICQoIiNwYWNrYWdlTGlzdCIpLmVtcHR5KCkuYXBwZW5kKCk7CiAgICAgICAgLy92YXIgc2VydmVydXJsID0gImh0dHA6Ly8iOyAvL0luIGZ1dHVyZSB3ZSBjYW4gdXNlIGl0IGFuZCB3ZSBjYW4gZ2xvYmFsaXNlIGl0LgogICAgICAgIG9uUGFja2FnZUxpc3RUcmFuc2ZlcigpOyAgICAgCiAgICB9CiAgICAvLyBDaGVjayB0byBzZWUgaWYgQ29yZG92YSBpcyByZWFkeSBhbmQgZm9sbG93aW5nIGZ1bmN0aW9ucyB0byBnZXQgcm9vdFBhdGggdGhyb3VnaCBmaWxlIFN5c3RlbS4KICAgIC8vIE5lZWRlZCBhcyB0aGlzIHdpbGwgYmUgdGhlIGZpcnN0IGNhbGwgdG8gdGhlIHNlcnZlci4KICAgIGZ1bmN0aW9uIG9uUGFja2FnZUxpc3RUcmFuc2ZlcigpewogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RldmljZXJlYWR5JywgYmVnaW5QYWNrYWdlTGlzdFRyYW5zZmVyLCBmdW5jdGlvbigpe2FsZXJ0KCJTb21ldGhpbmcgd2VudCB3cm9uZyBpbiBjaGVja2luZyBDb3Jkb3ZhIHJlYWR5LiIpOyBkZWJ1Z0xvZygiU29tZXRoaW5nIHdlbnQgd3Jvbmcgb24gZGV2aWNlcmVhZHkgYXQgZnVuY3Rpb246IG9uUGFja2FnZUxpc3RUcmFuc2ZlcigpIik7fSk7CiAgICB9CgogICAgZnVuY3Rpb24gYmVnaW5QYWNrYWdlTGlzdFRyYW5zZmVyKCl7CiAgICAgICAgd2luZG93LnJlcXVlc3RGaWxlU3lzdGVtKExvY2FsRmlsZVN5c3RlbS5QRVJTSVNURU5ULCAwLCBnb3RSb290TGlzdERpclBhY2thZ2UsIGZ1bmN0aW9uKCl7YWxlcnQoIlNvbWV0aGluZyB3ZW50IHdyb25nIGluIGdldHRpbmcgdGhlIGZpbGVTeXN0ZW0uIik7IGRlYnVnTG9nKCJTb21ldGhpbmcgd2VudCB3cm9uZyBpbiBnZXR0aW5nIGZpbGUgc3lzdGVtLCBiZWdpblBhY2thZ2VMaXN0VHJhbnNmZXIoKSIpO30pOwogICAgfQoKICAgIC8qCiAgICAgICAgRnVuY3Rpb24gdGhhdCBnZXRzIHRoZSByb290UGF0aCwgZ2V0cyBYTUwgTGlzdCcgZmlsZSBuYW1lIGFuZCBmb2xkZXIgTmFtZSBmb3IgaXQgdG8gYmUgc3RvcmVkIGF0IHRvIGZpbmFsbHkgZG93bmxvYWQgdGhlIG1haW4gcGFja2FnZSBsaXN0IHhtbCBmaWxlLiAKICAgICovCiAgICBmdW5jdGlvbiBnb3RSb290TGlzdERpclBhY2thZ2Uocm9vdEZTKXsKICAgICAgICByb290UGF0aCA9IHJvb3RGUy5yb290LmZ1bGxQYXRoOwogICAgICAgIHJvb3RVUkwgPSByb290RlMucm9vdC50b1VSTCgpOwogICAgICAgIGNvbnNvbGUubG9nKCJyb290UGF0aCBpczogIiArIHJvb3RQYXRoICsgIiBhbmQgcm9vdFVSTCBpczogIiArIHJvb3RVUkwpOwogICAgICAgIHZhciB1cmlTcGxpdCA9IHBhY2thZ2VMaXN0U3RyaW5nLnNwbGl0KCIvIik7CiAgICAgICAgdmFyIGxhc3RQb3MgPSB1cmlTcGxpdC5sZW5ndGggLSAxOwogICAgICAgICAgICBwYWNrYWdlTGlzdEZpbGVOYW1lID0gdXJpU3BsaXRbbGFzdFBvc107ICAgICAgICAKICAgICAgICB2YXIgZmlsZU5hbWVDaGVja0FycmF5ID0gcGFja2FnZUxpc3RGaWxlTmFtZS5zcGxpdCgiX3VzdGFkcGtnIik7CiAgICAgICAgdmFyIHBhY2thZ2VGb2xkZXJOYW1lUG9zID0gZmlsZU5hbWVDaGVja0FycmF5Lmxlbmd0aCAtIDI7CiAgICAgICAgICAgIHBhY2thZ2VMaXN0Rm9sZGVyTmFtZSA9IGZpbGVOYW1lQ2hlY2tBcnJheVtwYWNrYWdlRm9sZGVyTmFtZVBvc107CiAgICAgICAgaWYgKCFwYWNrYWdlTGlzdEZvbGRlck5hbWUpewogICAgICAgICAgICBwYWNrYWdlTGlzdEZvbGRlck5hbWU9IiI7CiAgICAgICAgfQoJCQoJCQoJCQogICAgICAgIHZhciBsYXN0RmlsZU5hbWVQb3MgPSBmaWxlTmFtZUNoZWNrQXJyYXkubGVuZ3RoIC0gMTsKICAgICAgICB2YXIgZmlsZU5hbWVDaGVjayA9IGZpbGVOYW1lQ2hlY2tBcnJheVtsYXN0RmlsZU5hbWVQb3NdOwogICAgICAgIGlmIChmaWxlTmFtZUNoZWNrID09ICJfaHRtbDUueG1sIiApIHsKICAgICAgICAgICAgZGVidWdMb2coIlNwZWNpZmllZCBmaWxlOiAiICsgcGFja2FnZUxpc3RGaWxlTmFtZSArICIgaXMgYW4gdXN0YWRtb2JpbGUgcGFja2FnZSBsaXN0IHhtbC4iKTsKICAgICAgICAgICAgc3RhcnRGaWxlRG93bmxvYWQocGFja2FnZUxpc3RTdHJpbmcsIHBhY2thZ2VMaXN0Rm9sZGVyTmFtZSk7CiAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICAgIGFsZXJ0KCJVbmFibGUgdG8gZmV0Y2ggbGlzdCBvZiBhdmFpbGFibGUgcGFja2FnZXMgb24gdGhlIHNlcnZlci4gQ2hlY2sgaWYgcGF0aCB0byBsaXN0IGlzIGNvcnJlY3Q6IiArIGZpbGVOYW1lQ2hlY2spOwogICAgICAgICAgICBkZWJ1Z0xvZygiSW52YWxpZCBwYWNrYWdlIG5hbWUuIE5vdCBhIHBhY2thZ2UgbGlzdCB4bWwgb3IgZG9lc250IGVuZCB3aXRoIGFsbF91c3RhZHBrZ19odG1sNS4uIik7CiAgICAgICAgfQogICAgfQoKICAgIC8qIAogICAgICAgIEZ1bmN0aW9uIHRoYXQgc3RhcnRzIHRvIGZldGNoIHRoZSBkb3dubG9hZGVkIGZpbGUgYnkgZ2V0aXRuZ3MgaXQgbmFtZSBhbmQgZm9sZGVyIExvY2FsdGlvbiB3aXRoIHJlc3BlY3QgdG8gRGV2aWNlJ3Mgcm9vdCBkaXJlY3RvcnkuCiAgICAqLwogICAgZnVuY3Rpb24gb25saXN0UGFja2FnZXMobXNnKXsKICAgICAgICAkLm1vYmlsZS5sb2FkaW5nKCdzaG93JywgewogICAgICAgICAgICB0ZXh0OiB4XygnTGlzdGluZyB0aGUgYXZhaWxhYmxlIGNvdXJzZXMuLicpLAogICAgICAgICAgICB0ZXh0VmlzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgdGhlbWU6ICdiJywKICAgICAgICAgICAgaHRtbDogIiIKICAgICAgICB9KTsgICAgICAgICAgCiAgICAgICAgdmFyIHVyaVNwbGl0ID0gcGFja2FnZUxpc3RTdHJpbmcuc3BsaXQoIi8iKTsKICAgICAgICB2YXIgbGFzdFBvcyA9IHVyaVNwbGl0Lmxlbmd0aCAtIDE7CiAgICAgICAgICAgIHBhY2thZ2VMaXN0RmlsZU5hbWUgPSB1cmlTcGxpdFtsYXN0UG9zXTsgIAogICAgICAgIHZhciBmaWxlTmFtZUNoZWNrQXJyYXkgPSBwYWNrYWdlTGlzdEZpbGVOYW1lLnNwbGl0KCJfdXN0YWRwa2ciKTsKICAgICAgICB2YXIgcGFja2FnZUZvbGRlck5hbWVQb3MgPSBmaWxlTmFtZUNoZWNrQXJyYXkubGVuZ3RoIC0gMjsKICAgICAgICAgICAgcGFja2FnZUxpc3RGb2xkZXJOYW1lID0gZmlsZU5hbWVDaGVja0FycmF5W3BhY2thZ2VGb2xkZXJOYW1lUG9zXTsKICAgICAgICBpZiAoIXBhY2thZ2VMaXN0Rm9sZGVyTmFtZSl7CiAgICAgICAgICAgIHBhY2thZ2VMaXN0Rm9sZGVyTmFtZT0iIjsKICAgICAgICB9CiAgICAgICAgd2luZG93LnJlcXVlc3RGaWxlU3lzdGVtKExvY2FsRmlsZVN5c3RlbS5QRVJTSVNURU5ULCAwLCBnZXRYTUxMaXN0RmlsZSwgZnVuY3Rpb24oKXthbGVydCgiU29tZXRoaW5nIHdlbnQgd3JvbmcgaW4gZ2V0dGluZyBmaWxlIFN5c3RlbSBmb3IgcGFja2FnZXMuIik7IGRlYnVnTG9nKCJTb21ldGhpbmcgd2VudCB3cm9uZyBvbiBnZXR0aW5nIGZpbGUgc3lzdGVtIGluIG9ubGlzdFBhY2thZ2VzKG1zZykiKTt9KTsKICAgIH0KCiAgICAvLyBUaGlzIGZ1bmN0aW9uIGNhbGxzIHRoZSBmaWxlIGdldHRpbmcgbWV0aG9kIG9mIEZpbGVFbnRyeS4KICAgIGZ1bmN0aW9uIGdldFhNTExpc3RGaWxlKGZpbGVTeXN0ZW0pewogICAgICAgIC8vYWxlcnQoIm1lc3NhZ2U6ICIgKyBtc2cpOwogICAgICAgIGRlYnVnTG9nKCJHb3QgWE1MIExpc3QgRmlsZVN5c3RlbS4iKTsKICAgICAgICAgICAgcm9vdFBhdGggPSBmaWxlU3lzdGVtLnJvb3QuZnVsbFBhdGg7CiAgICAgICAgdmFyIGZvcnhtbCA9ICJ1c3RhZG1vYmlsZUNvbnRlbnQvIiArIHBhY2thZ2VMaXN0Rm9sZGVyTmFtZSArICIvIiArIHBhY2thZ2VMaXN0RmlsZU5hbWU7CiAgICAgICAgZGVidWdMb2coIlhNTCBMaXN0IFByb2Nlc3Npbmcgc3RhcnRlZC4iKTsKICAgICAgICBkZWJ1Z0xvZygiWE1MIExpc3QgZmlsZSB3YXMgZG93bmxvYWRlZCBmcm9tIFVSTDogIiArIHBhY2thZ2VMaXN0U3RyaW5nICk7CiAgICAgICAgdmFyIHBhdGhUb1BhY2thZ2VGaWxlID0gcm9vdFBhdGggKyAiL3VzdGFkbW9iaWxlQ29udGVudC8iICsgcGFja2FnZUxpc3RGb2xkZXJOYW1lICsgIi8iICsgcGFja2FnZUxpc3RGaWxlTmFtZTsKICAgICAgICBkZWJ1Z0xvZygiVGhlIFhNTCBMaXN0IGxvY2F0aW9uIG9uIHRoZSBkZXZpY2UgaXM6ICIgKyBwYXRoVG9QYWNrYWdlRmlsZSk7ICAgICAgICAgICAgCiAgICAgICAgdmFyIGdldERpciA9ICJ1c3RhZG1vYmlsZUNvbnRlbnQvIiArIHBhY2thZ2VMaXN0Rm9sZGVyTmFtZTsgLy9Ob3RlIGhvdyB0aGVyZSBpcyBubyAiLyIgaW4gdGhlIHN0YXJ0LgogICAgICAgIGRlYnVnTG9nKCJDSEVDS0lORyBJRiBESVJFQ1RPUlk6ICIgKyBnZXREaXIrICIgRVhJU1RTLiBJRiBOT1QsIENSRUFUSU5HIElULiIpOwogICAgICAgIGZpbGVTeXN0ZW0ucm9vdC5nZXREaXJlY3RvcnkoZ2V0RGlyLCB7Y3JlYXRlOnRydWUsIGV4Y2x1c2l2ZTpmYWxzZX0sIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGRlYnVnTG9nKCJDcmVhdGluZyBMaXN0IERpciBzdWNjZXNzLiIpOwogICAgICAgICAgICBkZWJ1Z0xvZygiZm9yeG1sIGlzOiAiICsgZm9yeG1sKTsgICAKICAgICAgICAgICAgZGVidWdMb2coIkdFVFRJTkcgVEhFIExJU1QgWE1MISIpOwogICAgICAgICAgICBmaWxlU3lzdGVtLnJvb3QuZ2V0RmlsZShmb3J4bWwsIHtjcmVhdGU6ZmFsc2UsIGV4Y2x1c2l2ZTpmYWxzZX0sZ290WE1MRmlsZUxpc3QsIGZ1bmN0aW9uKCl7YWxlcnQoIlNvbWV0aGluZyB3ZW50IHdyb25nIGluIGdldHRpbmcgZmlsZSBmb3IgWE1MIExpc3QgcHJvY2Vzc2luZy4iKTsgZGVidWdMb2coIlNvbWV0aGluZyB3ZW50IHdyb25nIG9uIGdldHRpbmcgZmlsZSBhdCBnZXRYTUxMaXN0RmlsZShmaWxlU3lzdGVtKSIpO30pOwogICAgICAgIH0sZnVuY3Rpb24oKXtkZWJ1Z0xvZygiQ3JlYXRpbmcgbGlzdCBEaXIgdW5zdWNjZXNzLiIpOyQubW9iaWxlLmxvYWRpbmcoJ2hpZGUnKTthbGVydCgiR2V0dGluZyBQYWNrYWdlcyBMaXN0IG9uIHRvIHlvdXIgZGV2aWNlIGZhaWxlZC4iKTt9KTsKICAgICAgICAKICAgIH0KICAKICAgIGZ1bmN0aW9uIGdvdFhNTEZpbGVMaXN0KGZpbGVFbnRyeSl7CiAgICAgICAgZGVidWdMb2coIkdvdCBYTUwgZmlsZS4iKTsKICAgICAgICBmaWxlRW50cnkuZmlsZShnb3RYTUxMaXN0RmlsZSxmdW5jdGlvbigpe2FsZXJ0KCJTb21ldGhpbmcgd2VudCB3cm9uZyBpbiBnZXR0aW5nIFhNTCBmaWxlIChQYWNrYWdlIExpc3QpIik7IGRlYnVnTG9nKCJTb21ldGhpbmcgd2VudCB3cm9uZyBpbiBnZXR0aW5nIFhNTCBQYWNrYWdlIExpc3Qgb2YgZnVuY3Rpb24gZ290WE1MRmlsZUxpc3QoZmlsZUVudHJ5KSIpO30pOwogICAgfQogICAgCiAgICAvL1JlYWRpbmcgdGhlIHhtbCBsaXN0IGZpbGUuCiAgICBmdW5jdGlvbiBnb3RYTUxMaXN0RmlsZShmaWxlKXsKICAgICAgICAgICAgZGVidWdMb2coIlJlYWRpbmcgdGhlIFhNTCBmaWxlLiIpOwogICAgICAgICAgICB2YXIgeG1sVGFnID0gInBhY2thZ2UiOwogICAgICAgICAgICByZWFkWE1MQXNUZXh0KGZpbGUsIHhtbFRhZyk7CiAgICAgICAgICAgLy9yZWFkWE1MTGlzdEFzVGV4dChmaWxlKTsKICAgIH0KCiAgICAvKiAKICAgICAgICBUaGlzIGZ1bmN0aW9uIHdpbGwgZ28gYWhlYWQgYW5kIGZldGNoIHRoZSB4bWwgZmlsZSBhbmQgdGhlbiBkb3dubG9hZCBhbGwgdGhlIGNvbnRlbnRzIG9mIHRoZSBwYWNrYWdlIHRvIGZvcm0gYSB1c3RhZCBtb2JpbGUgcGFja2FnZS9ib29rIHRoYXQgdGhlIGRldmljZSBjYW4gdGhlbiBhY2Nlc3MgYW5kIGdvIHRocm91Z2guCiAgICAqLwogICAgZnVuY3Rpb24gc29tZVRoaW5nKHhtbFBhdGgpewogICAgICAgIHBhY2thZ2VTdHJpbmcgPSB4bWxQYXRoOwogICAgICAgIGRlYnVnTG9nKCJUaGUgUGFja2FnZSB4bWwgaXM6ICIgKyBwYWNrYWdlU3RyaW5nKTsKICAgICAgICBjdXJyZW50RmlsZURvd25sb2FkSW5kZXggPSAwOwogICAgICAgIHBhY2thZ2VGb2xkZXJOYW1lID0gIiI7CiAgICAgICAgLy9hbGxGaWxlRG93bmxvYWRDYWxsYmFjayA9IG51bGw7CiAgICAgICAgb25QYWNrYWdlVHJhbnNmZXIoKTsgLy8gVGhpcyBmdW5jdGlvbiwgYXMgYWJvdmUgd2lsbCBkb3dubG9hZCB0aGUgcGFja2FnZSB4bWwgd2hlcmUgYWxsIHRoZSBmaWxlIHRvIGJlIGRvd25sb2FkZWQgbGlzdCByZXNpZGUuCiAgICAgICAgCiAgICB9CgogICAgZnVuY3Rpb24gdGVzdFBhY2thZ2VMaXN0WE1MKHVybCxmb2xkZXIsY2FsbGJhY2spewogICAgICAgIGRlYnVnTG9nKCJURVNUOiBJbiB0ZXN0UGFja2FnZUxpc3RYTUwgd2l0aCB1cmw6ICIgKyB1cmwgKyAiLCBmb2xkZXI6ICIgKyBmb2xkZXIpOwogICAgICAgIHBhY2thZ2VTdHJpbmcgPSB1cmw7CiAgICAgICAgcGFja2FnZUZvbGRlck5hbWUgPSBmb2xkZXI7ICAgICAKICAgICAgICBkZWJ1Z0xvZygiVEVTVDogR2xvYmFsIHZhcmlhYmxlcyBwYWNrYWdlU3RyaW5nOiAiICsgcGFja2FnZVN0cmluZyArICIsIGFuZCBwYWNrYWdlRm9sZGVyTmFtZTogIiArIHBhY2thZ2VGb2xkZXJOYW1lKTsgICAgICAgIAogICAgICAgIHdpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbShMb2NhbEZpbGVTeXN0ZW0uUEVSU0lTVEVOVCwwLCBmdW5jdGlvbihmcyl7CiAgICAgICAgICAgICAgICByb290UGF0aCA9IGZzLnJvb3QuZnVsbFBhdGg7CiAgICAgICAgICAgICAgICBkZWJ1Z0xvZygiVEVTVDogR2xvYmFsIHZhcmlhYmxlLCByb290UGF0aDogIiArIHJvb3RQYXRoKTsKICAgICAgICAgICAgICAgIGRlYnVnTG9nKCJURVNUOiBTdGFydGluZyB0ZXN0IFBhY2thZ2UgTGlzdCBYbWwgZG93bmxvYWQuLiIpOwogICAgICAgICAgICAgICAgc3RhcnRGaWxlRG93bmxvYWQodXJsLCBmb2xkZXIsIGNhbGxiYWNrKTsKICAgICAgICAgICAgfSwgZnVuY3Rpb24oKXsgZGVidWdMb2coInRlc3QgZmFpbCIpOyBydW5jYWxsYmFjayhjYWxsYmFjaywgImZhaWwiKTt9CiAgICAgICAgKTsgICAgICAgIAogICAgCiAgICB9CiAgICAKICAgIC8vQ29yZG92YSBjaGVjayBpZiBkZXZpY2UgaXMgcmVhZHkKICAgIGZ1bmN0aW9uIG9uUGFja2FnZVRyYW5zZmVyKCl7CiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlcmVhZHknLCBiZWdpblBhY2thZ2VUcmFuc2ZlciwgZnVuY3Rpb24oKXthbGVydCgiU29tZXRoaW5nIHdlbnQgd3JvbmcgaW4gY2hlY2tpbmcgQ29yZG92YSByZWFkeS4iKTsgZGVidWdMb2coIlNvbWV0aGluZyB3ZW50IHdyb25nIG9uIGRldmljZXJlYWR5IGF0IGZ1bmN0aW9uOiBvblBhY2thZ2VUcmFuc2ZlcigpIik7fSk7CiAgICB9CiAgICAKICAgIC8vQ29yZG92YSBnZXQgRmlsZSBTeXN0ZW0KICAgIGZ1bmN0aW9uIGJlZ2luUGFja2FnZVRyYW5zZmVyKCl7CiAgICAgICAgd2luZG93LnJlcXVlc3RGaWxlU3lzdGVtKExvY2FsRmlsZVN5c3RlbS5QRVJTSVNURU5ULCAwLCBnb3RSb290RGlyUGFja2FnZSwgZnVuY3Rpb24oKXthbGVydCgiU29tZXRoaW5nIHdlbnQgd3JvbmcgaW4gZ2V0dGluZyBGaWxlIFN5c3RlbSBvZiBQYWNrYWdlIFhNTCIpOyBkZWJ1Z0xvZygiU29tZXRoaW5nIHdlbnQgd3JvbmcgaW4gYmVnaW5QYWNrYWdlVHJhbnNmZXIoKSIpO30pOwogICAgfQoKICAgIC8qIEdldHMgdGhlIHJvb3QgcGF0aCBhbmQgaW5pdGlhdGVzIHBhY2thZ2VTdHJpbmcgeG1sIGZpbGUgdG8gYmUgZG93bmxvYWRlZCAoc2V0IHByZXZpb3VzbHkpIHRvIGNhbGN1bGF0ZWQgZm9sZGVyLiovCiAgICBmdW5jdGlvbiBnb3RSb290RGlyUGFja2FnZShmaWxlU3lzdGVtKXsKCQlyb290UGF0aCA9IGZpbGVTeXN0ZW0ucm9vdC5mdWxsUGF0aDsgLy8gR2xvYmFsIHJvb3QgcGF0aCBnb3R0ZW4uCgkJLy9wYWNrYWdlU3RyaW5nIHdpbGwgYmUgc2V0IGJ5IGFub3RoZXIgZnVuY3Rpb24gZnJvbSB4bWwgcGFja2FnZSBsaXN0LgogICAgICAgIGRlYnVnTG9nKCJwYWNrYWdlU3RyaW5nOiAiICsgcGFja2FnZVN0cmluZyk7CiAgICAgICAgLy9Mb2dpYyB0byBnZXQgdGhlIGZpbGUgbmFtZSBmcm9tIHRoZSB1cmwKICAgICAgICB2YXIgdXJpU3BsaXQgPSBwYWNrYWdlU3RyaW5nLnNwbGl0KCIvIik7CiAgICAgICAgdmFyIGxhc3RQb3MgPSB1cmlTcGxpdC5sZW5ndGggLSAxOwogICAgICAgICAgICBmaWxlTmFtZSA9IHVyaVNwbGl0W2xhc3RQb3NdOyAgICAgICAgCiAgICAgICAgZGVidWdMb2coIlRoZSBmaWxlTmFtZSBpbiBnb3RSb290RGlyUGFja2FnZTogIiArIGZpbGVOYW1lKTsgCiAgICAgICAgLy9Mb2dpYyB0byBnZXQgdGhlIGZvbGRlciBuYW1lIC8gcGFja2FnZSBuYW1lIGZyb20gdGhlIHVybCdzIGZpbGUgbmFtZS4KICAgICAgICB2YXIgZmlsZU5hbWVDaGVja0FycmF5ID0gZmlsZU5hbWUuc3BsaXQoIl91c3RhZHBrZyIpOwogICAgICAgIHZhciBwYWNrYWdlRm9sZGVyTmFtZVBvcyA9IGZpbGVOYW1lQ2hlY2tBcnJheS5sZW5ndGggLSAyOwogICAgICAgICAgICBwYWNrYWdlRm9sZGVyTmFtZSA9IGZpbGVOYW1lQ2hlY2tBcnJheVtwYWNrYWdlRm9sZGVyTmFtZVBvc107CiAgICAgICAgaWYgKCFwYWNrYWdlRm9sZGVyTmFtZSl7CiAgICAgICAgICAgIHBhY2thZ2VGb2xkZXJOYW1lPSIiOwogICAgICAgIH0KICAgICAgICAgICAgcGFja2FnZUZvbGRlck5hbWUgPSBnbG9iYWxYTUxMaXN0Rm9sZGVyTmFtZSArICIvIiArIHBhY2thZ2VGb2xkZXJOYW1lOwoKCQlkZWJ1Z0xvZygiQ3JlYXRpbmcgUGFja2FnZSBYTUwgRGlyZWN0b3J5Li4iKTsKCQkJdmFyIHBhY2thZ2VYTUxEaXIgPSAidXN0YWRtb2JpbGVDb250ZW50LyIgKyBwYWNrYWdlRm9sZGVyTmFtZTsKCQkJZGVidWdMb2coIkNIRUNLSU5HIElGIERJUkVDVE9SWTogIiArIHBhY2thZ2VYTUxEaXIgKyAiIEVYSVNUUy4gSUYgTk9ULCBDUkVBVElORyBJVC4iKTsKCQkJZmlsZVN5c3RlbS5yb290LmdldERpcmVjdG9yeShwYWNrYWdlWE1MRGlyLCB7Y3JlYXRlOnRydWUsIGV4Y2x1c2l2ZTpmYWxzZX0sIGZ1bmN0aW9uKCl7CgkJCQkJZGVidWdMb2coIiBDcmVhdGluZyBwYWNrYWdlIFhNTCBEaXJlY3Rvcnkgc3VjY2Vzcy4iKTsKCQkJCQkKCQkJCQlkZWJ1Z0xvZygicGFja2FnZUZvbGRlck5hbWU6ICIgKyBwYWNrYWdlRm9sZGVyTmFtZSk7CgkJCQkJdmFyIGxhc3RGaWxlTmFtZVBvcyA9IGZpbGVOYW1lQ2hlY2tBcnJheS5sZW5ndGggLSAxOwoJCQkJCXZhciBmaWxlTmFtZUNoZWNrID0gZmlsZU5hbWVDaGVja0FycmF5W2xhc3RGaWxlTmFtZVBvc107CgkJCQkJaWYgKGZpbGVOYW1lQ2hlY2sgPT0gIl9odG1sNS54bWwiICkgey8vQ2hlY2sgaWYgaXQgaXMgYSB2YWxpZCBuYW1lZCB4bWwuCgkJCQkJLy9pZiAoZmlsZU5hbWVDaGVjayAhPSBudWxsKXsKCQkJCQkgIGRlYnVnTG9nKCJTcGVjaWZpZWQgZmlsZTogIiArIGZpbGVOYW1lICsgIiBpcyBhbiB1c3RhZG1vYmlsZSBwYWNrYWdlIHhtbC4iKTsKCQkJCQkgIC8vc3RhcnRGaWxlRG93bmxvYWQocGFja2FnZVN0cmluZywiIik7CgkJCQkJCXN0YXJ0RmlsZURvd25sb2FkKHBhY2thZ2VTdHJpbmcsIHBhY2thZ2VGb2xkZXJOYW1lKTsKCQkJCQl9CgkJCQkJZWxzZXsKCQkJCQkgIGFsZXJ0KCJTb3JyeSwgcGxlYXNlIGlucHV0IGEgdmFsaWQgdXN0YWRtb2JpbGUgeG1sLCAiICsgZmlsZU5hbWVDaGVjayk7CgkJCQkJICBkZWJ1Z0xvZygiSW52YWxpZCBwYWNrYWdlIG5hbWUuIE5vdCBhbiB4bWwgb3IgZG9lc250IGVuZCB3aXRoIHVzdGFkcGtnX2h0bWw1Li4iKTsKCQkJCQl9CgkJCQkJCgkJCQl9LCBmdW5jdGlvbigpe2RlYnVnTG9nKCJDcmVhdGluZyBwYWNrYWdlIFhNTCBEaXIgdW5zdWNjZXNzLiIpOyQubW9iaWxlLmxvYWRpbmcoJ2hpZGUnKTsgYWxlcnQoIlVuYWJsZSB0byBkb3dubG9hZCBwYWNrYWdlIHRvIHlvdXIgZGV2aWNlIGFuZCBmaWxlIHN5c3RlbS4iKTt9KTsKCQkKCQkKCQkKICAgICAgICAKICAgICAgICAKICAgICAgICAKICAgIH0KCiAgICBmdW5jdGlvbiBydW5jYWxsYmFjayhjYWxsYmFja2Z1bmN0aW9uLCBhcmcpIHsKICAgICAgICBpZihjYWxsYmFja2Z1bmN0aW9uICE9bnVsbCAmJiB0eXBlb2YgY2FsbGJhY2tmdW5jdGlvbiA9PT0gImZ1bmN0aW9uIil7CiAgICAgICAgICAgIGRlYnVnTG9nKCJXaXRoaW4gdGhlIGNhbGwgYmFjayBmdW5jdGlvbiB3aXRoIGFyZzogIiArIGFyZyApOwogICAgICAgICAgICBjYWxsYmFja2Z1bmN0aW9uKGFyZyk7ICAgCiAgICAgICAgfQogICAgfSAgICAKCiAgICAvKkFjdHVhbCBkb3dubG9hZCBmdW5jdGlvbiB0aGF0IGRvd25sb2FkcyBhIGZpbGUgZ2l2ZW4gdG8gaXQgdG8gYSBmb2xkZXIgd2hpY2ggaXMgYWxzbyBnaXZlIHRvIGl0LiovCiAgICBmdW5jdGlvbiBzdGFydEZpbGVEb3dubG9hZChmaWxlVG9Eb3dubG9hZCwgZm9sZGVyTmFtZSwgY2FsbGJhY2spewogICAgICAgIGNvbnNvbGUubG9nKCJURVNUUzE6IGZvbGRlck5hbWU6ICIgKyBmb2xkZXJOYW1lKTsKICAgICAgICBjb25zb2xlLmxvZygiVEVTVFMxOiBwYWNrYWdlRm9sZGVyTmFtZTogIiArIHBhY2thZ2VGb2xkZXJOYW1lKTsKICAgICAgICB2YXIgdXJpU3BsaXQgPSBmaWxlVG9Eb3dubG9hZC5zcGxpdCgiLyIpOwogICAgICAgIHZhciBsYXN0UG9zID0gdXJpU3BsaXQubGVuZ3RoIC0gMTsKICAgIAogICAgICAgIC8vY2hhbmdlcyA5RGVjMjAxMwogICAgICAgIHZhciBmaWxlRnVsbFBhdGggPSB1cmlTcGxpdFtsYXN0UG9zXTsKICAgICAgICB2YXIgZmlsZUZvbGRlciA9IHVyaVNwbGl0W2xhc3RQb3MtMV07CiAgICAgICAgaWYgKCB0eXBlb2YgZmlsZUZvbGRlciA9PT0gJ3VuZGVmaW5lZCcpewogICAgICAgICAgICAvL0RvIG5vdGhpbmcuCiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGRlYnVnTG9nKCJTYXZpbmcgY3VycmVudCBmaWxlIHRvIENvdXJzZSBGb2xkZXI6ICIgKyBmaWxlRm9sZGVyKTsKICAgICAgICB9CiAgICAgICAgLy9lbmQgb2YgY2hhbmdlcyA5RGVjMjAxMwoKICAgICAgICAvL2ZpbGVOYW1lID0gdXJpU3BsaXRbbGFzdFBvc107CiAgICAgICAgdmFyIGN1cnJlbnRGaWxlTmFtZSA9IHVyaVNwbGl0W2xhc3RQb3NdOyAgICAgICAgCiAgICAgICAgLy9qUXVlcnkgbW9iaWxlIGxvYWRpbmcgYW5pbWF0aW9uLgogICAgICAgICQubW9iaWxlLmxvYWRpbmcoJ3Nob3cnLCB7CiAgICAgICAgICAgIHRleHQ6IHhfKCdEb3dubG9hZGluZyBVTSBDb3Vyc2U6JykgKyBjdXJyZW50RmlsZU5hbWUgKyB4XygnIGluICcpICsgZm9sZGVyTmFtZSwKICAgICAgICAgICAgdGV4dFZpc2libGU6IHRydWUsCiAgICAgICAgICAgIHRoZW1lOiAnYicsCiAgICAgICAgICAgIGh0bWw6ICIifSk7CiAgICAgICAgZGVidWdMb2coIiBEb3dubG9hZGluZyB0aGUgZmlsZTogIiArIGZpbGVUb0Rvd25sb2FkICsgIiB0byBmb2xkZXI6ICIgKyByb290UGF0aCArICIvdXN0YWRtb2JpbGVDb250ZW50LyIgKyBmb2xkZXJOYW1lKTsKICAgICAgICB2YXIgZmlsZVBhdGhEb3dubG9hZCA9ICIiOyAvL251bGxpZnkgdGhlIHBhdGggZm9yIGV2ZXJ5IGRvd25sb2FkLgogICAgICAgIHVyaSA9IGVuY29kZVVSSShmaWxlVG9Eb3dubG9hZCk7IC8vbmVlZGVkIGJ5IGZpbGVUcmFuc2ZlciBDb3Jkb3ZhIEFQSS4KICAgICAgICBpZiAoZm9sZGVyTmFtZSA9PSAiIil7CiAgICAgICAgICAgIC8vZmlsZVRvRG93bmxvYWQgPSAiaHR0cDovL3d3dy51c3RhZG1vYmlsZS5jb20vYm9va3MvIiArIGN1cnJlbnRGaWxlTmFtZTsKICAgICAgICAgICAgZmlsZVBhdGhEb3dubG9hZCA9IHJvb3RQYXRoICsgIi91c3RhZG1vYmlsZUNvbnRlbnQvIiArIGN1cnJlbnRGaWxlTmFtZTsKICAgICAgICB9ZWxzZXsgLy9JZiBkb3dubG9hZGluZyB0aGUgYWN0dWFsIGNvdXJzZS4KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmKHR5cGVvZiBmaWxlRm9sZGVyID09PSAndW5kZWZpbmVkJyl7ICAgLy8wOTEyMjAxMwogICAgICAgICAgICAgICAgZmlsZVRvRG93bmxvYWQgPSAiaHR0cDovL3d3dy51c3RhZG1vYmlsZS5jb20vYm9va3MvIiArIGZvbGRlck5hbWUgKyAiLyIgKyBjdXJyZW50RmlsZU5hbWU7CiAgICAgICAgICAgICAgICBmaWxlUGF0aERvd25sb2FkID0gcm9vdFBhdGggKyAiL3VzdGFkbW9iaWxlQ29udGVudC8iICsgZm9sZGVyTmFtZSArICIvIiArIGN1cnJlbnRGaWxlTmFtZTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJmaWxlVG9Eb3dubG9hZDogIiArIGZpbGVUb0Rvd25sb2FkICsgIiBmaWxlUGF0aERvd25sb2FkOiAiICsgZmlsZVBhdGhEb3dubG9hZCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiVEVTVFM6IGZvbGRlck5hbWU6ICIgKyBmb2xkZXJOYW1lKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJURVNUUzogcGFja2FnZUZvbGRlck5hbWU6ICIgKyBwYWNrYWdlRm9sZGVyTmFtZSk7CiAgICAgICAgICAgIH1lbHNleyAgLy8wOTEyMjAxMwogICAgICAgICAgICAgICAgaWYoZmlsZUZvbGRlciAhPSAiYm9va3MiICYmIGN1cnJlbnRGaWxlTmFtZSAhPSAiYWxsX3VzdGFkcGtnX2h0bWw1LnhtbCIpewoJCQkJCS8vV2luZG93cyBQaG9uZSBzcGVjaWZpYyBjb2RlIHRvIG1ha2UgdGhhdCBmb2xkZXIuCgkJCQkJdmFyIGdldERpciA9IGZpbGVGb2xkZXI7CgkJCQkJZGVidWdMb2coIkNoZWNraW5nIGlmIERpcmVjdG9yeTogIiArIGZpbGVGb2xkZXIgKyAiIGV4aXN0cy4gSWYgbm90LCBjcmVhdGluZyBpdC4iKTsKCQkJCQlnZXREaXIgPSAidXN0YWRtb2JpbGVDb250ZW50LyIgKyBmb2xkZXJOYW1lICsgIi8iICsgZmlsZUZvbGRlcjsKCQkJCQlmaWxlU3lzdGVtLnJvb3QuZ2V0RGlyZWN0b3J5KGdldERpciwge2NyZWF0ZTp0cnVlLCBleGNsdXNpdmU6IGZhbHNlfSwgZnVuY3Rpb24oKXsKCQkJCQkJZGVidWdMb2coIkNyZWF0aW9uIG9mIGZvbGRlcjogIiArIGZpbGVGb2xkZXIgKyAiIGluIENvdXJzZSBmb2xkZXIgaXMgYSBzdWNjZXNzLiIpO30sIGZ1bmN0aW9uKCl7ZGVidWdMb2coIkNyZWF0aW9uIG9mIGZvbGRlcjogIiArIGZpbGVGb2xkZXIgKyAiIGluIENvdXJzZSBmb2xkZXIgZmFpbGVkISIpO30pOwoJCQkKICAgICAgICAgICAgICAgICAgICBmaWxlVG9Eb3dubG9hZCA9ICJodHRwOi8vd3d3LnVzdGFkbW9iaWxlLmNvbS9ib29rcy8iICsgZm9sZGVyTmFtZSArICIvIiArIGZpbGVGb2xkZXIgKyAiLyIgKyBjdXJyZW50RmlsZU5hbWU7CiAgICAgICAgICAgICAgICAgICAgZGVidWdMb2coIlNhdmluZyBmaWxlOiAiICsgY3VycmVudEZpbGVOYW1lICsgIiB0byBjb3Vyc2UgZm9sZGVyOiAiICsgZmlsZUZvbGRlcik7CiAgICAgICAgICAgICAgICAgICAgZmlsZVBhdGhEb3dubG9hZCA9IHJvb3RQYXRoICsgIi91c3RhZG1vYmlsZUNvbnRlbnQvIiArIGZvbGRlck5hbWUgKyAiLyIgKyBmaWxlRm9sZGVyICsgIi8iICsgY3VycmVudEZpbGVOYW1lOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJmaWxlVG9Eb3dubG9hZDogIiArIGZpbGVUb0Rvd25sb2FkICsgIiBmaWxlUGF0aERvd25sb2FkOiAiICsgZmlsZVBhdGhEb3dubG9hZCk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlRFU1RTOiBmb2xkZXJOYW1lOiAiICsgZm9sZGVyTmFtZSk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlRFU1RTOiBwYWNrYWdlRm9sZGVyTmFtZTogIiArIHBhY2thZ2VGb2xkZXJOYW1lKTsKICAgICAgICAgICAgICAgIH1lbHNleyAgICAgIC8vVHJpZ2dlcmVkIG9uIExpc3QgQ291cnNlcyBmcm9tIFNlcnZlciBidXR0b24uCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkdldHRpbmcgY291cnNlIGxpc3QgcGFydC4uIik7CiAgICAgICAgICAgICAgICAgICAgZmlsZVBhdGhEb3dubG9hZCA9IHJvb3RQYXRoICsgIi91c3RhZG1vYmlsZUNvbnRlbnQvIiArIGZvbGRlck5hbWUgKyAiLyIgKyBjdXJyZW50RmlsZU5hbWU7CiAgICAgICAgICAgICAgICAgICAgaWYobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJTYWZhcmkiKSAhPT0gLTEgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJCQjEwIikgIT09IC0xKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVtZ3BQbGF0Zm9ybSA9ICJiYjEwIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgYmIxMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVQYXRoRG93bmxvYWQgPSByb290VVJMICsgIi91c3RhZG1vYmlsZUNvbnRlbnQvIiArIGZvbGRlck5hbWUgKyAiLyIgKyBjdXJyZW50RmlsZU5hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1Z0xvZygiTGlzdGluZyBDb3Vyc2VzIGZyb20gU2VydmVyOiBEZXRlY3RlZCBCbGFja2JlcnJ5IDEwIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZmlsZVRvRG93bmxvYWQoaW4pOiAiICsgZmlsZVRvRG93bmxvYWQgKyAiIGZpbGVQYXRoRG93bmxvYWQ6ICIgKyBmaWxlUGF0aERvd25sb2FkKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImZpbGVUb0Rvd25sb2FkKG91dCk6ICIgKyBmaWxlVG9Eb3dubG9hZCArICIgZmlsZVBhdGhEb3dubG9hZDogIiArIGZpbGVQYXRoRG93bmxvYWQpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJURVNUUzogZm9sZGVyTmFtZTogIiArIGZvbGRlck5hbWUpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJURVNUUzogcGFja2FnZUZvbGRlck5hbWU6ICIgKyBwYWNrYWdlRm9sZGVyTmFtZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gICAvLzA5MTIyMDEzCiAgICAgICAgICAgIHVyaSA9IGVuY29kZVVSSShmaWxlVG9Eb3dubG9hZCk7IC8vbmVlZGVkIGJ5IGZpbGVUcmFuc2ZlciBDb3Jkb3ZhIEFQSS4gLy8wOTEyMjAxMwogICAgICAgIH0KICAgICAgICBkZWJ1Z0xvZygiRmlsZSBQYXRoIHRvIERvd25sb2FkOiAiICsgZmlsZVBhdGhEb3dubG9hZCk7CiAgICAgICAgdmFyIGZpbGVUcmFuc2ZlciA9IG5ldyBGaWxlVHJhbnNmZXIoKTsKICAgICAgICAvLyBVc2luZyBmaWxlVHJhbnNmZXIgQ29yZG92YSBwbHVnaW4uCiAgICAgICAgZmlsZVRyYW5zZmVyLmRvd25sb2FkKAogICAgICAgICAgICB1cmksCiAgICAgICAgICAgIGZpbGVQYXRoRG93bmxvYWQsCiAgICAgICAgICAgIGZ1bmN0aW9uKGVudHJ5KXsKICAgICAgICAgICAgICAgIGFsZXJ0KCJCQjEwIFNVQ0NFU1MhISIpOwogICAgICAgICAgICAgICAgZGVidWdMb2coIkRvd25sb2FkIGNvbXBsZXRlLiBGaWxlIGxvY2F0aW9uIG9uIGRldmljZTogIiArIGVudHJ5LmZ1bGxQYXRoKTsKCiAgICAgICAgICAgICAgICBpZihmb2xkZXJOYW1lID09IGdsb2JhbFhNTExpc3RGb2xkZXJOYW1lKXsgLy9JZiB0aGUgZmlsZSBkb3dubG9hZGVkIGlzIHRoZSBtYWluIHBhY2thZ2UgbGlzdCAoYWxsX3VzdGFkcGtnX2h0bWw1LnhtbCkKICAgICAgICAgICAgICAgICAgICAkLm1vYmlsZS5sb2FkaW5nKCdoaWRlJyk7CiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIHVuaXQgdGVzdGluZyBwdXJwb3Nlcy4uCiAgICAgICAgICAgICAgICAgICAgcGFja2FnZVhNTENhbGxiYWNrID0gY2FsbGJhY2s7CiAgICAgICAgICAgICAgICAgICAgb25saXN0UGFja2FnZXMoImhpIik7IC8vIENhbGxzIGEgbWV0aG9kIHRoYXQgbGlzdHMgdGhlIGF2YWlsYWJsZSBwYWNrYWdlcyBmcm9tIHRoZSBkb3dubG9hZGVkIHhtbCBwYWNrYWdlIGxpc3QgLnhtbCBmaWxlLgoKICAgICAgICAgICAgICAgIH1lbHNlIGlmKGZvbGRlck5hbWUuaW5kZXhPZihnbG9iYWxYTUxMaXN0Rm9sZGVyTmFtZSArICIvIikgIT09IC0xKXsKICAgICAgICAgICAgICAgICAgICAkLm1vYmlsZS5sb2FkaW5nKCdoaWRlJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrID09PSAiZnVuY3Rpb24iICl7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoIlRlc3RpbmcgcGFja2FnZS4uIik7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vRm9yIHRlc3RpbmcgcHVycG9zZXMuLgogICAgICAgICAgICAgICAgICAgICAgICAvL3J1bmNhbGxiYWNrKGNhbGxiYWNrLCAicGFzc2VkIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVYTUxDYWxsYmFjayA9IGNhbGxiYWNrOwoJCQkJCSAgICByZWFkUGFja2FnZUZpbGUoImhpIik7IC8vIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgdGhhdCBnb2VzIHRocm91Z2ggdGhlIHBhY2thZ2UgeG1sIGZpbGUgYW5kIGRvd25sb2FkIGV2ZXJ5IGZpbGUgb25lIGJ5IG9uZS4KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvbGRlck5hbWVTaG9ydFNwbGl0ID0gZm9sZGVyTmFtZS5zcGxpdCgiLyIpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVGb2xkZXJOYW1lID0gZm9sZGVyTmFtZVNob3J0U3BsaXQubGVuZ3RoIC0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvbGRlck5hbWVTaG9ydCA9IGZvbGRlck5hbWVTaG9ydFNwbGl0W3ZhbHVlRm9sZGVyTmFtZV07CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByPWNvbmZpcm0oIkRvd25sb2FkIFRoaXMgY291cnNlPyAiICsgZm9sZGVyTmFtZVNob3J0KTsKCQkJCQkgICAgaWYgKHI9PXRydWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydCgicGFja2FnZUZvbGRlck5hbWU6ICIgKyBwYWNrYWdlRm9sZGVyTmFtZSk7CgkJCQkJCSAgICAvLyBJZiB1c2VyIHdhbnRzIHRvIGRvd25sb2FkIHRoaXMgZmlsZSwgdGhlbiBjb2RlIHdpbGwgZ28gaGVyZSwgYW5kCgkJCQkJCSAgICBkZWJ1Z0xvZygiRG93bmxvYWQgaW5pdGlhdGVkLi4iKTsKCQkJCQkJICAgIHJlYWRQYWNrYWdlRmlsZSgiaGkiKTsgLy8gdGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB0aGF0IGdvZXMgdGhyb3VnaCB0aGUgcGFja2FnZSB4bWwgZmlsZSBhbmQgZG93bmxvYWQgZXZlcnkgZmlsZSBvbmUgYnkgb25lLgoJCQkJCSAgICB9ZWxzZXsKCQkJCQkJICAgIGRlYnVnTG9nKCJEb3dubG9hZCBzdGFydCBjYW5jZWxsZWQgYnkgdXNlci4gTm90aGluZyBnb3QgZG93bmxvYWRlZC4iKTsKCQkJCQkgICAgfSAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGRvd25sb2FkTmV4dEZpbGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vYWxlcnQoIkRvd25sb2FkIGNvbXBsZXRlISBQYXRoOiAiICsgZW50cnkuZnVsbFBhdGgpOyAvLyBJZiB5b3UgZXZlciB3YW50IHRvIG5vdGlmeSB0aGUgdXNlciB0aGF0IHRoZSBmaWxlIGhhcyBmaW5pc2hlZCBkb3dubG9hZGluZy4KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3IpewogICAgICAgICAgICAgICAgZGVidWdMb2coImRvd25sb2FkIGVycm9yIHNvdXJjZSAiICsgZXJyb3Iuc291cmNlKTsKICAgICAgICAgICAgICAgIGRlYnVnTG9nKCJkb3dubG9hZCBlcnJvciB0YXJnZXQgIiArIGVycm9yLnRhcmdldCk7CiAgICAgICAgICAgICAgICBkZWJ1Z0xvZygidXBsb2FkIGVycm9yIGNvZGUiICsgZXJyb3IuY29kZSk7CiAgICAgICAgICAgICAgICBhbGVydCgiRG93bmxvYWQgZXJyb3IuIE1ha2Ugc3VyZSB0aGF0IHRoZSBmaWxlIGxpbmtzIGluIHlvdXIgcGFja2FnZSBsaXN0cyBhcmUgd29ya2luZyBhbmQgY2FuIGJlIHJlYWNoZWQgYnkgeW91ciBkZXZpY2UncyBjb25uZWN0aXZpdHkuIik7CiAgICAgICAgICAgICAgICAkLm1vYmlsZS5sb2FkaW5nKCdoaWRlJyk7CiAgICAgICAgICAgICAgICBpZiAoZm9sZGVyTmFtZSA9PSBnbG9iYWxYTUxMaXN0Rm9sZGVyTmFtZSl7CiAgICAgICAgICAgICAgICAgICAgZGVidWdMb2coIlRFU1Q6IEVSUk9SIDEiKTsKICAgICAgICAgICAgICAgICAgICBydW5jYWxsYmFjayhjYWxsYmFjaywiZmFpbCIpOwogICAgICAgICAgICAgICAgfWVsc2UgaWYgKGZvbGRlck5hbWUuaW5kZXhPZihnbG9iYWxYTUxMaXN0Rm9sZGVyTmFtZSArICIvIikgIT09IC0xKXsKICAgICAgICAgICAgICAgICAgICBkZWJ1Z0xvZygiVEVTVDogRVJST1IgMiIpOwogICAgICAgICAgICAgICAgICAgIHJ1bmNhbGxiYWNrKGNhbGxiYWNrLCAiZmFpbGVkIik7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICBkZWJ1Z0xvZygiVEVTVDogRVJST1IgMyIpOwogICAgICAgICAgICAgICAgICAgIC8vcnVuY2FsbGJhY2soY2FsbGJhY2ssICJkb3dubG9hZGZhaWxlZCIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZGVidWdMb2coIiFDb3VsZG4gbm90IGRvd25sb2FkIGEgZmlsZTogIiArIGN1cnJlbnRGaWxlTmFtZSArICIgYXQgZm9sZGVyOiAiICsgZm9sZGVyTmFtZSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRvd25sb2FkZmFpbAogICAgICAgICk7CiAgICB9CiAgIAogICAgLyogRnVuY3Rpb24gdGhhdCByZWFkcyB0aGUgcGFja2FnZSB4bWwgZG93bmxvYWRlZCBhbmQgcmVhZHMgdGhyb3VnaCB0aGUgWE1MKi8gICAgICAgCiAgICBmdW5jdGlvbiByZWFkUGFja2FnZUZpbGUobXNnKXsKICAgICAgICAvL2FsZXJ0KCJtZXNzYWdlOiAiICsgbXNnKTsKICAgICAgICAvL3BhY2thZ2VTdHJpbmcgaXMgc3RpbGwgc2V0IGJ5IHRoZSBwcmV2aW91cyBmdW5jdGlvbnMKICAgICAgICAvL1RvIGdldCB0aGUgZmlsZU5hbWUgYW5kIGZvbGRlck5hbWUKICAgICAgICB2YXIgdXJpU3BsaXQgPSBwYWNrYWdlU3RyaW5nLnNwbGl0KCIvIik7CiAgICAgICAgdmFyIGxhc3RQb3MgPSB1cmlTcGxpdC5sZW5ndGggLSAxOwogICAgICAgIGZpbGVOYW1lID0gdXJpU3BsaXRbbGFzdFBvc107ICAKICAgICAgICAvL2FsZXJ0KCJwYWNrYWdlU3RyaW5nOiAiICsgcGFja2FnZVN0cmluZyArICIgZmlsZU5hbWU6ICIgKyBmaWxlTmFtZSk7CiAgICAgICAgdmFyIGZpbGVOYW1lQ2hlY2tBcnJheSA9IGZpbGVOYW1lLnNwbGl0KCJfdXN0YWRwa2ciKTsKICAgICAgICB2YXIgcGFja2FnZUZvbGRlck5hbWVQb3MgPSBmaWxlTmFtZUNoZWNrQXJyYXkubGVuZ3RoIC0gMjsKICAgICAgICBwYWNrYWdlRm9sZGVyTmFtZSA9IGZpbGVOYW1lQ2hlY2tBcnJheVtwYWNrYWdlRm9sZGVyTmFtZVBvc107CiAgICAgICAgaWYgKCFwYWNrYWdlRm9sZGVyTmFtZSl7CiAgICAgICAgICAgIHBhY2thZ2VGb2xkZXJOYW1lPSIiOwogICAgICAgIH0KICAgICAgICAvL2FsZXJ0KCJwYWNrYWdlRm9sZGVyTmFtZTogIiArIHBhY2thZ2VGb2xkZXJOYW1lKTsKICAgICAgICAvLyBXZSBjYWxsIHRoZSBGaWxlU3lzdGVtIGFnYWluIHN1Y2ggdGhhdCB3ZSBnZXQgdGhlIHJvb3RQYXRoIGFnYWluLiBXZSBjYW4gdGhlbiB0cmlnZ2VyIHRoaXMgZnVuY3Rpb24gaWYgcmVxdWlyZWQgZm9yIGRldmVsb3BtZW50IHB1cnBvc2VzLgogICAgICAgIC8vIEluIHRoYXQgY2FzZSwgd2UgbmVlZCB0byBzZXQgdGhlIHBhY2thZ2VTdHJpbmcgYWdhaW4gYXMgYSBsaW5rIG9yIGZpbGVOYW1lIGluIHRoaXMgZnVuY3Rpb24gYXM6IGZpbGVOYW1lID0gdGVzdFBhY2thZ2VfdXN0YWRwa2dfaHRtbDUueG1sOwogICAgICAgIHdpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbShMb2NhbEZpbGVTeXN0ZW0uUEVSU0lTVEVOVCwgMCwgZ2V0WE1MRmlsZSwgZnVuY3Rpb24oKXthbGVydCgiU29tZXRoaW5nIHdlbnQgd3JvbmcgaW4gZ2V0dGluZyB0aGUgZmlsZSBzeXN0ZW0gb2YgdGhlIHBhY2thZ2UgZmlsZS4gSW50ZXJuYWwgRXJyb3IuIik7IGRlYnVnTG9nKCJTb21ldGhpbmcgd2VudCB3cm9uZyBpbiByZWFkUGFja2FnZUZpbGUobXNnKSAiKTt9KTsgLy8gZXJyb3JmaWxlc3lzdGVtIChtZXNzYWdlcy0+ZW4uanMpCiAgICB9CiAgICAKICAgIC8qIEZ1bmN0aW9uIHRoYXQgc3RhcnRzIHRoZSBwcm9jZXNzIHRvIGdldCB0aGUgWE1MIGZpbGUgVVJMIHNldCBieSBwcmV2aW91cyBmdW5jdGlvbnMuICovCiAgICBmdW5jdGlvbiBnZXRYTUxGaWxlKGZpbGVTeXN0ZW0pewogICAgICAgIGRlYnVnTG9nKCJHb3QgWE1MIEZpbGVTeXN0ZW0uIik7CiAgICAgICAgcm9vdFBhdGggPSBmaWxlU3lzdGVtLnJvb3QuZnVsbFBhdGg7CiAgICAgICAgLy92YXIgZm9yeG1sID0gInVzdGFkbW9iaWxlQ29udGVudC8iICsgZmlsZU5hbWU7CiAgICAgICAgdmFyIGZvcnhtbCA9ICJ1c3RhZG1vYmlsZUNvbnRlbnQvYWxsLyIgKyBwYWNrYWdlRm9sZGVyTmFtZSArICIvIiArIGZpbGVOYW1lOwogICAgICAgIGRlYnVnTG9nKCJYTUwgUHJvY2Vzc2luZyBzdGFydGVkLiIpOwogICAgICAgIGRlYnVnTG9nKCJYTUwgZmlsZSB3YXMgZG93bmxvYWRlZCBmcm9tIFVSTDogIiArIHBhY2thZ2VTdHJpbmcgKTsKICAgICAgICB2YXIgcGF0aFRvUGFja2FnZUZpbGUgPSByb290UGF0aCArICIvdXN0YWRtb2JpbGVDb250ZW50LyIgKyBmaWxlTmFtZTsKICAgICAgICBkZWJ1Z0xvZygiVGhlIFhNTCBsb2NhdGlvbiBvbiB0aGUgZGV2aWNlIGlzOiAiICsgcGF0aFRvUGFja2FnZUZpbGUpOyAgICAgICAgICAgIAogICAgICAgIGdldERpciA9ICJ1c3RhZG1vYmlsZUNvbnRlbnQvIiArIHBhY2thZ2VGb2xkZXJOYW1lOwogICAgICAgIGRlYnVnTG9nKCJDSEVDS0lORyBJRiBESVJFQ1RPUlk6ICIgKyBnZXREaXIrICIgRVhJU1RTLiBJRiBOT1QsIENSRUFUSU5HIElULiIpOwogICAgICAgIGZpbGVTeXN0ZW0ucm9vdC5nZXREaXJlY3RvcnkoZ2V0RGlyLCB7Y3JlYXRlOnRydWUsIGV4Y2x1c2l2ZTpmYWxzZX0sIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGRlYnVnTG9nKCJDcmVhdGluZyBMaXN0IERpciBzdWNjZXNzLiIpOwogICAgICAgICAgICBkZWJ1Z0xvZygiZm9yeG1sIGlzOiAiICsgZm9yeG1sKTsgICAKICAgICAgICAgICAgZGVidWdMb2coIkdFVFRJTkcgVEhFIFhNTCEiKTsKICAgICAgICAgICAgZmlsZVN5c3RlbS5yb290LmdldEZpbGUoZm9yeG1sLCB7Y3JlYXRlOmZhbHNlLCBleGNsdXNpdmU6ZmFsc2V9LCBnb3RYTUxGaWxlLCBmdW5jdGlvbigpe2FsZXJ0KCJTb21ldGhpbmcgd2VudCB3cm9uZyBpbiBnZXR0aW5nIHRoZSBmaWxlIFhNTCBQYWNrYWdlICIpOyBkZWJ1Z0xvZygiU29tZXRoaW5nIHdlbnQgd3JvbmcgaW4gZ2V0WE1MRmlsZShmaWxlU3lzdGVtKSAiKTt9KTsKICAgICAgICB9LCBmdW5jdGlvbigpe2RlYnVnTG9nKCJDcmVhdGluZyBwYWNrYWdlIERpciB1bnN1Y2Nlc3MuIik7JC5tb2JpbGUubG9hZGluZygnaGlkZScpOyBhbGVydCgiR2V0dGluZyBQYWNrYWdlIGZpbGUgb24gdG8geW91ciBkZXZpY2UgZmFpbGVkLiIpO30pOwogICAgfQogICAgLyogZnVuY3Rpb24gdG8gZ2V0IHRoZSBmaWxlIGFmdGVyIGZpbmRpbmcgaXQgKi8gICAgCiAgICBmdW5jdGlvbiBnb3RYTUxGaWxlKGZpbGVFbnRyeSl7CiAgICAgICAgZGVidWdMb2coIkdvdCBYTUwgZmlsZS4iKTsKICAgICAgICBmaWxlRW50cnkuZmlsZShnb3RGaWxlLGZ1bmN0aW9uKCl7YWxlcnQoIlNvbWV0aGluZyB3ZW50IHdyb25nIGluIGdldHRpbmcgUGFja2FnZSBYTUwgZmlsZSIpOyBkZWJ1Z0xvZygiU29tZXRoaW5nIHdlbnQgd3JvbmcgaW4gZ290WE1MRmlsZShmaWxlRW50cnkpIik7fSk7CiAgICB9CiAgICAvKiBmdW5jdGlvbiB0byByZWFkIHRoZSBmaWxlLiAqLwogICAgZnVuY3Rpb24gZ290RmlsZShmaWxlKXsKICAgICAgICAgICAgZGVidWdMb2coIlJlYWRpbmcgdGhlIFhNTCBmaWxlLiIpOwogICAgICAgICAgICB2YXIgeG1sVGFnID0gImZpbGUiOwogICAgICAgICAgIHJlYWRYTUxBc1RleHQoZmlsZSwgeG1sVGFnKTsKICAgIH0KCiAgICAvKiBGdW5jdGlvbiB0aGF0IGdvZXMgdGhyb3VnaCB0aGUgeG1sIGZpbGVzIGFuZCBnZXRzIHRhZyBpbmZvcm1hdGlvbiBhbmQgcHJvY2VzcydzIGl0LiovCiAgICBmdW5jdGlvbiByZWFkWE1MQXNUZXh0KGZpbGUsIHhtbFRhZykgewogICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgIGZpbGVEb3dubG9hZExpc3QgPSBuZXcgQXJyYXkoKTsKICAgICAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24oZXZ0KSB7CiAgICAgICAgICAgIGRlYnVnTG9nKCJSZWFkaW5nIHRoZSBYTUwgYXMgdGV4dC4iKTsKICAgICAgICAgICAgeG1sID0gZXZ0LnRhcmdldC5yZXN1bHQ7IC8vIFRoZSB4bWwgZmlsZSByZWFkIGlzIG5vdyBzdG9yZWQgaW4geG1sCiAgICAgICAgICAgIHhtbERvYyA9ICQucGFyc2VYTUwoIHhtbCApLAogICAgICAgICAgICAgICAkeG1sID0gJCggeG1sRG9jICk7CiAgICAgICAgICAgIGRlYnVnTG9nKHhtbFRhZyArICJzIGFyZSwiKTsKICAgICAgICAgICAgJHhtbC5maW5kKHhtbFRhZykuZWFjaChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgaWYoeG1sVGFnID09ICJmaWxlIil7CiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRGaWxlID0gJCh0aGlzKS50ZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgZGVidWdMb2coIiAtPiAiICsgY3VycmVudEZpbGUpOwogICAgICAgICAgICAgICAgICAgIGZpbGVEb3dubG9hZExpc3RbZmlsZURvd25sb2FkTGlzdC5sZW5ndGhdICA9ICAkKHRoaXMpLnRleHQoKTsKICAgICAgICAgICAgICAgIH1lbHNlIGlmKHhtbFRhZyA9PSAicGFja2FnZSIpewogICAgICAgICAgICAgICAgICAgIGRlYnVnTG9nKCIgLT4gIiArICQodGhpcykudGV4dCgpKTsKICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFhNTFBhdGggPSAkKHRoaXMpLnRleHQoKTsgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB2YXIgdXJpU3BsaXQgPSBjdXJyZW50WE1MUGF0aC5zcGxpdCgiLyIpOwogICAgICAgICAgICAgICAgICAgIHZhciBsYXN0UG9zID0gdXJpU3BsaXQubGVuZ3RoIC0gMTsKICAgICAgICAgICAgICAgICAgICB2YXIgZnVsbEZpbGVOYW1lID0gdXJpU3BsaXRbbGFzdFBvc107IAogICAgICAgICAgICAgICAgICAgIHZhciBmaWxlTmFtZUNoZWNrQXJyYXkgPSBmdWxsRmlsZU5hbWUuc3BsaXQoIl91c3RhZHBrZyIpOwogICAgICAgICAgICAgICAgICAgIHZhciBwYWNrYWdlRm9sZGVyTmFtZVBvcyA9IGZpbGVOYW1lQ2hlY2tBcnJheS5sZW5ndGggLSAyOwogICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50WE1MTmFtZSA9IGZpbGVOYW1lQ2hlY2tBcnJheVtwYWNrYWdlRm9sZGVyTmFtZVBvc107CiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50WE1MTmFtZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRYTUxOYW1lID0gY3VycmVudFhNTFBhdGg7CiAgICAgICAgICAgICAgICAgICAgfS8vIFRoZSBmb2xsb3dpbmcgd2lsbCBhcHBlbmQgalF1ZXJ5IGxpc3QgaHRtbCBpbiB0aGUgcGFnZS4gQWxsIHRoZXNlIGFyZSBsaW5rZWQgd2l0aCBhbiBvbmNsaWNrIGZ1bmN0aW9uIGNhbGwuIAogICAgICAgICAgICAgICAgICAgICQoIiNwYWNrYWdlTGlzdCIpLmFwcGVuZCgiPGEgb25jbGljaz0nc29tZVRoaW5nKFwiIiArIGN1cnJlbnRYTUxQYXRoICsgIlwiKScgaHJlZj1cIiNcIiBkYXRhLXJvbGU9XCJidXR0b25cIiBkYXRhLWljb249XCJzdGFyXCIgZGF0YS1hamF4PVwiZmFsc2VcIj4iICsgY3VycmVudFhNTE5hbWUgKyAiPC9hPiIpLnRyaWdnZXIoImNyZWF0ZSIpOyAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZih4bWxUYWcgPT0gImZpbGUiKXsKICAgICAgICAgICAgICAgIGRlYnVnTG9nKCJEb3dubG9hZGluZyBhbGwgZmlsZXMgZnJvbTogIiArIHBhY2thZ2VGb2xkZXJOYW1lICsgIiB0byBmb2xkZXI6ICIgKyByb290UGF0aCArICIvdXN0YWRtb2JpbGVDb250ZW4vIiArIHBhY2thZ2VGb2xkZXJOYW1lICsgIi8iKTsKICAgICAgICAgICAgICAgIGRvd25sb2FkTmV4dEZpbGUoKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpOwogICAgICAgIGlmKHhtbFRhZyA9PSAicGFja2FnZSIpewogICAgICAgICAgICAkLm1vYmlsZS5sb2FkaW5nKCdoaWRlJyk7CiAgICAgICAgICAgIGRlYnVnTG9nKCJURVNUOiBDSEVDS0lORyBwYWNrYWdlWE1MQ2FsbGJhY2siKTsKICAgICAgICAgICAgaWYocGFja2FnZVhNTENhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIHBhY2thZ2VYTUxDYWxsYmFjayA9PT0gImZ1bmN0aW9uIiApewogICAgICAgICAgICAgICAgZGVidWdMb2coIlRFU1RMIElOIHJ1bm5pbmcgcGFja2FnZVhNTENhbGxiYWNrIGNhbGwgYmFjayIpOwogICAgICAgICAgICAgICAgcnVuY2FsbGJhY2socGFja2FnZVhNTENhbGxiYWNrLCAieG1sIGxpc3QgcHJvY2Vzc2luZyBwYXNzIik7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgIH1lbHNlIGlmKHhtbFRhZyA9PSAiZmlsZSIpewogICAgICAgICAgICAkLm1vYmlsZS5sb2FkaW5nKCdoaWRlJyk7CiAgICAgICAgICAgIGRlYnVnTG9nKCJURVNUOiBDSEVDS0lORyBGSUxFIFhNTCBGaWxlIHRhZy4iKTsKICAgICAgICAgICAgcnVuY2FsbGJhY2soZmlsZVhNTENhbGxiYWNrLCAieG1sIHByb2Nlc3NpbmcgcGFzcyIpOwogICAgICAgIH1lbHNlewogICAgICAgICAgICAkLm1vYmlsZS5sb2FkaW5nKCdoaWRlJyk7CiAgICAgICAgICAgIGRlYnVnTG9nKCJURVNUOiBFUlJPUiBpbiB4bWwgZmlsZS9saXN0IHByb2Nlc3NpbmcuIEZBSUwuIik7CiAgICAgICAgICAgIHJ1bmNhbGxiYWNrKGNhbGxiYWNrLCAieG1sIGZpbGUvbGlzdCBwcm9jZXNzaW5nIGZhaWxlZCIpOwogICAgICAgIH0KICAgIH0KCiAgICAvKiBGdW5jdGlvbiB0aGF0IGl0ZXJhdGVzIHRocm91Z2ggbGlzdCBvZiBmaWxlcyB0byBiZSBkb3dubG9hZGVkIGFuZCBjYWxscyB0aGUgZG93bmxvYWQgZnVuY3Rpb24gKi8KICAgIGZ1bmN0aW9uIGRvd25sb2FkTmV4dEZpbGUoKXsKICAgICAgICBpZiAoIGN1cnJlbnRGaWxlRG93bmxvYWRJbmRleCA8IGZpbGVEb3dubG9hZExpc3QubGVuZ3RoICkgeyAvLyBpZiB0aGVyZSBpcyBzb21ldGhpbmcgdG8gZG93bmxvYWQuLgogICAgICAgICAgICBzdGFydEZpbGVEb3dubG9hZChmaWxlRG93bmxvYWRMaXN0W2N1cnJlbnRGaWxlRG93bmxvYWRJbmRleCsrXSwgcGFja2FnZUZvbGRlck5hbWUpOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBkZWJ1Z0xvZygiTm8gbW9yZSBmaWxlcyBsZWZ0IHRvIHNjYW4gaW4gdGhlIHBhY2thZ2U6ICIgKyBmaWxlTmFtZSk7ICAgICAgICAgIAogICAgICAgICAgICAkLm1vYmlsZS5sb2FkaW5nKCdoaWRlJyk7CiAgICAgICAgICAgIC8vaWYoZmlsZVhNTENhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIGZpbGVYTUxDYWxsYmFjayA9PT0gImZ1bmN0aW9uIil7CiAgICAgICAgICAgICAgICBhbGVydCgiRG93bmxvYWQgZmluaXNoZWQuIik7CiAgICAgICAgICAgIC8vfQoJCQlkZWJ1Z0xvZygiTm93IHRyYW5zZmVyaW5nIHVzdGFkbW9iaWxlIGphdmFzY3JpcHRzIGFuZCBsb2dpYyB0byB0aGUgcGFja2FnZSBmb2xkZXI6ICIgKyBwYWNrYWdlRm9sZGVyTmFtZSk7CgkJCXdyaXRlTmV4dEJhc2U2NFRvRmlsZShwYWNrYWdlRm9sZGVyTmFtZSk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBGb3IgdGVzdHMuLgogICAgICAgICAgICBpZiggYWxsRmlsZURvd25sb2FkQ2FsbGJhY2sgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhbGxGaWxlRG93bmxvYWRDYWxsYmFjayA9PT0gImZ1bmN0aW9uIil7CiAgICAgICAgICAgICAgICAgICAgYWxsRmlsZURvd25sb2FkQ2FsbGJhY2soKTsKICAgICAgICAgICAgICAgIH0gICAgICAgCiAgICAgICAgICAgIH0KCgogICAgICAgIH0KICAgICAgICAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gcnVuY2FsbGJhY2soY2FsbGJhY2tmdW5jdGlvbiwgYXJnKXsKICAgICAgICBpZiAoY2FsbGJhY2tmdW5jdGlvbiAhPW51bGwgJiYgdHlwZW9mIGNhbGxiYWNrZnVuY3Rpb24gPT09ICJmdW5jdGlvbiIpewogICAgICAgICAgICBkZWJ1Z0xvZygiV2l0aGluIHRoZSBydW5jYWxsYmFja2Z1bmN0aW9uIG9rYXkgd2l0aCBhcmd1bWVudDogIiArIGFyZyk7CiAgICAgICAgICAgIGNhbGxiYWNrZnVuY3Rpb24oYXJnKTsKICAgICAgICB9ICAgCiAgICB9CgoK", "ustadmobile-getpackages.js"];
var ustadmobileloginjs = ["LyoKPCEtLSBUaGlzIGZpbGUgaXMgcGFydCBvZiBVc3RhZCBNb2JpbGUuICAKICAgIAogICAgVXN0YWQgTW9iaWxlIENvcHlyaWdodCAoQykgMjAxMS0yMDEzIFRvdWdocmEgVGVjaG5vbG9naWVzIEZaIExMQy4KCiAgICBVc3RhZCBNb2JpbGUgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQogICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uIHdpdGggdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIHRlcm1zOgogICAgCiAgICBBbGwgbmFtZXMsIGxpbmtzLCBhbmQgbG9nb3Mgb2YgVXN0YWQgTW9iaWxlIGFuZCBUb3VnaHJhIFRlY2hub2xvZ2llcyBGWiAKICAgIExMQyBtdXN0IGJlIGtlcHQgYXMgdGhleSBhcmUgaW4gdGhlIG9yaWdpbmFsIGRpc3RyaWJ1dGlvbi4gIElmIGFueSBuZXcKICAgIHNjcmVlbnMgYXJlIGFkZGVkIHlvdSBtdXN0IGluY2x1ZGUgdGhlIFVzdGFkIE1vYmlsZSBsb2dvIGFzIGl0IGhhcyBiZWVuCiAgICB1c2VkIGluIHRoZSBvcmlnaW5hbCBkaXN0cmlidXRpb24uICBZb3UgbWF5IG5vdCBjcmVhdGUgYW55IG5ldyAKICAgIGZ1bmN0aW9uYWxpdHkgd2hvc2UgcHVycG9zZSBpcyB0byBkaW1pbmlzaCBvciByZW1vdmUgdGhlIFVzdGFkIE1vYmlsZSAKICAgIExvZ28uICBZb3UgbXVzdCBsZWF2ZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgdGhlIGxvZ28gZm9yIHRoZSAKICAgIGFwcGxpY2F0aW9uIHRvIGJlIHVzZWQgd2l0aCBhbnkgbGF1bmNoZXIgKGUuZy4gdGhlIG1vYmlsZSBhcHAgbGF1bmNoZXIpLiAgCiAgICAKICAgIElmIHlvdSB3YW50IGEgY29tbWVyY2lhbCBsaWNlbnNlIHRvIHJlbW92ZSB0aGUgYWJvdmUgcmVzdHJpY3Rpb24geW91IG11c3QKICAgIGNvbnRhY3QgdXMuICAKICAgIAogICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKICAgIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoKICAgIFVzdGFkIE1vYmlsZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAogICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgoKCgpUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZS4gIEl0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBHTlUgR0VORVJBTCBQVUJMSUMgTElDRU5TRSAoIGh0dHA6Ly93d3cuZ251Lm9yZy9jb3B5bGVmdC9ncGwuaHRtbCApIHdpdGggdGhlIGZvbGxvd2luZyAKCkdQTCBMaWNlbnNlIEFkZGl0aW9uYWwgVGVybXMKCkFsbCBuYW1lcywgbGlua3MsIGFuZCBsb2dvcyBvZiBVc3RhZCBNb2JpbGUgYW5kIFRvdWdocmEgVGVjaG5vbG9naWVzIEZaIExMQyBtdXN0IGJlIGtlcHQgYXMgdGhleSBhcmUgaW4gdGhlIG9yaWdpbmFsIGRpc3RyaWJ1dGlvbi4gIElmIGFueSBuZXcgc2NyZWVucyBhcmUgYWRkZWQgeW91IG11c3QgaW5jbHVkZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgaXQgaGFzIGJlZW4gdXNlZCBpbiB0aGUgb3JpZ2luYWwgZGlzdHJpYnV0aW9uLiAgWW91IG1heSBub3QgY3JlYXRlIGFueSBuZXcgZnVuY3Rpb25hbGl0eSB3aG9zZSBwdXJwb3NlIGlzIHRvIGRpbWluaXNoIG9yIHJlbW92ZSB0aGUgVXN0YWQgTW9iaWxlIExvZ28uICBZb3UgbXVzdCBsZWF2ZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgdGhlIGxvZ28gZm9yIHRoZSBhcHBsaWNhdGlvbiB0byBiZSB1c2VkIHdpdGggYW55IGxhdW5jaGVyIChlLmcuIHRoZSBtb2JpbGUgYXBwIGxhdW5jaGVyKS4gIAoKSWYgeW91IG5lZWQgYSBjb21tZXJjaWFsIGxpY2Vuc2UgdG8gcmVtb3ZlIHRoZXNlIHJlc3RyaWN0aW9ucyBwbGVhc2UgY29udGFjdCB1cyBieSBlbWFpbGluZyBpbmZvQHVzdGFkbW9iaWxlLmNvbSAKCi0tPgoKKi8KCi8qCiAgICBUaGUgamF2YXNjcmlwdCBhc3NvY2lhdGVkIHdpdGggdXN0YWQgbW9iaWxlIGxvZ2luIGFjdGlvbnMgYW5kIGxvZ2luIHBhZ2Ugb24gdXN0YWQgbW9iaWwgYXBwLgoqLwovL2FsZXJ0KCJTdGFydGluZyBsb2dpbi5qcy4uIik7Ci8vdmFyIHVzZXJuYW1lPSIiOwovL3ZhciBwYXNzd29yZD0iIjsKCi8vJC5tb2JpbGUubG9hZGluZygnc2hvdycsIHsKLy8gICAgdGV4dDogJ0xvYWRpbmcgVXN0YWQgTW9iaWxlJywKLy8gICAgdGV4dFZpc2libGU6IHRydWUsCi8vICAgIHRoZW1lOiAnYicsCi8vICAgIGh0bWw6ICIifQovLyk7IAoKCiAgICAvLyBXYWl0IGZvciBkZXZpY2UgQVBJIGxpYnJhcmllcyB0byBsb2FkCiAgICAvLwogIC8vZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZGV2aWNlcmVhZHkiLCBvbkxvZ2luRGV2aWNlUmVhZHkyLCBmYWxzZSk7CgogICAgLy8gZGV2aWNlIEFQSXMgYXJlIGF2YWlsYWJsZQogICAgLy8KICAgIGZ1bmN0aW9uIG9uTG9naW5EZXZpY2VSZWFkeTIoKSB7CiAgICAgICAgZGVidWdMb2coIlVzdGFkIE1vYmlsZSBTdGFydHVwOiBJbiBvbkxvZ2luRGV2aWNlUmVhZHkyKCkiKTsKICAgICAgICAvL25hdmlnYXRvci5zcGxhc2hzY3JlZW4uc2hvdygpOyAvL09ubHkgdG8gYmUgdW5jb21tZW50ZWQgd2hlbiBzcGxhc2hzY3JlZW4gc3VwcG9ydCBpcyBlbmFibGVkLgogICAgICAgIAogICAgfQovKgogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZGV2aWNlcmVhZHkiLCBvbkxhbmdEZXZpY2VSZWFkeSwgZmFsc2UpOwogICAgZnVuY3Rpb24gb25MYW5nRGV2aWNlUmVhZHkoKXsKICAgICAgICBkZWJ1Z0xvZygiaW4gb25MYW5nRGV2aWNlUmVhZHkoKSIpOwogICAgICAgIG5hdmlnYXRvci5nbG9iYWxpemF0aW9uLmdldFByZWZlcnJlZExhbmd1YWdlKAogICAgCiAgICBmdW5jdGlvbiBsYW5nc3VjY2VzcyhsYW5ndWFnZSl7CiAgICAgICBkZWJ1Z0xvZygiWW91ciBkZXZpY2UncyBsYW5ndWFnZSBpczogIiArICBsYW5ndWFnZS52YWx1ZSArICJcbiIpOwogICAgfSwKICAgIGZ1bmN0aW9uIGVycm9yQ0IoKXsKICAgICAgICBkZWJ1Z0xvZygiRmFpbGVkIHRvIGdldCB5b3VyIGRldmljZSdzIGxhbmd1YWdlLiIpOwogICAgfQogICAgKTsKfQoqLwpmdW5jdGlvbiBmYWlsKGV2dCkgewogICAgYWxlcnQoIHhfKCJzb21ldGhpbmcgd2VudCB3cm9uZzogIikgKyBldnQudGFyZ2V0LmVycm9yLmNvZGUpOwogICAgY29uc29sZS5sb2coZXZ0LnRhcmdldC5lcnJvci5jb2RlKTsKCWRlYnVnTG9nKCJTb21ldGhpbmcgd2VudCB3cm9uZyIpOwp9CgovLyBXYWl0IGZvciBQaG9uZUdhcCB0byBsb2FkCi8vCmZ1bmN0aW9uIG9uTG9naW5Mb2FkKCkgewogICAgZGVidWdMb2coIlN0YXJ0aW5nIG9uTG9naW5Mb2FkLi4iKTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImRldmljZXJlYWR5Iiwgb25Mb2dpbkRldmljZVJlYWR5LCBmYWxzZSk7Cn0KCi8vIFBob25lR2FwIGlzIHJlYWR5Ci8vCmZ1bmN0aW9uIG9uTG9naW5EZXZpY2VSZWFkeSgpIHsKICAgICQubW9iaWxlLmxvYWRpbmcoJ2hpZGUnKTsKICAgIGRlYnVnTG9nKCIgb25Mb2dpbkxvYWQ6IENoZWNraW5nIGlmIHVzZXIgaXMgYWxyZWFkeSBsb2dnZWQgaW4uLiIpOwogICAgY2hlY2tMb2dnZWRJbigpOwp9CgovL1RoZSBmb3JtIGluIGh0bWwgY2FsbHMgdGhpcyB3aXRoIHRoZSB2YWx1ZXMuIFdlIHNlcGVyYXRlIHRoZSBmb3JtIGFyZ3VtZW50cyB3aXRoIGFjdHVhbCBmdW5jdGlvbiBvZiBsb2dpbiBmb3IKLy90ZXN0aW5nIGFuZCBjb2RlLXJldXNlIHB1cnBvc2VzLgpmdW5jdGlvbiB1bWxvZ2luRnJvbUZvcm0oKSB7CiAgICAvL3ZhciBtc2cgPSBtZXNzYWdlc1snbG9nZ2luZ2ludG9zZXJ2ZXInXTsKICAgIC8vYWxlcnQobXNnKTsKICAgICAkLm1vYmlsZS5sb2FkaW5nKCdzaG93JywgewogICAgICAgIHRleHQ6IHhfKCJMb2dnaW5nIGluIHRvIHVtY2xvdWQuLiIpLAogICAgICAgIHRleHRWaXNpYmxlOiB0cnVlLAogICAgICAgIHRoZW1lOiAnYicsCiAgICBodG1sOiAiIn0pOwogICAgCiAgICB1c2VybmFtZSA9ICQoIiN1c2VybmFtZSIpLnZhbCgpOwogICAgcGFzc3dvcmQgPSAkKCIjcGFzc3dvcmQiKS52YWwoKTsKICAgIAogICAgZGVidWdMb2coIlVzZXIgbmFtZSBhbmQgcGFzc3dvcmQgaXM6ICIgKyB1c2VybmFtZSArICIgLyAiICsgcGFzc3dvcmQpOwogICAgaWYgKCF1cmwpewogICAgdmFyIHVybCA9ICdodHRwOi8vaW50cmFuZXQucGFpd2FzdG9vbi5uZXQvdW1jbG91ZC9hcHAvbG9naW4ueGh0bWwnOwogICAgfQogICAgdW1sb2dpbih1c2VybmFtZSwgcGFzc3dvcmQsIHVybCwgdW1sb2dpbnJlZGlyZWN0KTsKfQoKZnVuY3Rpb24gdW1sb2dpbnJlZGlyZWN0KHN0YXR1c2NvZGUpIHsKICAgIGRlYnVnTG9nKCJTdGF0dXMgY29kZSBpczogIiArIHN0YXR1c2NvZGUpOwogICAgaWYoc3RhdHVzY29kZSA9PSAyMDApIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcm5hbWUnLHVzZXJuYW1lKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGFzc3dvcmQnLHBhc3N3b3JkKTsKCQl2YXIgdW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKTsKCQl2YXIgcHcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGFzc3dvcmQnKTsKCQljb25zb2xlLmxvZygiVS9QOiAiICsgdW4gKyAiLyIgKyBwdyk7CiAgICAgICAgb3BlblBhZ2UoInVzdGFkbW9iaWxlX2Jvb2tsaXN0Lmh0bWwiKS50cmlnZ2VyKCJjcmVhdGUiKTsKCQkvL29wZW5QYWdlKCIvL3d3dy91c3RhZG1vYmlsZV9ib29rbGlzdC5odG1sIikudHJpZ2dlcigiY3JlYXRlIik7IC8vIENoYW5nZXMgZm9yIFdpbmRvd3MgUGhvbmUuIGFkZGVkIC8vd3d3LwogICAgfWVsc2UgewogICAgICAgIGFsZXJ0KHhfKCJXcm9uZyB1c2VybmFtZS9wYXNzd29yZCBjb21iaW5hdGlvbiwgb3IgUGxlYXNlIGNoZWNrIHRoYXQgeW91IGFyZSBhYmxlIHRvIGNvbm5lY3QgdG8gdGhlIGludGVybmV0IGFuZCB5b3VyIHNlcnZlci4iKSk7CiAgICB9Cn0KCi8vVGhpcyBmdW5jdGlvbiB3aWxsIGdldCBjYWxsZWQgd2hlbiB1bWxvZ2luIHByb2NlZWRzIHdpdGggc3VjY2VzcyBvciBlcnJvci4gVGhlIGFyZyBpcyB0aGUgc3RhdHVzQ29kZSB0aGF0IHdpbGwgZ2V0IAovL3Bhc3NlZCB0byB0aGUgCmZ1bmN0aW9uIHJ1bmNhbGxiYWNrKGNhbGxiYWNrZnVuY3Rpb24sIGFyZykgewogICAgaWYgKGNhbGxiYWNrZnVuY3Rpb24gIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2tmdW5jdGlvbiA9PT0gImZ1bmN0aW9uIikgewogICAgICAgIGRlYnVnTG9nKCJXaXRoaW4gdGhlIGNhbGwgYmFjayBmdW5jdGlvbiB3aXRoIGFyZzogIiArIGFyZyApOwogICAgICAgIGNhbGxiYWNrZnVuY3Rpb24oYXJnKTsKICAgIH0KfQoKLyoKVGhpcyBmdW5jdGlvbiBsb2dzIHRoZSB1c2VyIHRvIHRoZSBzcGVjaWZpZWQgc2VydmVyIGFuZCBjcmVkZW50aWFscy4gSW5pdGlhbGx5LCBzZXJ2ZXIgYmVpbmcgVW1DbG91ZChUb3VnaHJhKS4gVGhpcyB1c2VzIEFqYXggdG8gYXV0aGVudGljYXRlLgoqLwpmdW5jdGlvbiB1bWxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCwgdXJsLCBjYWxsYmFjayl7CgogICAgdmFyIHBhcmFtID0gJ3VzZXJpZD0nICsgdXNlcm5hbWUgKyAnJnBhc3N3b3JkPScgKyBwYXNzd29yZDsKICAgIC8vdmFyIHVybCA9ICdodHRwOi8vaW50cmFuZXQucGFpd2FzdG9vbi5uZXQvdW1jbG91ZC9hcHAvbG9naW4ueGh0bWwnOwoJaWYoIHVzZXJuYW1lID09ICJ1bWRldiIgJiYgcGFzc3dvcmQgPT0gInVtZGV2IiApewoJCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VybmFtZScsdXNlcm5hbWUpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwYXNzd29yZCcscGFzc3dvcmQpOwogICAgICAgIHdpbmRvdy5vcGVuKCJ1c3RhZG1vYmlsZV9kZXZlbG9wZXJQYWdlLmh0bWwiLCAnX3NlbGYnKS50cmlnZ2VyKCJjcmVhdGUiKTsKICAgICAgICAvL0JCMTAgc3BlY2lmaWMgY2hhbmdlcy4KCQkvLy8vd3d3L3VzdGFkbW9iaWxlX2RldmVsb3BlclBhZ2UuaHRtbAogICAgICAgIC8vJC5tb2JpbGUuY2hhbmdlUGFnZSggInVzdGFkbW9iaWxlX2RldmVsb3BlclBhZ2UuaHRtbCIsIHsgdHJhbnNpdGlvbjogInNsaWRldXAiIH0gKTsKCX1lbHNlewoJCSQuYWpheCh7CgkJCXVybDogdXJsLCAgCgkJCXR5cGU6ICdQT1NUJywgICAgICAgIAoJCQlkYXRhOiBwYXJhbSwKCQkJZGF0YXR5cGU6ICd0ZXh0JywKCQkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSwgdGV4dFN0YXR1cywganF4aHIpewoJCQkJZGVidWdMb2coIkxvZ2dpbmcgdG8gc2VydmVyOiAiICsgdXJsICsgIiBhIHN1Y2Nlc3Mgd2l0aCBjb2RlOiIgKyBqcXhoci5zdGF0dXMpOwoJCQkJcnVuY2FsbGJhY2soY2FsbGJhY2ssIGpxeGhyLnN0YXR1cyk7CgkJCQl9LAoJCQljb21wbGV0ZTogZnVuY3Rpb24gKGpxeGhyLCB0eHRfc3RhdHVzKSB7CgkJCQlkZWJ1Z0xvZygiQWpheCBjYWxsIGNvbXBsZXRlZCB0byBzZXJ2ZXIuIFN0YXR1czogIiArIGpxeGhyLnN0YXR1cyk7CgkJCQl9LAoJCQllcnJvcjogZnVuY3Rpb24gKGpxeGhyLGIsYyl7CgkJCQoJCQkJYWxlcnQoeF8oIldyb25nIHVzZXJuYW1lL3Bhc3N3b3JkIGNvbWJpbmF0aW9uIG9yIHNlcnZlciBlcnJvci4gU3RhdHVzIENvZGU6IikgKyBqcXhoci5zdGF0dXMpOwoJCQkJZGVidWdMb2coIldyb25nIHVzZXJuYW1lL3Bhc3N3b3JkIGNvbWJpbmF0aW9uIG9yIHNlcnZlciBlcnJvci4gU3RhdHVzIENvZGU6IiArIGpxeGhyLnN0YXR1cyk7CiAgICAgICAgICAgICAgICAkLm1vYmlsZS5sb2FkaW5nKCdoaWRlJyk7CgkJCQlydW5jYWxsYmFjayhjYWxsYmFjaywganF4aHIuc3RhdHVzKTsKCQkJCX0sCgkJCXN0YXR1c0NvZGU6IHsKCQkJCTIwMDogZnVuY3Rpb24oKXsKCQkJCQkvL2FsZXJ0KCJMb2dpbiBzdWNjZXNzIG9uIHRoZSBzZXJ2ZXIhIik7CgkJCQkJZGVidWdMb2coIkxvZ2luIHN1Y2Nlc3Mgb24gdGhlIHNlcnZlciB3aXRoIHN0YXR1c0NvZGUgMjAwLiIpOwoJCQkJCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VybmFtZScsdXNlcm5hbWUpOwoJCQkJCWxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwYXNzd29yZCcscGFzc3dvcmQpOwoJCQkJCWNvbnNvbGUubG9nKCJVc2VybmFtZSBhbmQgUGFzc3dvcmQgc2V0IGluIHN0YXR1c0NvZGUiKTsKCQkJCQl9LAoJCQkJMDogZnVuY3Rpb24oKXsKCQkJCQlkZWJ1Z0xvZygiU3RhdHVzIGNvZGUgMCwgdW5hYmxlIHRvIGNvbm5lY3QgdG8gc2VydmVyIG9yIG5vIGludGVybmV0L2ludHJhbmV0IGFjY2VzcyIpOwoJCQkJCQl9CgkJCQkJCX0KCQkJCQoJCQl9KTsKCQl9Cn0KCi8qCkNoZWNrcyBpZiB1c2VyIGxvZ2dlZCBpbiBmcm9tIGVhcmxpZXIgYW5kIHJlIGRpcmVjdHMgdG8gYm9vayBsaXN0LgoqLwpmdW5jdGlvbiBjaGVja0xvZ2dlZEluKCl7CiAgICAkLm1vYmlsZS5sb2FkaW5nKCdzaG93JywgewogICAgICAgIHRleHQ6IHhfKCdDaGVja2luZyBsb2dnZWQgdXNlci4uJyksCiAgICAgICAgdGV4dFZpc2libGU6IHRydWUsCiAgICAgICAgdGhlbWU6ICdiJywKICAgICAgICBodG1sOiAiIn0KICAgICk7IAoKICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKSl7CiAgICAgICAgb3BlblBhZ2UoInVzdGFkbW9iaWxlX2Jvb2tsaXN0Lmh0bWwiKTsKICAgICAgICAvL3NldCBob21lcGFnZSBhcyBib29rbGlzdCBhbmQgbm90IExvZ2luLgogICAgfWVsc2V7CgkJZGVidWdMb2coIk5vcGUsIG5vIG9uZSBsb2dnZWQgaW4uIik7Cgl9CiAgICAkLm1vYmlsZS5sb2FkaW5nKCdoaWRlJyk7Cn0KCi8qClNraXBzIGlmIHVzZXIgZG9lc24ndCB3YW50IHRvIGxvZyBpbiBidXQgc3RpbGwgYWNjZXNzIEJvb2tzLgoqLwpmdW5jdGlvbiB1bVNraXAoKXsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VybmFtZScpOwogICAgb3BlblBhZ2UoInVzdGFkbW9iaWxlX2Jvb2tsaXN0Lmh0bWwiKTsKfQoKLyoKU2ltcGxlIE9wZW4gcGFnZSB3cmFwcGVyCiovCmZ1bmN0aW9uIG9wZW5QYWdlKG9wZW5GaWxlKXsKICAgIGRlYnVnTG9nKCJHb2luZyB0byBwYWdlOiAiICsgb3BlbkZpbGUpOwoJLy93aW5kb3cub3BlbihvcGVuRmlsZSkudHJpZ2dlcigiY3JlYXRlIik7CiAgICAvL3dpbmRvdy5vcGVuKG9wZW5GaWxlKTsKICAgIHdpbmRvdy5vcGVuKG9wZW5GaWxlLCAnX3NlbGYnKTsgLy9CQjEwIHNwZWNpZmljIGNoYW5nZXMuCn0KCg==", "ustadmobile-login.js"];
var ustadmobiletestjs = ["LyoKPCEtLSBUaGlzIGZpbGUgaXMgcGFydCBvZiBVc3RhZCBNb2JpbGUuICAKICAgIAogICAgVXN0YWQgTW9iaWxlIENvcHlyaWdodCAoQykgMjAxMS0yMDEzIFRvdWdocmEgVGVjaG5vbG9naWVzIEZaIExMQy4KCiAgICBVc3RhZCBNb2JpbGUgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQogICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yCiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uIHdpdGggdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIHRlcm1zOgogICAgCiAgICBBbGwgbmFtZXMsIGxpbmtzLCBhbmQgbG9nb3Mgb2YgVXN0YWQgTW9iaWxlIGFuZCBUb3VnaHJhIFRlY2hub2xvZ2llcyBGWiAKICAgIExMQyBtdXN0IGJlIGtlcHQgYXMgdGhleSBhcmUgaW4gdGhlIG9yaWdpbmFsIGRpc3RyaWJ1dGlvbi4gIElmIGFueSBuZXcKICAgIHNjcmVlbnMgYXJlIGFkZGVkIHlvdSBtdXN0IGluY2x1ZGUgdGhlIFVzdGFkIE1vYmlsZSBsb2dvIGFzIGl0IGhhcyBiZWVuCiAgICB1c2VkIGluIHRoZSBvcmlnaW5hbCBkaXN0cmlidXRpb24uICBZb3UgbWF5IG5vdCBjcmVhdGUgYW55IG5ldyAKICAgIGZ1bmN0aW9uYWxpdHkgd2hvc2UgcHVycG9zZSBpcyB0byBkaW1pbmlzaCBvciByZW1vdmUgdGhlIFVzdGFkIE1vYmlsZSAKICAgIExvZ28uICBZb3UgbXVzdCBsZWF2ZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgdGhlIGxvZ28gZm9yIHRoZSAKICAgIGFwcGxpY2F0aW9uIHRvIGJlIHVzZWQgd2l0aCBhbnkgbGF1bmNoZXIgKGUuZy4gdGhlIG1vYmlsZSBhcHAgbGF1bmNoZXIpLiAgCiAgICAKICAgIElmIHlvdSB3YW50IGEgY29tbWVyY2lhbCBsaWNlbnNlIHRvIHJlbW92ZSB0aGUgYWJvdmUgcmVzdHJpY3Rpb24geW91IG11c3QKICAgIGNvbnRhY3QgdXMuICAKICAgIAogICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UKICAgIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgoKICAgIFVzdGFkIE1vYmlsZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAogICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKICAgIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCgoKCgpUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZS4gIEl0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBHTlUgR0VORVJBTCBQVUJMSUMgTElDRU5TRSAoIGh0dHA6Ly93d3cuZ251Lm9yZy9jb3B5bGVmdC9ncGwuaHRtbCApIHdpdGggdGhlIGZvbGxvd2luZyAKCkdQTCBMaWNlbnNlIEFkZGl0aW9uYWwgVGVybXMKCkFsbCBuYW1lcywgbGlua3MsIGFuZCBsb2dvcyBvZiBVc3RhZCBNb2JpbGUgYW5kIFRvdWdocmEgVGVjaG5vbG9naWVzIEZaIExMQyBtdXN0IGJlIGtlcHQgYXMgdGhleSBhcmUgaW4gdGhlIG9yaWdpbmFsIGRpc3RyaWJ1dGlvbi4gIElmIGFueSBuZXcgc2NyZWVucyBhcmUgYWRkZWQgeW91IG11c3QgaW5jbHVkZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgaXQgaGFzIGJlZW4gdXNlZCBpbiB0aGUgb3JpZ2luYWwgZGlzdHJpYnV0aW9uLiAgWW91IG1heSBub3QgY3JlYXRlIGFueSBuZXcgZnVuY3Rpb25hbGl0eSB3aG9zZSBwdXJwb3NlIGlzIHRvIGRpbWluaXNoIG9yIHJlbW92ZSB0aGUgVXN0YWQgTW9iaWxlIExvZ28uICBZb3UgbXVzdCBsZWF2ZSB0aGUgVXN0YWQgTW9iaWxlIGxvZ28gYXMgdGhlIGxvZ28gZm9yIHRoZSBhcHBsaWNhdGlvbiB0byBiZSB1c2VkIHdpdGggYW55IGxhdW5jaGVyIChlLmcuIHRoZSBtb2JpbGUgYXBwIGxhdW5jaGVyKS4gIAoKSWYgeW91IG5lZWQgYSBjb21tZXJjaWFsIGxpY2Vuc2UgdG8gcmVtb3ZlIHRoZXNlIHJlc3RyaWN0aW9ucyBwbGVhc2UgY29udGFjdCB1cyBieSBlbWFpbGluZyBpbmZvQHVzdGFkbW9iaWxlLmNvbSAKCi0tPgoKKi8KCi8qCiAgICBUaGUgamF2YXNjcmlwdCBhc3NvY2lhdGVkIHdpdGggcXVuaXQgdGVzdGluZyBvZiB1c3RhZCBtb2JpbGUgYXBwbGljYXRpb24uCiovCgp2YXIgc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CgpmdW5jdGlvbiBjaGVja0Jvb2tzT0soKSB7CgoKICAgIHRlc3QoICJCb29rIExpc3QgVGVzdCIsIGZ1bmN0aW9uKCkgewogICAgICAgIG9rKCBib29rc0ZvdW5kLmxlbmd0aCA+IDAsICJGb3VuZCAiICsgYm9va3NGb3VuZC5sZW5ndGggKyAiIEJvb2tzICIgKTsKICAgIH0pOwp9CgpmdW5jdGlvbiBjaGVja1NvbWV0aGluZ0Vsc2UoKSB7CiAgICB0ZXN0KCAiMSByZWFsbHkgaXMgMSIsIGZ1bmN0aW9uKCkgewogICAgICAgIG9rKCAxID09IDEsICIxIGlzIDEiKTsKICAgIH0pOwp9CgpmdW5jdGlvbiBjaGVja0xvZ2luT0soc3RhdHVzQ29kZSl7CiAgICAvL2xvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0ZXN0bW9kZScpOwogICAgLy9sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGVzdG1vZGUnLCcxJyk7CiAgICB0ZXN0KCJMb2dpbiBUZXN0IiwgZnVuY3Rpb24oKSB7CiAgICAgICAgb2sgKCBzdGF0dXNDb2RlID09IDIwMCwgIkxvZ2luIHN1Y2Nlc3MiKTsKICAgIH0pOwoKfQoKCi8vZnVuY3Rpb24gY2hlY2tQYWNrYWdlTGlzdFhNTERvd25sb2FkT0soYXJnKXsKLy8gICAgdGVzdCgiRG93bmxvYWQgYW4geG1sIGZpbGUgdmlhIEZpbGVUcmFuc2ZlciIsIGZ1bmN0aW9uKCl7Ci8vICAgICAgICBvayggYXJnID09ICJwYXNzIiwgIlhNTCBmaWxlIGRvd25sb2FkIG9rYXkiKTsKLy8gICAgICAgIC8vb2soIGFyZyA9PSAieG1sIGxpc3QgcHJvY2Vzc2luZyBwYXNzIiwgIlBhY2thZ2UgWE1MIExpc3QgU2NhbiBva2F5Iik7Ci8vICAKLy8gICAgfSk7Ci8vfQoKZnVuY3Rpb24gY2hlY2tQYWNrYWdlTGlzdFhNTFByb2Nlc3NpbmdPSyhhcmcpewogICAgdGVzdCgiU2NhbiBkb3dubG9hZGVkIHBhY2thZ2UgeG1sIGxpc3QgZmlsZSBhbmQgZXh0cmFjdCBwYWNrYWdlIHRhZyBpbmZvcm1hdGlvbiIsIGZ1bmN0aW9uKCl7CiAgICAgICAgb2soIGFyZyA9PSAieG1sIGxpc3QgcHJvY2Vzc2luZyBwYXNzIiwgIlBhY2thZ2UgWE1MIExpc3QgRG93bmxvYWRlZCBhbmQgU2NhbiBva2F5Iik7CiAgICB9KTsKfQoKZnVuY3Rpb24gY2hlY2tQYWNrYWdlWE1MUHJvY2Vzc2luZ09LKGFyZyl7CiAgICB0ZXN0KCJTY2FuIGRvd25sb2FkZWQgcGFja2FnZSB4bWwgZmlsZSBhbmQgZXh0cmFjdCBmaWxlIHRhZyBpbmZvcm1hdGlvbiIsIGZ1bmN0aW9uKCl7CiAgICAgICAgb2soIGFyZyA9PSAieG1sIHByb2Nlc3NpbmcgcGFzcyIsICJQYWNrYWdlIFhNTCBEb3dubG9hZGVkIGFuZCBTY2FuIG9rYXkiKTsKICAgIH0pOwp9CgovL2Z1bmN0aW9uIGNoZWNrUGFja2FnZVhNTERvd25sb2FkT0soYXJnKXsKLy8gICAgdGVzdCgiRG93bmxvYWQgYSBQYWNrYWdlIFhNTCBmaWxlIHZpYSBGaWxlVHJhbnNmZXIiLCBmdW5jdGlvbigpewovLyAgICAgICAgb2soIGFyZyA9PSAicGFzc2VkIiAsICJQYWNrYWdlIFhNTCBEb3dubG9hZCBva2F5Iik7Ci8vICAgICAgICBvayggYXJnID09ICJkb3dubG9hZHBhc3NlZCIsICJGaWxlcyBmcm9tIHBhY2thZ2UgZG93bmxvYWQgb2theSIpOwovLyAgICAgICAgb2soIGFyZyA9PSAieG1sIHByb2Nlc3NpbmcgcGFzcyIsICJQYWNrYWdlIFhNTCBTY2FuIG9rYXkiKTsKLy8gICAgfSk7Ci8vfQoKLy9mdW5jdGlvbiBjaGVja1BhY2thZ2VGaWxlRG93bmxvYWRPSygpewovLyAgICB0ZXN0KCJEb3dubG9hZCBhbGwgZmlsZXMgZnJvbSBQYWNrYWdlIFhNTCIsIGZ1bmN0aW9uKCl7Ci8vICAgICAgICBvayggYXJnID09ICJkb3dubG9hZHBhc3NlZCIgLCAiRmlsZXMgZnJvbSBwYWNrYWdlIGRvd25sb2FkIG9rYXkiKTsKLy8gICAgfSk7Ci8vfQoKZnVuY3Rpb24gY2hlY2tCYXNlNjRUb0ZpbGVDb252ZXJzaW9uT0soYXJnKXsKICAgIHRlc3QoIkNoZWNrIEJhc2U2NCB0byBmaWxlIGNvbnZlcnNpb24gcG9zdCBwYWNrYWdlIGRvd25sb2FkIiwgZnVuY3Rpb24oKXsKICAgICAgICBvayggYXJnID09ICJiYXNlNjRUb0ZpbGUgc3VjY2VzcyIsICJCYXNlIDY0IHRvIGZpbGUgY29udmVyc2lvbiBva2F5Iik7CiAgICAgICAgfSk7Cn0KCmZ1bmN0aW9uIHN0YXJ0VGVzdE9uTG9hZENvdW50ZXIoKXsKCiAgICBzZXRUaW1lb3V0KCJjaGVja1NvbWV0aGluZ0Vsc2UoKSIsIDUwMCk7CgogICAgY3VycmVudEVudHJpZXNJbmRleCA9IDA7CiAgICBjdXJyZW50Rm9sZGVySW5kZXggPSAwOwogICAgYWxsQm9va0ZvdW5kQ2FsbGJhY2sgPSBjaGVja0Jvb2tzT0s7CiAgICBwb3B1bGF0ZU5leHREaXIoKTsKCQoJdmFyIHVzZXJuID0gIiI7Cgl2YXIgcGFzc3cgPSAiIjsKCS8vQ29kZSB0byBnZXQgdXNlcm5hbWUgKHVzZXJuKSBhbmQgcGFzc3dvcmQgKHBhc3N3KSBnb2VzIGhlcmUuCgogICAgdW1sb2dpbih1c2VybixwYXNzdywgJ2h0dHA6Ly9pbnRyYW5ldC5wYWl3YXN0b29uLm5ldC91bWNsb3VkL2FwcC9sb2dpbi54aHRtbCcsIGNoZWNrTG9naW5PSyk7CgogICAgdGVzdFBhY2thZ2VMaXN0WE1MKCdodHRwOi8vd3d3LnVzdGFkbW9iaWxlLmNvbS9ib29rcy9hbGxfdXN0YWRwa2dfaHRtbDUueG1sJywgJ2FsbCcsIGNoZWNrUGFja2FnZUxpc3RYTUxQcm9jZXNzaW5nT0spOwoKICAgIHRlc3RQYWNrYWdlTGlzdFhNTCgnaHR0cDovL3d3dy51c3RhZG1vYmlsZS5jb20vYm9va3MvVGVzdEJvb2syX3VzdGFkcGtnX2h0bWw1LnhtbCcsICdhbGwvVGVzdEJvb2syJywgY2hlY2tQYWNrYWdlWE1MUHJvY2Vzc2luZ09LKTsgICAgCiAgICAKICAgIC8vYmFzZTY0RmlsZUZvbGRlciA9ICIvdXN0YWRtb2JpbGVDb250ZW50L2FsbC8iOwogICAgLy92YXIgYmFzZTY0VGVzdFZhciA9IFsiRFFwMllYSWdaWGhsVEdGemRGQmhaMlVnUFNBaUxpNHZJanNOQ25aaGNpQmxlR1ZOWlc1MVVHRm5aU0E5SUNKMWMzUmhaRzF2WW1sc1pWOXRaVzUxVUdGblpTNW9kRzFzSWpzTkNpOHZiRzlqWVd4VGRHOXlZV2RsTG5ObGRFbDBaVzBvSjJWNFpVMWxiblZRWVdkbEp5eGxlR1ZOWlc1MVVDazdEUXAyWVhJZ1oyeHZZbUZzV0UxTVRHbHpkRVp2YkdSbGNrNWhiV1VnUFNBaVlXeHNJanNOQ2c9PSIsICJiYXNlNjRVbml0VGVzdE91dHB1dC5qcyJdOyAgICAKICAgIC8vaWYoYmFzZTY0VGVzdFZhclsxXSA9PSAiYmFzZTY0VW5pdFRlc3RPdXRwdXQuanMiKXsKICAgIC8vc2V0VGltZW91dCgid3JpdGVCYXNlNjQoYmFzZTY0VGVzdFZhciwgY2hlY2tCYXNlNjRUb0ZpbGVDb252ZXJzaW9uT0spIiwgNTAwKTsKICAgIC8vfQoKCgp9CgoK", "ustadmobile-test.js"];
var touchswipejs = ["KGZ1bmN0aW9uKGEpe2lmKHR5cGVvZiBkZWZpbmU9PT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kJiZkZWZpbmUuYW1kLmpRdWVyeSl7ZGVmaW5lKFsianF1ZXJ5Il0sYSl9ZWxzZXthKGpRdWVyeSl9fShmdW5jdGlvbihlKXt2YXIgbz0ibGVmdCIsbj0icmlnaHQiLGQ9InVwIix2PSJkb3duIixjPSJpbiIsdz0ib3V0IixsPSJub25lIixyPSJhdXRvIixrPSJzd2lwZSIscz0icGluY2giLHg9InRhcCIsaT0iZG91YmxldGFwIixiPSJsb25ndGFwIixBPSJob3Jpem9udGFsIix0PSJ2ZXJ0aWNhbCIsaD0iYWxsIixxPTEwLGY9InN0YXJ0IixqPSJtb3ZlIixnPSJlbmQiLHA9ImNhbmNlbCIsYT0ib250b3VjaHN0YXJ0IiBpbiB3aW5kb3cseT0iVG91Y2hTd2lwZSI7dmFyIG09e2ZpbmdlcnM6MSx0aHJlc2hvbGQ6NzUsY2FuY2VsVGhyZXNob2xkOm51bGwscGluY2hUaHJlc2hvbGQ6MjAsbWF4VGltZVRocmVzaG9sZDpudWxsLGZpbmdlclJlbGVhc2VUaHJlc2hvbGQ6MjUwLGxvbmdUYXBUaHJlc2hvbGQ6NTAwLGRvdWJsZVRhcFRocmVzaG9sZDoyMDAsc3dpcGU6bnVsbCxzd2lwZUxlZnQ6bnVsbCxzd2lwZVJpZ2h0Om51bGwsc3dpcGVVcDpudWxsLHN3aXBlRG93bjpudWxsLHN3aXBlU3RhdHVzOm51bGwscGluY2hJbjpudWxsLHBpbmNoT3V0Om51bGwscGluY2hTdGF0dXM6bnVsbCxjbGljazpudWxsLHRhcDpudWxsLGRvdWJsZVRhcDpudWxsLGxvbmdUYXA6bnVsbCx0cmlnZ2VyT25Ub3VjaEVuZDp0cnVlLHRyaWdnZXJPblRvdWNoTGVhdmU6ZmFsc2UsYWxsb3dQYWdlU2Nyb2xsOiJhdXRvIixmYWxsYmFja1RvTW91c2VFdmVudHM6dHJ1ZSxleGNsdWRlZEVsZW1lbnRzOiJsYWJlbCwgYnV0dG9uLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYSwgLm5vU3dpcGUifTtlLmZuLnN3aXBlPWZ1bmN0aW9uKEQpe3ZhciBDPWUodGhpcyksQj1DLmRhdGEoeSk7aWYoQiYmdHlwZW9mIEQ9PT0ic3RyaW5nIil7aWYoQltEXSl7cmV0dXJuIEJbRF0uYXBwbHkodGhpcyxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpfWVsc2V7ZS5lcnJvcigiTWV0aG9kICIrRCsiIGRvZXMgbm90IGV4aXN0IG9uIGpRdWVyeS5zd2lwZSIpfX1lbHNle2lmKCFCJiYodHlwZW9mIEQ9PT0ib2JqZWN0Inx8IUQpKXtyZXR1cm4gdS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXJldHVybiBDfTtlLmZuLnN3aXBlLmRlZmF1bHRzPW07ZS5mbi5zd2lwZS5waGFzZXM9e1BIQVNFX1NUQVJUOmYsUEhBU0VfTU9WRTpqLFBIQVNFX0VORDpnLFBIQVNFX0NBTkNFTDpwfTtlLmZuLnN3aXBlLmRpcmVjdGlvbnM9e0xFRlQ6byxSSUdIVDpuLFVQOmQsRE9XTjp2LElOOmMsT1VUOnd9O2UuZm4uc3dpcGUucGFnZVNjcm9sbD17Tk9ORTpsLEhPUklaT05UQUw6QSxWRVJUSUNBTDp0LEFVVE86cn07ZS5mbi5zd2lwZS5maW5nZXJzPXtPTkU6MSxUV086MixUSFJFRTozLEFMTDpofTtmdW5jdGlvbiB1KEIpe2lmKEImJihCLmFsbG93UGFnZVNjcm9sbD09PXVuZGVmaW5lZCYmKEIuc3dpcGUhPT11bmRlZmluZWR8fEIuc3dpcGVTdGF0dXMhPT11bmRlZmluZWQpKSl7Qi5hbGxvd1BhZ2VTY3JvbGw9bH1pZihCLmNsaWNrIT09dW5kZWZpbmVkJiZCLnRhcD09PXVuZGVmaW5lZCl7Qi50YXA9Qi5jbGlja31pZighQil7Qj17fX1CPWUuZXh0ZW5kKHt9LGUuZm4uc3dpcGUuZGVmYXVsdHMsQik7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBEPWUodGhpcyk7dmFyIEM9RC5kYXRhKHkpO2lmKCFDKXtDPW5ldyB6KHRoaXMsQik7RC5kYXRhKHksQyl9fSl9ZnVuY3Rpb24geihhMCxhcSl7dmFyIGF2PShhfHwhYXEuZmFsbGJhY2tUb01vdXNlRXZlbnRzKSxHPWF2PyJ0b3VjaHN0YXJ0IjoibW91c2Vkb3duIixhdT1hdj8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIixSPWF2PyJ0b3VjaGVuZCI6Im1vdXNldXAiLFA9YXY/bnVsbDoibW91c2VsZWF2ZSIsYXo9InRvdWNoY2FuY2VsIjt2YXIgYWM9MCxhTD1udWxsLFk9MCxhWD0wLGFWPTAsRD0xLGFtPTAsYUY9MCxKPW51bGw7dmFyIGFOPWUoYTApO3ZhciBXPSJzdGFydCI7dmFyIFQ9MDt2YXIgYU09bnVsbDt2YXIgUT0wLGFZPTAsYTE9MCxhYT0wLEs9MDt2YXIgYVM9bnVsbDt0cnl7YU4uYmluZChHLGFKKTthTi5iaW5kKGF6LGE1KX1jYXRjaChhZyl7ZS5lcnJvcigiZXZlbnRzIG5vdCBzdXBwb3J0ZWQgIitHKyIsIitheisiIG9uIGpRdWVyeS5zd2lwZSIpfXRoaXMuZW5hYmxlPWZ1bmN0aW9uKCl7YU4uYmluZChHLGFKKTthTi5iaW5kKGF6LGE1KTtyZXR1cm4gYU59O3RoaXMuZGlzYWJsZT1mdW5jdGlvbigpe2FHKCk7cmV0dXJuIGFOfTt0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXthRygpO2FOLmRhdGEoeSxudWxsKTtyZXR1cm4gYU59O3RoaXMub3B0aW9uPWZ1bmN0aW9uKGE4LGE3KXtpZihhcVthOF0hPT11bmRlZmluZWQpe2lmKGE3PT09dW5kZWZpbmVkKXtyZXR1cm4gYXFbYThdfWVsc2V7YXFbYThdPWE3fX1lbHNle2UuZXJyb3IoIk9wdGlvbiAiK2E4KyIgZG9lcyBub3QgZXhpc3Qgb24galF1ZXJ5LnN3aXBlLm9wdGlvbnMiKX1yZXR1cm4gbnVsbH07ZnVuY3Rpb24gYUooYTkpe2lmKGF4KCkpe3JldHVybn1pZihlKGE5LnRhcmdldCkuY2xvc2VzdChhcS5leGNsdWRlZEVsZW1lbnRzLGFOKS5sZW5ndGg+MCl7cmV0dXJufXZhciBiYT1hOS5vcmlnaW5hbEV2ZW50P2E5Lm9yaWdpbmFsRXZlbnQ6YTk7dmFyIGE4LGE3PWE/YmEudG91Y2hlc1swXTpiYTtXPWY7aWYoYSl7VD1iYS50b3VjaGVzLmxlbmd0aH1lbHNle2E5LnByZXZlbnREZWZhdWx0KCl9YWM9MDthTD1udWxsO2FGPW51bGw7WT0wO2FYPTA7YVY9MDtEPTE7YW09MDthTT1hZigpO0o9WCgpO08oKTtpZighYXx8KFQ9PT1hcS5maW5nZXJzfHxhcS5maW5nZXJzPT09aCl8fGFUKCkpe2FlKDAsYTcpO1E9YW8oKTtpZihUPT0yKXthZSgxLGJhLnRvdWNoZXNbMV0pO2FYPWFWPWFwKGFNWzBdLnN0YXJ0LGFNWzFdLnN0YXJ0KX1pZihhcS5zd2lwZVN0YXR1c3x8YXEucGluY2hTdGF0dXMpe2E4PUwoYmEsVyl9fWVsc2V7YTg9ZmFsc2V9aWYoYTg9PT1mYWxzZSl7Vz1wO0woYmEsVyk7cmV0dXJuIGE4fWVsc2V7YWsodHJ1ZSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYVooYmEpe3ZhciBiZD1iYS5vcmlnaW5hbEV2ZW50P2JhLm9yaWdpbmFsRXZlbnQ6YmE7aWYoVz09PWd8fFc9PT1wfHxhaSgpKXtyZXR1cm59dmFyIGE5LGE4PWE/YmQudG91Y2hlc1swXTpiZDt2YXIgYmI9YUQoYTgpO2FZPWFvKCk7aWYoYSl7VD1iZC50b3VjaGVzLmxlbmd0aH1XPWo7aWYoVD09Mil7aWYoYVg9PTApe2FlKDEsYmQudG91Y2hlc1sxXSk7YVg9YVY9YXAoYU1bMF0uc3RhcnQsYU1bMV0uc3RhcnQpfWVsc2V7YUQoYmQudG91Y2hlc1sxXSk7YVY9YXAoYU1bMF0uZW5kLGFNWzFdLmVuZCk7YUY9YW4oYU1bMF0uZW5kLGFNWzFdLmVuZCl9RD1hMyhhWCxhVik7YW09TWF0aC5hYnMoYVgtYVYpfWlmKChUPT09YXEuZmluZ2Vyc3x8YXEuZmluZ2Vycz09PWgpfHwhYXx8YVQoKSl7YUw9YUgoYmIuc3RhcnQsYmIuZW5kKTthaChiYSxhTCk7YWM9YU8oYmIuc3RhcnQsYmIuZW5kKTtZPWFJKCk7YUUoYUwsYWMpO2lmKGFxLnN3aXBlU3RhdHVzfHxhcS5waW5jaFN0YXR1cyl7YTk9TChiZCxXKX1pZighYXEudHJpZ2dlck9uVG91Y2hFbmR8fGFxLnRyaWdnZXJPblRvdWNoTGVhdmUpe3ZhciBhNz10cnVlO2lmKGFxLnRyaWdnZXJPblRvdWNoTGVhdmUpe3ZhciBiYz1hVSh0aGlzKTthNz1CKGJiLmVuZCxiYyl9aWYoIWFxLnRyaWdnZXJPblRvdWNoRW5kJiZhNyl7Vz1heShqKX1lbHNle2lmKGFxLnRyaWdnZXJPblRvdWNoTGVhdmUmJiFhNyl7Vz1heShnKX19aWYoVz09cHx8Vz09Zyl7TChiZCxXKX19fWVsc2V7Vz1wO0woYmQsVyl9aWYoYTk9PT1mYWxzZSl7Vz1wO0woYmQsVyl9fWZ1bmN0aW9uIEkoYTcpe3ZhciBhOD1hNy5vcmlnaW5hbEV2ZW50O2lmKGEpe2lmKGE4LnRvdWNoZXMubGVuZ3RoPjApe0MoKTtyZXR1cm4gdHJ1ZX19aWYoYWkoKSl7VD1hYX1hNy5wcmV2ZW50RGVmYXVsdCgpO2FZPWFvKCk7WT1hSSgpO2lmKGE2KCkpe1c9cDtMKGE4LFcpfWVsc2V7aWYoYXEudHJpZ2dlck9uVG91Y2hFbmR8fChhcS50cmlnZ2VyT25Ub3VjaEVuZD09ZmFsc2UmJlc9PT1qKSl7Vz1nO0woYTgsVyl9ZWxzZXtpZighYXEudHJpZ2dlck9uVG91Y2hFbmQmJmEyKCkpe1c9ZzthQihhOCxXLHgpfWVsc2V7aWYoVz09PWope1c9cDtMKGE4LFcpfX19fWFrKGZhbHNlKTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBhNSgpe1Q9MDthWT0wO1E9MDthWD0wO2FWPTA7RD0xO08oKTthayhmYWxzZSl9ZnVuY3Rpb24gSChhNyl7dmFyIGE4PWE3Lm9yaWdpbmFsRXZlbnQ7aWYoYXEudHJpZ2dlck9uVG91Y2hMZWF2ZSl7Vz1heShnKTtMKGE4LFcpfX1mdW5jdGlvbiBhRygpe2FOLnVuYmluZChHLGFKKTthTi51bmJpbmQoYXosYTUpO2FOLnVuYmluZChhdSxhWik7YU4udW5iaW5kKFIsSSk7aWYoUCl7YU4udW5iaW5kKFAsSCl9YWsoZmFsc2UpfWZ1bmN0aW9uIGF5KGJiKXt2YXIgYmE9YmI7dmFyIGE5PWF3KCk7dmFyIGE4PWFqKCk7dmFyIGE3PWE2KCk7aWYoIWE5fHxhNyl7YmE9cH1lbHNle2lmKGE4JiZiYj09aiYmKCFhcS50cmlnZ2VyT25Ub3VjaEVuZHx8YXEudHJpZ2dlck9uVG91Y2hMZWF2ZSkpe2JhPWd9ZWxzZXtpZighYTgmJmJiPT1nJiZhcS50cmlnZ2VyT25Ub3VjaExlYXZlKXtiYT1wfX19cmV0dXJuIGJhfWZ1bmN0aW9uIEwoYTksYTcpe3ZhciBhOD11bmRlZmluZWQ7aWYoRigpfHxTKCkpe2E4PWFCKGE5LGE3LGspfWVsc2V7aWYoKE0oKXx8YVQoKSkmJmE4IT09ZmFsc2Upe2E4PWFCKGE5LGE3LHMpfX1pZihhQygpJiZhOCE9PWZhbHNlKXthOD1hQihhOSxhNyxpKX1lbHNle2lmKGFsKCkmJmE4IT09ZmFsc2Upe2E4PWFCKGE5LGE3LGIpfWVsc2V7aWYoYWQoKSYmYTghPT1mYWxzZSl7YTg9YUIoYTksYTcseCl9fX1pZihhNz09PXApe2E1KGE5KX1pZihhNz09PWcpe2lmKGEpe2lmKGE5LnRvdWNoZXMubGVuZ3RoPT0wKXthNShhOSl9fWVsc2V7YTUoYTkpfX1yZXR1cm4gYTh9ZnVuY3Rpb24gYUIoYmEsYTcsYTkpe3ZhciBhOD11bmRlZmluZWQ7aWYoYTk9PWspe2FOLnRyaWdnZXIoInN3aXBlU3RhdHVzIixbYTcsYUx8fG51bGwsYWN8fDAsWXx8MCxUXSk7aWYoYXEuc3dpcGVTdGF0dXMpe2E4PWFxLnN3aXBlU3RhdHVzLmNhbGwoYU4sYmEsYTcsYUx8fG51bGwsYWN8fDAsWXx8MCxUKTtpZihhOD09PWZhbHNlKXtyZXR1cm4gZmFsc2V9fWlmKGE3PT1nJiZhUigpKXthTi50cmlnZ2VyKCJzd2lwZSIsW2FMLGFjLFksVF0pO2lmKGFxLnN3aXBlKXthOD1hcS5zd2lwZS5jYWxsKGFOLGJhLGFMLGFjLFksVCk7aWYoYTg9PT1mYWxzZSl7cmV0dXJuIGZhbHNlfX1zd2l0Y2goYUwpe2Nhc2UgbzphTi50cmlnZ2VyKCJzd2lwZUxlZnQiLFthTCxhYyxZLFRdKTtpZihhcS5zd2lwZUxlZnQpe2E4PWFxLnN3aXBlTGVmdC5jYWxsKGFOLGJhLGFMLGFjLFksVCl9YnJlYWs7Y2FzZSBuOmFOLnRyaWdnZXIoInN3aXBlUmlnaHQiLFthTCxhYyxZLFRdKTtpZihhcS5zd2lwZVJpZ2h0KXthOD1hcS5zd2lwZVJpZ2h0LmNhbGwoYU4sYmEsYUwsYWMsWSxUKX1icmVhaztjYXNlIGQ6YU4udHJpZ2dlcigic3dpcGVVcCIsW2FMLGFjLFksVF0pO2lmKGFxLnN3aXBlVXApe2E4PWFxLnN3aXBlVXAuY2FsbChhTixiYSxhTCxhYyxZLFQpfWJyZWFrO2Nhc2UgdjphTi50cmlnZ2VyKCJzd2lwZURvd24iLFthTCxhYyxZLFRdKTtpZihhcS5zd2lwZURvd24pe2E4PWFxLnN3aXBlRG93bi5jYWxsKGFOLGJhLGFMLGFjLFksVCl9YnJlYWt9fX1pZihhOT09cyl7YU4udHJpZ2dlcigicGluY2hTdGF0dXMiLFthNyxhRnx8bnVsbCxhbXx8MCxZfHwwLFQsRF0pO2lmKGFxLnBpbmNoU3RhdHVzKXthOD1hcS5waW5jaFN0YXR1cy5jYWxsKGFOLGJhLGE3LGFGfHxudWxsLGFtfHwwLFl8fDAsVCxEKTtpZihhOD09PWZhbHNlKXtyZXR1cm4gZmFsc2V9fWlmKGE3PT1nJiZhNCgpKXtzd2l0Y2goYUYpe2Nhc2UgYzphTi50cmlnZ2VyKCJwaW5jaEluIixbYUZ8fG51bGwsYW18fDAsWXx8MCxULERdKTtpZihhcS5waW5jaEluKXthOD1hcS5waW5jaEluLmNhbGwoYU4sYmEsYUZ8fG51bGwsYW18fDAsWXx8MCxULEQpfWJyZWFrO2Nhc2UgdzphTi50cmlnZ2VyKCJwaW5jaE91dCIsW2FGfHxudWxsLGFtfHwwLFl8fDAsVCxEXSk7aWYoYXEucGluY2hPdXQpe2E4PWFxLnBpbmNoT3V0LmNhbGwoYU4sYmEsYUZ8fG51bGwsYW18fDAsWXx8MCxULEQpfWJyZWFrfX19aWYoYTk9PXgpe2lmKGE3PT09cHx8YTc9PT1nKXtjbGVhclRpbWVvdXQoYVMpO2lmKFYoKSYmIUUoKSl7Sz1hbygpO2FTPXNldFRpbWVvdXQoZS5wcm94eShmdW5jdGlvbigpe0s9bnVsbDthTi50cmlnZ2VyKCJ0YXAiLFtiYS50YXJnZXRdKTtpZihhcS50YXApe2E4PWFxLnRhcC5jYWxsKGFOLGJhLGJhLnRhcmdldCl9fSx0aGlzKSxhcS5kb3VibGVUYXBUaHJlc2hvbGQpfWVsc2V7Sz1udWxsO2FOLnRyaWdnZXIoInRhcCIsW2JhLnRhcmdldF0pO2lmKGFxLnRhcCl7YTg9YXEudGFwLmNhbGwoYU4sYmEsYmEudGFyZ2V0KX19fX1lbHNle2lmKGE5PT1pKXtpZihhNz09PXB8fGE3PT09Zyl7Y2xlYXJUaW1lb3V0KGFTKTtLPW51bGw7YU4udHJpZ2dlcigiZG91YmxldGFwIixbYmEudGFyZ2V0XSk7aWYoYXEuZG91YmxlVGFwKXthOD1hcS5kb3VibGVUYXAuY2FsbChhTixiYSxiYS50YXJnZXQpfX19ZWxzZXtpZihhOT09Yil7aWYoYTc9PT1wfHxhNz09PWcpe2NsZWFyVGltZW91dChhUyk7Sz1udWxsO2FOLnRyaWdnZXIoImxvbmd0YXAiLFtiYS50YXJnZXRdKTtpZihhcS5sb25nVGFwKXthOD1hcS5sb25nVGFwLmNhbGwoYU4sYmEsYmEudGFyZ2V0KX19fX19cmV0dXJuIGE4fWZ1bmN0aW9uIGFqKCl7dmFyIGE3PXRydWU7aWYoYXEudGhyZXNob2xkIT09bnVsbCl7YTc9YWM+PWFxLnRocmVzaG9sZH1yZXR1cm4gYTd9ZnVuY3Rpb24gYTYoKXt2YXIgYTc9ZmFsc2U7aWYoYXEuY2FuY2VsVGhyZXNob2xkIT09bnVsbCYmYUwhPT1udWxsKXthNz0oYVAoYUwpLWFjKT49YXEuY2FuY2VsVGhyZXNob2xkfXJldHVybiBhN31mdW5jdGlvbiBhYigpe2lmKGFxLnBpbmNoVGhyZXNob2xkIT09bnVsbCl7cmV0dXJuIGFtPj1hcS5waW5jaFRocmVzaG9sZH1yZXR1cm4gdHJ1ZX1mdW5jdGlvbiBhdygpe3ZhciBhNztpZihhcS5tYXhUaW1lVGhyZXNob2xkKXtpZihZPj1hcS5tYXhUaW1lVGhyZXNob2xkKXthNz1mYWxzZX1lbHNle2E3PXRydWV9fWVsc2V7YTc9dHJ1ZX1yZXR1cm4gYTd9ZnVuY3Rpb24gYWgoYTcsYTgpe2lmKGFxLmFsbG93UGFnZVNjcm9sbD09PWx8fGFUKCkpe2E3LnByZXZlbnREZWZhdWx0KCl9ZWxzZXt2YXIgYTk9YXEuYWxsb3dQYWdlU2Nyb2xsPT09cjtzd2l0Y2goYTgpe2Nhc2UgbzppZigoYXEuc3dpcGVMZWZ0JiZhOSl8fCghYTkmJmFxLmFsbG93UGFnZVNjcm9sbCE9QSkpe2E3LnByZXZlbnREZWZhdWx0KCl9YnJlYWs7Y2FzZSBuOmlmKChhcS5zd2lwZVJpZ2h0JiZhOSl8fCghYTkmJmFxLmFsbG93UGFnZVNjcm9sbCE9QSkpe2E3LnByZXZlbnREZWZhdWx0KCl9YnJlYWs7Y2FzZSBkOmlmKChhcS5zd2lwZVVwJiZhOSl8fCghYTkmJmFxLmFsbG93UGFnZVNjcm9sbCE9dCkpe2E3LnByZXZlbnREZWZhdWx0KCl9YnJlYWs7Y2FzZSB2OmlmKChhcS5zd2lwZURvd24mJmE5KXx8KCFhOSYmYXEuYWxsb3dQYWdlU2Nyb2xsIT10KSl7YTcucHJldmVudERlZmF1bHQoKX1icmVha319fWZ1bmN0aW9uIGE0KCl7dmFyIGE4PWFLKCk7dmFyIGE3PVUoKTt2YXIgYTk9YWIoKTtyZXR1cm4gYTgmJmE3JiZhOX1mdW5jdGlvbiBhVCgpe3JldHVybiAhIShhcS5waW5jaFN0YXR1c3x8YXEucGluY2hJbnx8YXEucGluY2hPdXQpfWZ1bmN0aW9uIE0oKXtyZXR1cm4gISEoYTQoKSYmYVQoKSl9ZnVuY3Rpb24gYVIoKXt2YXIgYmE9YXcoKTt2YXIgYmM9YWooKTt2YXIgYTk9YUsoKTt2YXIgYTc9VSgpO3ZhciBhOD1hNigpO3ZhciBiYj0hYTgmJmE3JiZhOSYmYmMmJmJhO3JldHVybiBiYn1mdW5jdGlvbiBTKCl7cmV0dXJuICEhKGFxLnN3aXBlfHxhcS5zd2lwZVN0YXR1c3x8YXEuc3dpcGVMZWZ0fHxhcS5zd2lwZVJpZ2h0fHxhcS5zd2lwZVVwfHxhcS5zd2lwZURvd24pfWZ1bmN0aW9uIEYoKXtyZXR1cm4gISEoYVIoKSYmUygpKX1mdW5jdGlvbiBhSygpe3JldHVybigoVD09PWFxLmZpbmdlcnN8fGFxLmZpbmdlcnM9PT1oKXx8IWEpfWZ1bmN0aW9uIFUoKXtyZXR1cm4gYU1bMF0uZW5kLnghPT0wfWZ1bmN0aW9uIGEyKCl7cmV0dXJuICEhKGFxLnRhcCl9ZnVuY3Rpb24gVigpe3JldHVybiAhIShhcS5kb3VibGVUYXApfWZ1bmN0aW9uIGFRKCl7cmV0dXJuICEhKGFxLmxvbmdUYXApfWZ1bmN0aW9uIE4oKXtpZihLPT1udWxsKXtyZXR1cm4gZmFsc2V9dmFyIGE3PWFvKCk7cmV0dXJuKFYoKSYmKChhNy1LKTw9YXEuZG91YmxlVGFwVGhyZXNob2xkKSl9ZnVuY3Rpb24gRSgpe3JldHVybiBOKCl9ZnVuY3Rpb24gYXQoKXtyZXR1cm4oKFQ9PT0xfHwhYSkmJihpc05hTihhYyl8fGFjPT09MCkpfWZ1bmN0aW9uIGFXKCl7cmV0dXJuKChZPmFxLmxvbmdUYXBUaHJlc2hvbGQpJiYoYWM8cSkpfWZ1bmN0aW9uIGFkKCl7cmV0dXJuICEhKGF0KCkmJmEyKCkpfWZ1bmN0aW9uIGFDKCl7cmV0dXJuICEhKE4oKSYmVigpKX1mdW5jdGlvbiBhbCgpe3JldHVybiAhIShhVygpJiZhUSgpKX1mdW5jdGlvbiBDKCl7YTE9YW8oKTthYT1ldmVudC50b3VjaGVzLmxlbmd0aCsxfWZ1bmN0aW9uIE8oKXthMT0wO2FhPTB9ZnVuY3Rpb24gYWkoKXt2YXIgYTc9ZmFsc2U7aWYoYTEpe3ZhciBhOD1hbygpLWExO2lmKGE4PD1hcS5maW5nZXJSZWxlYXNlVGhyZXNob2xkKXthNz10cnVlfX1yZXR1cm4gYTd9ZnVuY3Rpb24gYXgoKXtyZXR1cm4gISEoYU4uZGF0YSh5KyJfaW50b3VjaCIpPT09dHJ1ZSl9ZnVuY3Rpb24gYWsoYTcpe2lmKGE3PT09dHJ1ZSl7YU4uYmluZChhdSxhWik7YU4uYmluZChSLEkpO2lmKFApe2FOLmJpbmQoUCxIKX19ZWxzZXthTi51bmJpbmQoYXUsYVosZmFsc2UpO2FOLnVuYmluZChSLEksZmFsc2UpO2lmKFApe2FOLnVuYmluZChQLEgsZmFsc2UpfX1hTi5kYXRhKHkrIl9pbnRvdWNoIixhNz09PXRydWUpfWZ1bmN0aW9uIGFlKGE4LGE3KXt2YXIgYTk9YTcuaWRlbnRpZmllciE9PXVuZGVmaW5lZD9hNy5pZGVudGlmaWVyOjA7YU1bYThdLmlkZW50aWZpZXI9YTk7YU1bYThdLnN0YXJ0Lng9YU1bYThdLmVuZC54PWE3LnBhZ2VYfHxhNy5jbGllbnRYO2FNW2E4XS5zdGFydC55PWFNW2E4XS5lbmQueT1hNy5wYWdlWXx8YTcuY2xpZW50WTtyZXR1cm4gYU1bYThdfWZ1bmN0aW9uIGFEKGE3KXt2YXIgYTk9YTcuaWRlbnRpZmllciE9PXVuZGVmaW5lZD9hNy5pZGVudGlmaWVyOjA7dmFyIGE4PVooYTkpO2E4LmVuZC54PWE3LnBhZ2VYfHxhNy5jbGllbnRYO2E4LmVuZC55PWE3LnBhZ2VZfHxhNy5jbGllbnRZO3JldHVybiBhOH1mdW5jdGlvbiBaKGE4KXtmb3IodmFyIGE3PTA7YTc8YU0ubGVuZ3RoO2E3Kyspe2lmKGFNW2E3XS5pZGVudGlmaWVyPT1hOCl7cmV0dXJuIGFNW2E3XX19fWZ1bmN0aW9uIGFmKCl7dmFyIGE3PVtdO2Zvcih2YXIgYTg9MDthODw9NTthOCsrKXthNy5wdXNoKHtzdGFydDp7eDowLHk6MH0sZW5kOnt4OjAseTowfSxpZGVudGlmaWVyOjB9KX1yZXR1cm4gYTd9ZnVuY3Rpb24gYUUoYTcsYTgpe2E4PU1hdGgubWF4KGE4LGFQKGE3KSk7SlthN10uZGlzdGFuY2U9YTh9ZnVuY3Rpb24gYVAoYTcpe2lmKEpbYTddKXtyZXR1cm4gSlthN10uZGlzdGFuY2V9cmV0dXJuIHVuZGVmaW5lZH1mdW5jdGlvbiBYKCl7dmFyIGE3PXt9O2E3W29dPWFyKG8pO2E3W25dPWFyKG4pO2E3W2RdPWFyKGQpO2E3W3ZdPWFyKHYpO3JldHVybiBhN31mdW5jdGlvbiBhcihhNyl7cmV0dXJue2RpcmVjdGlvbjphNyxkaXN0YW5jZTowfX1mdW5jdGlvbiBhSSgpe3JldHVybiBhWS1RfWZ1bmN0aW9uIGFwKGJhLGE5KXt2YXIgYTg9TWF0aC5hYnMoYmEueC1hOS54KTt2YXIgYTc9TWF0aC5hYnMoYmEueS1hOS55KTtyZXR1cm4gTWF0aC5yb3VuZChNYXRoLnNxcnQoYTgqYTgrYTcqYTcpKX1mdW5jdGlvbiBhMyhhNyxhOCl7dmFyIGE5PShhOC9hNykqMTtyZXR1cm4gYTkudG9GaXhlZCgyKX1mdW5jdGlvbiBhbigpe2lmKEQ8MSl7cmV0dXJuIHd9ZWxzZXtyZXR1cm4gY319ZnVuY3Rpb24gYU8oYTgsYTcpe3JldHVybiBNYXRoLnJvdW5kKE1hdGguc3FydChNYXRoLnBvdyhhNy54LWE4LngsMikrTWF0aC5wb3coYTcueS1hOC55LDIpKSl9ZnVuY3Rpb24gYUEoYmEsYTgpe3ZhciBhNz1iYS54LWE4Lng7dmFyIGJjPWE4LnktYmEueTt2YXIgYTk9TWF0aC5hdGFuMihiYyxhNyk7dmFyIGJiPU1hdGgucm91bmQoYTkqMTgwL01hdGguUEkpO2lmKGJiPDApe2JiPTM2MC1NYXRoLmFicyhiYil9cmV0dXJuIGJifWZ1bmN0aW9uIGFIKGE4LGE3KXt2YXIgYTk9YUEoYTgsYTcpO2lmKChhOTw9NDUpJiYoYTk+PTApKXtyZXR1cm4gb31lbHNle2lmKChhOTw9MzYwKSYmKGE5Pj0zMTUpKXtyZXR1cm4gb31lbHNle2lmKChhOT49MTM1KSYmKGE5PD0yMjUpKXtyZXR1cm4gbn1lbHNle2lmKChhOT40NSkmJihhOTwxMzUpKXtyZXR1cm4gdn1lbHNle3JldHVybiBkfX19fX1mdW5jdGlvbiBhbygpe3ZhciBhNz1uZXcgRGF0ZSgpO3JldHVybiBhNy5nZXRUaW1lKCl9ZnVuY3Rpb24gYVUoYTcpe2E3PWUoYTcpO3ZhciBhOT1hNy5vZmZzZXQoKTt2YXIgYTg9e2xlZnQ6YTkubGVmdCxyaWdodDphOS5sZWZ0K2E3Lm91dGVyV2lkdGgoKSx0b3A6YTkudG9wLGJvdHRvbTphOS50b3ArYTcub3V0ZXJIZWlnaHQoKX07cmV0dXJuIGE4fWZ1bmN0aW9uIEIoYTcsYTgpe3JldHVybihhNy54PmE4LmxlZnQmJmE3Lng8YTgucmlnaHQmJmE3Lnk+YTgudG9wJiZhNy55PGE4LmJvdHRvbSl9fX0pKTs=", "jquery.touchSwipe.min.js"];
var base64Testjs = ["dmFyIGV4ZUxhc3RQYWdlID0gIi4uLyI7CnZhciBleGVNZW51UGFnZSA9ICJ1c3RhZG1vYmlsZV9tZW51UGFnZS5odG1sIjsKLy9sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZXhlTWVudVBhZ2UnLGV4ZU1lbnVQKTsKdmFyIGdsb2JhbFhNTExpc3RGb2xkZXJOYW1lID0gImFsbCI7Cgo=", "base64Test.js"];
var modernizrjs = ["LyogTW9kZXJuaXpyIDIuNy4wIChDdXN0b20gQnVpbGQpIHwgTUlUICYgQlNECiAqIEJ1aWxkOiBodHRwOi8vbW9kZXJuaXpyLmNvbS9kb3dubG9hZC8jLWZvbnRmYWNlLWJhY2tncm91bmRzaXplLWJvcmRlcmltYWdlLWJvcmRlcnJhZGl1cy1ib3hzaGFkb3ctZmxleGJveC1oc2xhLW11bHRpcGxlYmdzLW9wYWNpdHktcmdiYS10ZXh0c2hhZG93LWNzc2FuaW1hdGlvbnMtY3NzY29sdW1ucy1nZW5lcmF0ZWRjb250ZW50LWNzc2dyYWRpZW50cy1jc3NyZWZsZWN0aW9ucy1jc3N0cmFuc2Zvcm1zLWNzc3RyYW5zZm9ybXMzZC1jc3N0cmFuc2l0aW9ucy1hcHBsaWNhdGlvbmNhY2hlLWNhbnZhcy1jYW52YXN0ZXh0LWRyYWdhbmRkcm9wLWhhc2hjaGFuZ2UtaGlzdG9yeS1hdWRpby12aWRlby1pbmRleGVkZGItaW5wdXQtaW5wdXR0eXBlcy1sb2NhbHN0b3JhZ2UtcG9zdG1lc3NhZ2Utc2Vzc2lvbnN0b3JhZ2Utd2Vic29ja2V0cy13ZWJzcWxkYXRhYmFzZS13ZWJ3b3JrZXJzLWdlb2xvY2F0aW9uLWlubGluZXN2Zy1zbWlsLXN2Zy1zdmdjbGlwcGF0aHMtdG91Y2gtd2ViZ2wtc2hpdi1jc3NjbGFzc2VzLWFkZHRlc3QtcHJlZml4ZWQtdGVzdHN0eWxlcy10ZXN0cHJvcC10ZXN0YWxscHJvcHMtaGFzZXZlbnQtcHJlZml4ZXMtZG9tcHJlZml4ZXMtbG9hZAogKi8KOwoKCgp3aW5kb3cuTW9kZXJuaXpyID0gKGZ1bmN0aW9uKCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQgKSB7CgogICAgdmFyIHZlcnNpb24gPSAnMi43LjAnLAoKICAgIE1vZGVybml6ciA9IHt9LAoKICAgIGVuYWJsZUNsYXNzZXMgPSB0cnVlLAoKICAgIGRvY0VsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsCgogICAgbW9kID0gJ21vZGVybml6cicsCiAgICBtb2RFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChtb2QpLAogICAgbVN0eWxlID0gbW9kRWxlbS5zdHlsZSwKCiAgICBpbnB1dEVsZW0gID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKSAgLAoKICAgIHNtaWxlID0gJzopJywKCiAgICB0b1N0cmluZyA9IHt9LnRvU3RyaW5nLAoKICAgIHByZWZpeGVzID0gJyAtd2Via2l0LSAtbW96LSAtby0gLW1zLSAnLnNwbGl0KCcgJyksCgoKCiAgICBvbVByZWZpeGVzID0gJ1dlYmtpdCBNb3ogTyBtcycsCgogICAgY3Nzb21QcmVmaXhlcyA9IG9tUHJlZml4ZXMuc3BsaXQoJyAnKSwKCiAgICBkb21QcmVmaXhlcyA9IG9tUHJlZml4ZXMudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpLAoKICAgIG5zID0geydzdmcnOiAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnfSwKCiAgICB0ZXN0cyA9IHt9LAogICAgaW5wdXRzID0ge30sCiAgICBhdHRycyA9IHt9LAoKICAgIGNsYXNzZXMgPSBbXSwKCiAgICBzbGljZSA9IGNsYXNzZXMuc2xpY2UsCgogICAgZmVhdHVyZU5hbWUsIAoKCiAgICBpbmplY3RFbGVtZW50V2l0aFN0eWxlcyA9IGZ1bmN0aW9uKCBydWxlLCBjYWxsYmFjaywgbm9kZXMsIHRlc3RuYW1lcyApIHsKCiAgICAgIHZhciBzdHlsZSwgcmV0LCBub2RlLCBkb2NPdmVyZmxvdywKICAgICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLAogICAgICAgICAgICAgICAgYm9keSA9IGRvY3VtZW50LmJvZHksCiAgICAgICAgICAgICAgICBmYWtlQm9keSA9IGJvZHkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9keScpOwoKICAgICAgaWYgKCBwYXJzZUludChub2RlcywgMTApICkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCBub2Rlcy0tICkgewogICAgICAgICAgICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICBub2RlLmlkID0gdGVzdG5hbWVzID8gdGVzdG5hbWVzW25vZGVzXSA6IG1vZCArIChub2RlcyArIDEpOwogICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChub2RlKTsKICAgICAgICAgIH0KICAgICAgfQoKICAgICAgICAgICAgICAgIHN0eWxlID0gWycmIzE3MzsnLCc8c3R5bGUgaWQ9InMnLCBtb2QsICciPicsIHJ1bGUsICc8L3N0eWxlPiddLmpvaW4oJycpOwogICAgICBkaXYuaWQgPSBtb2Q7CiAgICAgICAgICAoYm9keSA/IGRpdiA6IGZha2VCb2R5KS5pbm5lckhUTUwgKz0gc3R5bGU7CiAgICAgIGZha2VCb2R5LmFwcGVuZENoaWxkKGRpdik7CiAgICAgIGlmICggIWJvZHkgKSB7CiAgICAgICAgICAgICAgICBmYWtlQm9keS5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7CiAgICAgICAgICAgICAgICBmYWtlQm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nOwogICAgICAgICAgZG9jT3ZlcmZsb3cgPSBkb2NFbGVtZW50LnN0eWxlLm92ZXJmbG93OwogICAgICAgICAgZG9jRWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nOwogICAgICAgICAgZG9jRWxlbWVudC5hcHBlbmRDaGlsZChmYWtlQm9keSk7CiAgICAgIH0KCiAgICAgIHJldCA9IGNhbGxiYWNrKGRpdiwgcnVsZSk7CiAgICAgICAgaWYgKCAhYm9keSApIHsKICAgICAgICAgIGZha2VCb2R5LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZmFrZUJvZHkpOwogICAgICAgICAgZG9jRWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IGRvY092ZXJmbG93OwogICAgICB9IGVsc2UgewogICAgICAgICAgZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGl2KTsKICAgICAgfQoKICAgICAgcmV0dXJuICEhcmV0OwoKICAgIH0sCgoKCiAgICBpc0V2ZW50U3VwcG9ydGVkID0gKGZ1bmN0aW9uKCkgewoKICAgICAgdmFyIFRBR05BTUVTID0gewogICAgICAgICdzZWxlY3QnOiAnaW5wdXQnLCAnY2hhbmdlJzogJ2lucHV0JywKICAgICAgICAnc3VibWl0JzogJ2Zvcm0nLCAncmVzZXQnOiAnZm9ybScsCiAgICAgICAgJ2Vycm9yJzogJ2ltZycsICdsb2FkJzogJ2ltZycsICdhYm9ydCc6ICdpbWcnCiAgICAgIH07CgogICAgICBmdW5jdGlvbiBpc0V2ZW50U3VwcG9ydGVkKCBldmVudE5hbWUsIGVsZW1lbnQgKSB7CgogICAgICAgIGVsZW1lbnQgPSBlbGVtZW50IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoVEFHTkFNRVNbZXZlbnROYW1lXSB8fCAnZGl2Jyk7CiAgICAgICAgZXZlbnROYW1lID0gJ29uJyArIGV2ZW50TmFtZTsKCiAgICAgICAgICAgIHZhciBpc1N1cHBvcnRlZCA9IGV2ZW50TmFtZSBpbiBlbGVtZW50OwoKICAgICAgICBpZiAoICFpc1N1cHBvcnRlZCApIHsKICAgICAgICAgICAgICAgIGlmICggIWVsZW1lbnQuc2V0QXR0cmlidXRlICkgewogICAgICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIGVsZW1lbnQuc2V0QXR0cmlidXRlICYmIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlICkgewogICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShldmVudE5hbWUsICcnKTsKICAgICAgICAgICAgaXNTdXBwb3J0ZWQgPSBpcyhlbGVtZW50W2V2ZW50TmFtZV0sICdmdW5jdGlvbicpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoICFpcyhlbGVtZW50W2V2ZW50TmFtZV0sICd1bmRlZmluZWQnKSApIHsKICAgICAgICAgICAgICBlbGVtZW50W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoZXZlbnROYW1lKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGVsZW1lbnQgPSBudWxsOwogICAgICAgIHJldHVybiBpc1N1cHBvcnRlZDsKICAgICAgfQogICAgICByZXR1cm4gaXNFdmVudFN1cHBvcnRlZDsKICAgIH0pKCksCgoKICAgIF9oYXNPd25Qcm9wZXJ0eSA9ICh7fSkuaGFzT3duUHJvcGVydHksIGhhc093blByb3A7CgogICAgaWYgKCAhaXMoX2hhc093blByb3BlcnR5LCAndW5kZWZpbmVkJykgJiYgIWlzKF9oYXNPd25Qcm9wZXJ0eS5jYWxsLCAndW5kZWZpbmVkJykgKSB7CiAgICAgIGhhc093blByb3AgPSBmdW5jdGlvbiAob2JqZWN0LCBwcm9wZXJ0eSkgewogICAgICAgIHJldHVybiBfaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsKICAgICAgfTsKICAgIH0KICAgIGVsc2UgewogICAgICBoYXNPd25Qcm9wID0gZnVuY3Rpb24gKG9iamVjdCwgcHJvcGVydHkpIHsgCiAgICAgICAgcmV0dXJuICgocHJvcGVydHkgaW4gb2JqZWN0KSAmJiBpcyhvYmplY3QuY29uc3RydWN0b3IucHJvdG90eXBlW3Byb3BlcnR5XSwgJ3VuZGVmaW5lZCcpKTsKICAgICAgfTsKICAgIH0KCgogICAgaWYgKCFGdW5jdGlvbi5wcm90b3R5cGUuYmluZCkgewogICAgICBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQodGhhdCkgewoKICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpczsKCiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7CiAgICAgICAgfQoKICAgICAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwKICAgICAgICAgICAgYm91bmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIGJvdW5kKSB7CgogICAgICAgICAgICAgIHZhciBGID0gZnVuY3Rpb24oKXt9OwogICAgICAgICAgICAgIEYucHJvdG90eXBlID0gdGFyZ2V0LnByb3RvdHlwZTsKICAgICAgICAgICAgICB2YXIgc2VsZiA9IG5ldyBGKCk7CgogICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0YXJnZXQuYXBwbHkoCiAgICAgICAgICAgICAgICAgIHNlbGYsCiAgICAgICAgICAgICAgICAgIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIGlmIChPYmplY3QocmVzdWx0KSA9PT0gcmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBzZWxmOwoKICAgICAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseSgKICAgICAgICAgICAgICAgICAgdGhhdCwKICAgICAgICAgICAgICAgICAgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKQogICAgICAgICAgICAgICk7CgogICAgICAgICAgICB9CgogICAgICAgIH07CgogICAgICAgIHJldHVybiBib3VuZDsKICAgICAgfTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRDc3MoIHN0ciApIHsKICAgICAgICBtU3R5bGUuY3NzVGV4dCA9IHN0cjsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRDc3NBbGwoIHN0cjEsIHN0cjIgKSB7CiAgICAgICAgcmV0dXJuIHNldENzcyhwcmVmaXhlcy5qb2luKHN0cjEgKyAnOycpICsgKCBzdHIyIHx8ICcnICkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzKCBvYmosIHR5cGUgKSB7CiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IHR5cGU7CiAgICB9CgogICAgZnVuY3Rpb24gY29udGFpbnMoIHN0ciwgc3Vic3RyICkgewogICAgICAgIHJldHVybiAhIX4oJycgKyBzdHIpLmluZGV4T2Yoc3Vic3RyKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0ZXN0UHJvcHMoIHByb3BzLCBwcmVmaXhlZCApIHsKICAgICAgICBmb3IgKCB2YXIgaSBpbiBwcm9wcyApIHsKICAgICAgICAgICAgdmFyIHByb3AgPSBwcm9wc1tpXTsKICAgICAgICAgICAgaWYgKCAhY29udGFpbnMocHJvcCwgIi0iKSAmJiBtU3R5bGVbcHJvcF0gIT09IHVuZGVmaW5lZCApIHsKICAgICAgICAgICAgICAgIHJldHVybiBwcmVmaXhlZCA9PSAncGZ4JyA/IHByb3AgOiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0ZXN0RE9NUHJvcHMoIHByb3BzLCBvYmosIGVsZW0gKSB7CiAgICAgICAgZm9yICggdmFyIGkgaW4gcHJvcHMgKSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gb2JqW3Byb3BzW2ldXTsKICAgICAgICAgICAgaWYgKCBpdGVtICE9PSB1bmRlZmluZWQpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbSA9PT0gZmFsc2UpIHJldHVybiBwcm9wc1tpXTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXMoaXRlbSwgJ2Z1bmN0aW9uJykpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmJpbmQoZWxlbSB8fCBvYmopOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiB0ZXN0UHJvcHNBbGwoIHByb3AsIHByZWZpeGVkLCBlbGVtICkgewoKICAgICAgICB2YXIgdWNQcm9wICA9IHByb3AuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wLnNsaWNlKDEpLAogICAgICAgICAgICBwcm9wcyAgID0gKHByb3AgKyAnICcgKyBjc3NvbVByZWZpeGVzLmpvaW4odWNQcm9wICsgJyAnKSArIHVjUHJvcCkuc3BsaXQoJyAnKTsKCiAgICAgICAgICAgIGlmKGlzKHByZWZpeGVkLCAic3RyaW5nIikgfHwgaXMocHJlZml4ZWQsICJ1bmRlZmluZWQiKSkgewogICAgICAgICAgcmV0dXJuIHRlc3RQcm9wcyhwcm9wcywgcHJlZml4ZWQpOwoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHByb3BzID0gKHByb3AgKyAnICcgKyAoZG9tUHJlZml4ZXMpLmpvaW4odWNQcm9wICsgJyAnKSArIHVjUHJvcCkuc3BsaXQoJyAnKTsKICAgICAgICAgIHJldHVybiB0ZXN0RE9NUHJvcHMocHJvcHMsIHByZWZpeGVkLCBlbGVtKTsKICAgICAgICB9CiAgICB9ICAgIHRlc3RzWydmbGV4Ym94J10gPSBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRlc3RQcm9wc0FsbCgnZmxleFdyYXAnKTsKICAgIH07ICAgIHRlc3RzWydjYW52YXMnXSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgcmV0dXJuICEhKGVsZW0uZ2V0Q29udGV4dCAmJiBlbGVtLmdldENvbnRleHQoJzJkJykpOwogICAgfTsKCiAgICB0ZXN0c1snY2FudmFzdGV4dCddID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuICEhKE1vZGVybml6clsnY2FudmFzJ10gJiYgaXMoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnMmQnKS5maWxsVGV4dCwgJ2Z1bmN0aW9uJykpOwogICAgfTsKCgoKICAgIHRlc3RzWyd3ZWJnbCddID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuICEhd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dDsKICAgIH07CgoKICAgIHRlc3RzWyd0b3VjaCddID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGJvb2w7CgogICAgICAgIGlmKCgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHx8IHdpbmRvdy5Eb2N1bWVudFRvdWNoICYmIGRvY3VtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRUb3VjaCkgewogICAgICAgICAgYm9vbCA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGluamVjdEVsZW1lbnRXaXRoU3R5bGVzKFsnQG1lZGlhICgnLHByZWZpeGVzLmpvaW4oJ3RvdWNoLWVuYWJsZWQpLCgnKSxtb2QsJyknLCd7I21vZGVybml6cnt0b3A6OXB4O3Bvc2l0aW9uOmFic29sdXRlfX0nXS5qb2luKCcnKSwgZnVuY3Rpb24oIG5vZGUgKSB7CiAgICAgICAgICAgIGJvb2wgPSBub2RlLm9mZnNldFRvcCA9PT0gOTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGJvb2w7CiAgICB9OwoKCgogICAgdGVzdHNbJ2dlb2xvY2F0aW9uJ10gPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gJ2dlb2xvY2F0aW9uJyBpbiBuYXZpZ2F0b3I7CiAgICB9OwoKCiAgICB0ZXN0c1sncG9zdG1lc3NhZ2UnXSA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gISF3aW5kb3cucG9zdE1lc3NhZ2U7CiAgICB9OwoKCiAgICB0ZXN0c1snd2Vic3FsZGF0YWJhc2UnXSA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gISF3aW5kb3cub3BlbkRhdGFiYXNlOwogICAgfTsKCiAgICB0ZXN0c1snaW5kZXhlZERCJ10gPSBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuICEhdGVzdFByb3BzQWxsKCJpbmRleGVkREIiLCB3aW5kb3cpOwogICAgfTsKCiAgICB0ZXN0c1snaGFzaGNoYW5nZSddID0gZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiBpc0V2ZW50U3VwcG9ydGVkKCdoYXNoY2hhbmdlJywgd2luZG93KSAmJiAoZG9jdW1lbnQuZG9jdW1lbnRNb2RlID09PSB1bmRlZmluZWQgfHwgZG9jdW1lbnQuZG9jdW1lbnRNb2RlID4gNyk7CiAgICB9OwoKICAgIHRlc3RzWydoaXN0b3J5J10gPSBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuICEhKHdpbmRvdy5oaXN0b3J5ICYmIGhpc3RvcnkucHVzaFN0YXRlKTsKICAgIH07CgogICAgdGVzdHNbJ2RyYWdhbmRkcm9wJ10gPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgcmV0dXJuICgnZHJhZ2dhYmxlJyBpbiBkaXYpIHx8ICgnb25kcmFnc3RhcnQnIGluIGRpdiAmJiAnb25kcm9wJyBpbiBkaXYpOwogICAgfTsKCiAgICB0ZXN0c1snd2Vic29ja2V0cyddID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuICdXZWJTb2NrZXQnIGluIHdpbmRvdyB8fCAnTW96V2ViU29ja2V0JyBpbiB3aW5kb3c7CiAgICB9OwoKCiAgICB0ZXN0c1sncmdiYSddID0gZnVuY3Rpb24oKSB7CiAgICAgICAgc2V0Q3NzKCdiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMTUwLDI1NSwxNTAsLjUpJyk7CgogICAgICAgIHJldHVybiBjb250YWlucyhtU3R5bGUuYmFja2dyb3VuZENvbG9yLCAncmdiYScpOwogICAgfTsKCiAgICB0ZXN0c1snaHNsYSddID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHNldENzcygnYmFja2dyb3VuZC1jb2xvcjpoc2xhKDEyMCw0MCUsMTAwJSwuNSknKTsKCiAgICAgICAgcmV0dXJuIGNvbnRhaW5zKG1TdHlsZS5iYWNrZ3JvdW5kQ29sb3IsICdyZ2JhJykgfHwgY29udGFpbnMobVN0eWxlLmJhY2tncm91bmRDb2xvciwgJ2hzbGEnKTsKICAgIH07CgogICAgdGVzdHNbJ211bHRpcGxlYmdzJ10gPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHNldENzcygnYmFja2dyb3VuZDp1cmwoaHR0cHM6Ly8pLHVybChodHRwczovLykscmVkIHVybChodHRwczovLyknKTsKCiAgICAgICAgICAgIHJldHVybiAoLyh1cmxccypcKC4qPyl7M30vKS50ZXN0KG1TdHlsZS5iYWNrZ3JvdW5kKTsKICAgIH07ICAgIHRlc3RzWydiYWNrZ3JvdW5kc2l6ZSddID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRlc3RQcm9wc0FsbCgnYmFja2dyb3VuZFNpemUnKTsKICAgIH07CgogICAgdGVzdHNbJ2JvcmRlcmltYWdlJ10gPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGVzdFByb3BzQWxsKCdib3JkZXJJbWFnZScpOwogICAgfTsKCgoKICAgIHRlc3RzWydib3JkZXJyYWRpdXMnXSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0ZXN0UHJvcHNBbGwoJ2JvcmRlclJhZGl1cycpOwogICAgfTsKCiAgICB0ZXN0c1snYm94c2hhZG93J10gPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGVzdFByb3BzQWxsKCdib3hTaGFkb3cnKTsKICAgIH07CgogICAgdGVzdHNbJ3RleHRzaGFkb3cnXSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZS50ZXh0U2hhZG93ID09PSAnJzsKICAgIH07CgoKICAgIHRlc3RzWydvcGFjaXR5J10gPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHNldENzc0FsbCgnb3BhY2l0eTouNTUnKTsKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgvXjAuNTUkLykudGVzdChtU3R5bGUub3BhY2l0eSk7CiAgICB9OwoKCiAgICB0ZXN0c1snY3NzYW5pbWF0aW9ucyddID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRlc3RQcm9wc0FsbCgnYW5pbWF0aW9uTmFtZScpOwogICAgfTsKCgogICAgdGVzdHNbJ2Nzc2NvbHVtbnMnXSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0ZXN0UHJvcHNBbGwoJ2NvbHVtbkNvdW50Jyk7CiAgICB9OwoKCiAgICB0ZXN0c1snY3NzZ3JhZGllbnRzJ10gPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgc3RyMSA9ICdiYWNrZ3JvdW5kLWltYWdlOicsCiAgICAgICAgICAgIHN0cjIgPSAnZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLHJpZ2h0IGJvdHRvbSxmcm9tKCM5ZjkpLHRvKHdoaXRlKSk7JywKICAgICAgICAgICAgc3RyMyA9ICdsaW5lYXItZ3JhZGllbnQobGVmdCB0b3AsIzlmOSwgd2hpdGUpOyc7CgogICAgICAgIHNldENzcygKICAgICAgICAgICAgICAgICAgICAgICAoc3RyMSArICctd2Via2l0LSAnLnNwbGl0KCcgJykuam9pbihzdHIyICsgc3RyMSkgKwogICAgICAgICAgICAgICAgICAgICAgIHByZWZpeGVzLmpvaW4oc3RyMyArIHN0cjEpKS5zbGljZSgwLCAtc3RyMS5sZW5ndGgpCiAgICAgICAgKTsKCiAgICAgICAgcmV0dXJuIGNvbnRhaW5zKG1TdHlsZS5iYWNrZ3JvdW5kSW1hZ2UsICdncmFkaWVudCcpOwogICAgfTsKCgogICAgdGVzdHNbJ2Nzc3JlZmxlY3Rpb25zJ10gPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGVzdFByb3BzQWxsKCdib3hSZWZsZWN0Jyk7CiAgICB9OwoKCiAgICB0ZXN0c1snY3NzdHJhbnNmb3JtcyddID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuICEhdGVzdFByb3BzQWxsKCd0cmFuc2Zvcm0nKTsKICAgIH07CgoKICAgIHRlc3RzWydjc3N0cmFuc2Zvcm1zM2QnXSA9IGZ1bmN0aW9uKCkgewoKICAgICAgICB2YXIgcmV0ID0gISF0ZXN0UHJvcHNBbGwoJ3BlcnNwZWN0aXZlJyk7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHJldCAmJiAnd2Via2l0UGVyc3BlY3RpdmUnIGluIGRvY0VsZW1lbnQuc3R5bGUgKSB7CgogICAgICAgICAgICAgICAgICAgICAgaW5qZWN0RWxlbWVudFdpdGhTdHlsZXMoJ0BtZWRpYSAodHJhbnNmb3JtLTNkKSwoLXdlYmtpdC10cmFuc2Zvcm0tM2QpeyNtb2Rlcm5penJ7bGVmdDo5cHg7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjNweDt9fScsIGZ1bmN0aW9uKCBub2RlLCBydWxlICkgewogICAgICAgICAgICByZXQgPSBub2RlLm9mZnNldExlZnQgPT09IDkgJiYgbm9kZS5vZmZzZXRIZWlnaHQgPT09IDM7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJldDsKICAgIH07CgoKICAgIHRlc3RzWydjc3N0cmFuc2l0aW9ucyddID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRlc3RQcm9wc0FsbCgndHJhbnNpdGlvbicpOwogICAgfTsKCgoKICAgIHRlc3RzWydmb250ZmFjZSddID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGJvb2w7CgogICAgICAgIGluamVjdEVsZW1lbnRXaXRoU3R5bGVzKCdAZm9udC1mYWNlIHtmb250LWZhbWlseToiZm9udCI7c3JjOnVybCgiaHR0cHM6Ly8iKX0nLCBmdW5jdGlvbiggbm9kZSwgcnVsZSApIHsKICAgICAgICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbW9kZXJuaXpyJyksCiAgICAgICAgICAgICAgc2hlZXQgPSBzdHlsZS5zaGVldCB8fCBzdHlsZS5zdHlsZVNoZWV0LAogICAgICAgICAgICAgIGNzc1RleHQgPSBzaGVldCA/IChzaGVldC5jc3NSdWxlcyAmJiBzaGVldC5jc3NSdWxlc1swXSA/IHNoZWV0LmNzc1J1bGVzWzBdLmNzc1RleHQgOiBzaGVldC5jc3NUZXh0IHx8ICcnKSA6ICcnOwoKICAgICAgICAgIGJvb2wgPSAvc3JjL2kudGVzdChjc3NUZXh0KSAmJiBjc3NUZXh0LmluZGV4T2YocnVsZS5zcGxpdCgnICcpWzBdKSA9PT0gMDsKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIGJvb2w7CiAgICB9OwoKICAgIHRlc3RzWydnZW5lcmF0ZWRjb250ZW50J10gPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgYm9vbDsKCiAgICAgICAgaW5qZWN0RWxlbWVudFdpdGhTdHlsZXMoWycjJyxtb2QsJ3tmb250OjAvMCBhfSMnLG1vZCwnOmFmdGVye2NvbnRlbnQ6Iicsc21pbGUsJyI7dmlzaWJpbGl0eTpoaWRkZW47Zm9udDozcHgvMSBhfSddLmpvaW4oJycpLCBmdW5jdGlvbiggbm9kZSApIHsKICAgICAgICAgIGJvb2wgPSBub2RlLm9mZnNldEhlaWdodCA+PSAzOwogICAgICAgIH0pOwoKICAgICAgICByZXR1cm4gYm9vbDsKICAgIH07CiAgICB0ZXN0c1sndmlkZW8nXSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKSwKICAgICAgICAgICAgYm9vbCA9IGZhbHNlOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKCBib29sID0gISFlbGVtLmNhblBsYXlUeXBlICkgewogICAgICAgICAgICAgICAgYm9vbCAgICAgID0gbmV3IEJvb2xlYW4oYm9vbCk7CiAgICAgICAgICAgICAgICBib29sLm9nZyAgPSBlbGVtLmNhblBsYXlUeXBlKCd2aWRlby9vZ2c7IGNvZGVjcz0idGhlb3JhIicpICAgICAgLnJlcGxhY2UoL15ubyQvLCcnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sLmgyNjQgPSBlbGVtLmNhblBsYXlUeXBlKCd2aWRlby9tcDQ7IGNvZGVjcz0iYXZjMS40MkUwMUUiJykgLnJlcGxhY2UoL15ubyQvLCcnKTsKCiAgICAgICAgICAgICAgICBib29sLndlYm0gPSBlbGVtLmNhblBsYXlUeXBlKCd2aWRlby93ZWJtOyBjb2RlY3M9InZwOCwgdm9yYmlzIicpLnJlcGxhY2UoL15ubyQvLCcnKTsKICAgICAgICAgICAgfQoKICAgICAgICB9IGNhdGNoKGUpIHsgfQoKICAgICAgICByZXR1cm4gYm9vbDsKICAgIH07CgogICAgdGVzdHNbJ2F1ZGlvJ10gPSBmdW5jdGlvbigpIHsKICAgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyksCiAgICAgICAgICAgIGJvb2wgPSBmYWxzZTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKCBib29sID0gISFlbGVtLmNhblBsYXlUeXBlICkgewogICAgICAgICAgICAgICAgYm9vbCAgICAgID0gbmV3IEJvb2xlYW4oYm9vbCk7CiAgICAgICAgICAgICAgICBib29sLm9nZyAgPSBlbGVtLmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz0idm9yYmlzIicpLnJlcGxhY2UoL15ubyQvLCcnKTsKICAgICAgICAgICAgICAgIGJvb2wubXAzICA9IGVsZW0uY2FuUGxheVR5cGUoJ2F1ZGlvL21wZWc7JykgICAgICAgICAgICAgICAucmVwbGFjZSgvXm5vJC8sJycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wud2F2ICA9IGVsZW0uY2FuUGxheVR5cGUoJ2F1ZGlvL3dhdjsgY29kZWNzPSIxIicpICAgICAucmVwbGFjZSgvXm5vJC8sJycpOwogICAgICAgICAgICAgICAgYm9vbC5tNGEgID0gKCBlbGVtLmNhblBsYXlUeXBlKCdhdWRpby94LW00YTsnKSAgICAgICAgICAgIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uY2FuUGxheVR5cGUoJ2F1ZGlvL2FhYzsnKSkgICAgICAgICAgICAgLnJlcGxhY2UoL15ubyQvLCcnKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2goZSkgeyB9CgogICAgICAgIHJldHVybiBib29sOwogICAgfTsKCgogICAgdGVzdHNbJ2xvY2Fsc3RvcmFnZSddID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obW9kLCBtb2QpOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShtb2QpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH07CgogICAgdGVzdHNbJ3Nlc3Npb25zdG9yYWdlJ10gPSBmdW5jdGlvbigpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKG1vZCwgbW9kKTsKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShtb2QpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH07CgoKICAgIHRlc3RzWyd3ZWJ3b3JrZXJzJ10gPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gISF3aW5kb3cuV29ya2VyOwogICAgfTsKCgogICAgdGVzdHNbJ2FwcGxpY2F0aW9uY2FjaGUnXSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiAhIXdpbmRvdy5hcHBsaWNhdGlvbkNhY2hlOwogICAgfTsKCgogICAgdGVzdHNbJ3N2ZyddID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TICYmICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5zLnN2ZywgJ3N2ZycpLmNyZWF0ZVNWR1JlY3Q7CiAgICB9OwoKICAgIHRlc3RzWydpbmxpbmVzdmcnXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIGRpdi5pbm5lckhUTUwgPSAnPHN2Zy8+JzsKICAgICAgcmV0dXJuIChkaXYuZmlyc3RDaGlsZCAmJiBkaXYuZmlyc3RDaGlsZC5uYW1lc3BhY2VVUkkpID09IG5zLnN2ZzsKICAgIH07CgogICAgdGVzdHNbJ3NtaWwnXSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyAmJiAvU1ZHQW5pbWF0ZS8udGVzdCh0b1N0cmluZy5jYWxsKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucy5zdmcsICdhbmltYXRlJykpKTsKICAgIH07CgoKICAgIHRlc3RzWydzdmdjbGlwcGF0aHMnXSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyAmJiAvU1ZHQ2xpcFBhdGgvLnRlc3QodG9TdHJpbmcuY2FsbChkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMuc3ZnLCAnY2xpcFBhdGgnKSkpOwogICAgfTsKCiAgICBmdW5jdGlvbiB3ZWJmb3JtcygpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2Rlcm5penJbJ2lucHV0J10gPSAoZnVuY3Rpb24oIHByb3BzICkgewogICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGxlbiA9IHByb3BzLmxlbmd0aDsgaSA8IGxlbjsgaSsrICkgewogICAgICAgICAgICAgICAgYXR0cnNbIHByb3BzW2ldIF0gPSAhIShwcm9wc1tpXSBpbiBpbnB1dEVsZW0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChhdHRycy5saXN0KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzLmxpc3QgPSAhIShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkYXRhbGlzdCcpICYmIHdpbmRvdy5IVE1MRGF0YUxpc3RFbGVtZW50KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gYXR0cnM7CiAgICAgICAgfSkoJ2F1dG9jb21wbGV0ZSBhdXRvZm9jdXMgbGlzdCBwbGFjZWhvbGRlciBtYXggbWluIG11bHRpcGxlIHBhdHRlcm4gcmVxdWlyZWQgc3RlcCcuc3BsaXQoJyAnKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNb2Rlcm5penJbJ2lucHV0dHlwZXMnXSA9IChmdW5jdGlvbihwcm9wcykgewoKICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwLCBib29sLCBpbnB1dEVsZW1UeXBlLCBkZWZhdWx0VmlldywgbGVuID0gcHJvcHMubGVuZ3RoOyBpIDwgbGVuOyBpKysgKSB7CgogICAgICAgICAgICAgICAgaW5wdXRFbGVtLnNldEF0dHJpYnV0ZSgndHlwZScsIGlucHV0RWxlbVR5cGUgPSBwcm9wc1tpXSk7CiAgICAgICAgICAgICAgICBib29sID0gaW5wdXRFbGVtLnR5cGUgIT09ICd0ZXh0JzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGJvb2wgKSB7CgogICAgICAgICAgICAgICAgICAgIGlucHV0RWxlbS52YWx1ZSAgICAgICAgID0gc21pbGU7CiAgICAgICAgICAgICAgICAgICAgaW5wdXRFbGVtLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246YWJzb2x1dGU7dmlzaWJpbGl0eTpoaWRkZW47JzsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCAvXnJhbmdlJC8udGVzdChpbnB1dEVsZW1UeXBlKSAmJiBpbnB1dEVsZW0uc3R5bGUuV2Via2l0QXBwZWFyYW5jZSAhPT0gdW5kZWZpbmVkICkgewoKICAgICAgICAgICAgICAgICAgICAgIGRvY0VsZW1lbnQuYXBwZW5kQ2hpbGQoaW5wdXRFbGVtKTsKICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWaWV3ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXc7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCA9ICBkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlICYmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoaW5wdXRFbGVtLCBudWxsKS5XZWJraXRBcHBlYXJhbmNlICE9PSAndGV4dGZpZWxkJyAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGlucHV0RWxlbS5vZmZzZXRIZWlnaHQgIT09IDApOwoKICAgICAgICAgICAgICAgICAgICAgIGRvY0VsZW1lbnQucmVtb3ZlQ2hpbGQoaW5wdXRFbGVtKTsKCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggL14oc2VhcmNofHRlbCkkLy50ZXN0KGlucHV0RWxlbVR5cGUpICl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIC9eKHVybHxlbWFpbCkkLy50ZXN0KGlucHV0RWxlbVR5cGUpICkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCA9IGlucHV0RWxlbS5jaGVja1ZhbGlkaXR5ICYmIGlucHV0RWxlbS5jaGVja1ZhbGlkaXR5KCkgPT09IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCA9IGlucHV0RWxlbS52YWx1ZSAhPSBzbWlsZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaW5wdXRzWyBwcm9wc1tpXSBdID0gISFib29sOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBpbnB1dHM7CiAgICAgICAgfSkoJ3NlYXJjaCB0ZWwgdXJsIGVtYWlsIGRhdGV0aW1lIGRhdGUgbW9udGggd2VlayB0aW1lIGRhdGV0aW1lLWxvY2FsIG51bWJlciByYW5nZSBjb2xvcicuc3BsaXQoJyAnKSk7CiAgICAgICAgfQogICAgZm9yICggdmFyIGZlYXR1cmUgaW4gdGVzdHMgKSB7CiAgICAgICAgaWYgKCBoYXNPd25Qcm9wKHRlc3RzLCBmZWF0dXJlKSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZU5hbWUgID0gZmVhdHVyZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICBNb2Rlcm5penJbZmVhdHVyZU5hbWVdID0gdGVzdHNbZmVhdHVyZV0oKTsKCiAgICAgICAgICAgIGNsYXNzZXMucHVzaCgoTW9kZXJuaXpyW2ZlYXR1cmVOYW1lXSA/ICcnIDogJ25vLScpICsgZmVhdHVyZU5hbWUpOwogICAgICAgIH0KICAgIH0KCiAgICBNb2Rlcm5penIuaW5wdXQgfHwgd2ViZm9ybXMoKTsKCgogICAgIE1vZGVybml6ci5hZGRUZXN0ID0gZnVuY3Rpb24gKCBmZWF0dXJlLCB0ZXN0ICkgewogICAgICAgaWYgKCB0eXBlb2YgZmVhdHVyZSA9PSAnb2JqZWN0JyApIHsKICAgICAgICAgZm9yICggdmFyIGtleSBpbiBmZWF0dXJlICkgewogICAgICAgICAgIGlmICggaGFzT3duUHJvcCggZmVhdHVyZSwga2V5ICkgKSB7CiAgICAgICAgICAgICBNb2Rlcm5penIuYWRkVGVzdCgga2V5LCBmZWF0dXJlWyBrZXkgXSApOwogICAgICAgICAgIH0KICAgICAgICAgfQogICAgICAgfSBlbHNlIHsKCiAgICAgICAgIGZlYXR1cmUgPSBmZWF0dXJlLnRvTG93ZXJDYXNlKCk7CgogICAgICAgICBpZiAoIE1vZGVybml6cltmZWF0dXJlXSAhPT0gdW5kZWZpbmVkICkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGVybml6cjsKICAgICAgICAgfQoKICAgICAgICAgdGVzdCA9IHR5cGVvZiB0ZXN0ID09ICdmdW5jdGlvbicgPyB0ZXN0KCkgOiB0ZXN0OwoKICAgICAgICAgaWYgKHR5cGVvZiBlbmFibGVDbGFzc2VzICE9PSAidW5kZWZpbmVkIiAmJiBlbmFibGVDbGFzc2VzKSB7CiAgICAgICAgICAgZG9jRWxlbWVudC5jbGFzc05hbWUgKz0gJyAnICsgKHRlc3QgPyAnJyA6ICduby0nKSArIGZlYXR1cmU7CiAgICAgICAgIH0KICAgICAgICAgTW9kZXJuaXpyW2ZlYXR1cmVdID0gdGVzdDsKCiAgICAgICB9CgogICAgICAgcmV0dXJuIE1vZGVybml6cjsgCiAgICAgfTsKCgogICAgc2V0Q3NzKCcnKTsKICAgIG1vZEVsZW0gPSBpbnB1dEVsZW0gPSBudWxsOwoKICAgIDsoZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCkgewogICAgICAgICAgICAgICAgdmFyIHZlcnNpb24gPSAnMy43LjAnOwoKICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB3aW5kb3cuaHRtbDUgfHwge307CgogICAgICAgICAgICB2YXIgcmVTa2lwID0gL148fF4oPzpidXR0b258bWFwfHNlbGVjdHx0ZXh0YXJlYXxvYmplY3R8aWZyYW1lfG9wdGlvbnxvcHRncm91cCkkL2k7CgogICAgICAgICAgICB2YXIgc2F2ZUNsb25lcyA9IC9eKD86YXxifGNvZGV8ZGl2fGZpZWxkc2V0fGgxfGgyfGgzfGg0fGg1fGg2fGl8bGFiZWx8bGl8b2x8cHxxfHNwYW58c3Ryb25nfHN0eWxlfHRhYmxlfHRib2R5fHRkfHRofHRyfHVsKSQvaTsKCiAgICAgICAgICAgIHZhciBzdXBwb3J0c0h0bWw1U3R5bGVzOwoKICAgICAgICAgICAgdmFyIGV4cGFuZG8gPSAnX2h0bWw1c2hpdic7CgogICAgICAgICAgICB2YXIgZXhwYW5JRCA9IDA7CgogICAgICAgICAgICB2YXIgZXhwYW5kb0RhdGEgPSB7fTsKCiAgICAgICAgICAgIHZhciBzdXBwb3J0c1Vua25vd25FbGVtZW50czsKCiAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgIGEuaW5uZXJIVE1MID0gJzx4eXo+PC94eXo+JzsKICAgICAgICAgICAgICAgICAgICBzdXBwb3J0c0h0bWw1U3R5bGVzID0gKCdoaWRkZW4nIGluIGEpOwoKICAgICAgICAgICAgc3VwcG9ydHNVbmtub3duRWxlbWVudHMgPSBhLmNoaWxkTm9kZXMubGVuZ3RoID09IDEgfHwgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCkoJ2EnKTsKICAgICAgICAgICAgICB2YXIgZnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsKICAgICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgdHlwZW9mIGZyYWcuY2xvbmVOb2RlID09ICd1bmRlZmluZWQnIHx8CiAgICAgICAgICAgICAgICB0eXBlb2YgZnJhZy5jcmVhdGVEb2N1bWVudEZyYWdtZW50ID09ICd1bmRlZmluZWQnIHx8CiAgICAgICAgICAgICAgICB0eXBlb2YgZnJhZy5jcmVhdGVFbGVtZW50ID09ICd1bmRlZmluZWQnCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSgpKTsKICAgICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICAgICAgICAgIHN1cHBvcnRzSHRtbDVTdHlsZXMgPSB0cnVlOwogICAgICAgICAgICBzdXBwb3J0c1Vua25vd25FbGVtZW50cyA9IHRydWU7CiAgICAgICAgICB9CgogICAgICAgIH0oKSk7CgogICAgICAgICAgICBmdW5jdGlvbiBhZGRTdHlsZVNoZWV0KG93bmVyRG9jdW1lbnQsIGNzc1RleHQpIHsKICAgICAgICAgIHZhciBwID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyksCiAgICAgICAgICBwYXJlbnQgPSBvd25lckRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0gfHwgb3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CgogICAgICAgICAgcC5pbm5lckhUTUwgPSAneDxzdHlsZT4nICsgY3NzVGV4dCArICc8L3N0eWxlPic7CiAgICAgICAgICByZXR1cm4gcGFyZW50Lmluc2VydEJlZm9yZShwLmxhc3RDaGlsZCwgcGFyZW50LmZpcnN0Q2hpbGQpOwogICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRzKCkgewogICAgICAgICAgdmFyIGVsZW1lbnRzID0gaHRtbDUuZWxlbWVudHM7CiAgICAgICAgICByZXR1cm4gdHlwZW9mIGVsZW1lbnRzID09ICdzdHJpbmcnID8gZWxlbWVudHMuc3BsaXQoJyAnKSA6IGVsZW1lbnRzOwogICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEV4cGFuZG9EYXRhKG93bmVyRG9jdW1lbnQpIHsKICAgICAgICAgIHZhciBkYXRhID0gZXhwYW5kb0RhdGFbb3duZXJEb2N1bWVudFtleHBhbmRvXV07CiAgICAgICAgICBpZiAoIWRhdGEpIHsKICAgICAgICAgICAgZGF0YSA9IHt9OwogICAgICAgICAgICBleHBhbklEKys7CiAgICAgICAgICAgIG93bmVyRG9jdW1lbnRbZXhwYW5kb10gPSBleHBhbklEOwogICAgICAgICAgICBleHBhbmRvRGF0YVtleHBhbklEXSA9IGRhdGE7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KG5vZGVOYW1lLCBvd25lckRvY3VtZW50LCBkYXRhKXsKICAgICAgICAgIGlmICghb3duZXJEb2N1bWVudCkgewogICAgICAgICAgICBvd25lckRvY3VtZW50ID0gZG9jdW1lbnQ7CiAgICAgICAgICB9CiAgICAgICAgICBpZihzdXBwb3J0c1Vua25vd25FbGVtZW50cyl7CiAgICAgICAgICAgIHJldHVybiBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKCFkYXRhKSB7CiAgICAgICAgICAgIGRhdGEgPSBnZXRFeHBhbmRvRGF0YShvd25lckRvY3VtZW50KTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBub2RlOwoKICAgICAgICAgIGlmIChkYXRhLmNhY2hlW25vZGVOYW1lXSkgewogICAgICAgICAgICBub2RlID0gZGF0YS5jYWNoZVtub2RlTmFtZV0uY2xvbmVOb2RlKCk7CiAgICAgICAgICB9IGVsc2UgaWYgKHNhdmVDbG9uZXMudGVzdChub2RlTmFtZSkpIHsKICAgICAgICAgICAgbm9kZSA9IChkYXRhLmNhY2hlW25vZGVOYW1lXSA9IGRhdGEuY3JlYXRlRWxlbShub2RlTmFtZSkpLmNsb25lTm9kZSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbm9kZSA9IGRhdGEuY3JlYXRlRWxlbShub2RlTmFtZSk7CiAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuY2FuSGF2ZUNoaWxkcmVuICYmICFyZVNraXAudGVzdChub2RlTmFtZSkgJiYgIW5vZGUudGFnVXJuID8gZGF0YS5mcmFnLmFwcGVuZENoaWxkKG5vZGUpIDogbm9kZTsKICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVEb2N1bWVudEZyYWdtZW50KG93bmVyRG9jdW1lbnQsIGRhdGEpewogICAgICAgICAgaWYgKCFvd25lckRvY3VtZW50KSB7CiAgICAgICAgICAgIG93bmVyRG9jdW1lbnQgPSBkb2N1bWVudDsKICAgICAgICAgIH0KICAgICAgICAgIGlmKHN1cHBvcnRzVW5rbm93bkVsZW1lbnRzKXsKICAgICAgICAgICAgcmV0dXJuIG93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwogICAgICAgICAgfQogICAgICAgICAgZGF0YSA9IGRhdGEgfHwgZ2V0RXhwYW5kb0RhdGEob3duZXJEb2N1bWVudCk7CiAgICAgICAgICB2YXIgY2xvbmUgPSBkYXRhLmZyYWcuY2xvbmVOb2RlKCksCiAgICAgICAgICBpID0gMCwKICAgICAgICAgIGVsZW1zID0gZ2V0RWxlbWVudHMoKSwKICAgICAgICAgIGwgPSBlbGVtcy5sZW5ndGg7CiAgICAgICAgICBmb3IoO2k8bDtpKyspewogICAgICAgICAgICBjbG9uZS5jcmVhdGVFbGVtZW50KGVsZW1zW2ldKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBjbG9uZTsKICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzaGl2TWV0aG9kcyhvd25lckRvY3VtZW50LCBkYXRhKSB7CiAgICAgICAgICBpZiAoIWRhdGEuY2FjaGUpIHsKICAgICAgICAgICAgZGF0YS5jYWNoZSA9IHt9OwogICAgICAgICAgICBkYXRhLmNyZWF0ZUVsZW0gPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ7CiAgICAgICAgICAgIGRhdGEuY3JlYXRlRnJhZyA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudDsKICAgICAgICAgICAgZGF0YS5mcmFnID0gZGF0YS5jcmVhdGVGcmFnKCk7CiAgICAgICAgICB9CgoKICAgICAgICAgIG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKG5vZGVOYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFodG1sNS5zaGl2TWV0aG9kcykgewogICAgICAgICAgICAgIHJldHVybiBkYXRhLmNyZWF0ZUVsZW0obm9kZU5hbWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KG5vZGVOYW1lLCBvd25lckRvY3VtZW50LCBkYXRhKTsKICAgICAgICAgIH07CgogICAgICAgICAgb3duZXJEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50ID0gRnVuY3Rpb24oJ2gsZicsICdyZXR1cm4gZnVuY3Rpb24oKXsnICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2YXIgbj1mLmNsb25lTm9kZSgpLGM9bi5jcmVhdGVFbGVtZW50OycgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2guc2hpdk1ldGhvZHMmJignICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEVsZW1lbnRzKCkuam9pbigpLnJlcGxhY2UoL1tcd1wtXSsvZywgZnVuY3Rpb24obm9kZU5hbWUpIHsKICAgICAgICAgICAgZGF0YS5jcmVhdGVFbGVtKG5vZGVOYW1lKTsKICAgICAgICAgICAgZGF0YS5mcmFnLmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpOwogICAgICAgICAgICByZXR1cm4gJ2MoIicgKyBub2RlTmFtZSArICciKSc7CiAgICAgICAgICB9KSArCiAgICAgICAgICAgICcpO3JldHVybiBufScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKShodG1sNSwgZGF0YS5mcmFnKTsKICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBzaGl2RG9jdW1lbnQob3duZXJEb2N1bWVudCkgewogICAgICAgICAgaWYgKCFvd25lckRvY3VtZW50KSB7CiAgICAgICAgICAgIG93bmVyRG9jdW1lbnQgPSBkb2N1bWVudDsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBkYXRhID0gZ2V0RXhwYW5kb0RhdGEob3duZXJEb2N1bWVudCk7CgogICAgICAgICAgaWYgKGh0bWw1LnNoaXZDU1MgJiYgIXN1cHBvcnRzSHRtbDVTdHlsZXMgJiYgIWRhdGEuaGFzQ1NTKSB7CiAgICAgICAgICAgIGRhdGEuaGFzQ1NTID0gISFhZGRTdHlsZVNoZWV0KG93bmVyRG9jdW1lbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FydGljbGUsYXNpZGUsZGlhbG9nLGZpZ2NhcHRpb24sZmlndXJlLGZvb3RlcixoZWFkZXIsaGdyb3VwLG1haW4sbmF2LHNlY3Rpb257ZGlzcGxheTpibG9ja30nICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmt7YmFja2dyb3VuZDojRkYwO2NvbG9yOiMwMDB9JyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0ZW1wbGF0ZXtkaXNwbGF5Om5vbmV9JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIXN1cHBvcnRzVW5rbm93bkVsZW1lbnRzKSB7CiAgICAgICAgICAgIHNoaXZNZXRob2RzKG93bmVyRG9jdW1lbnQsIGRhdGEpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIG93bmVyRG9jdW1lbnQ7CiAgICAgICAgfQoKICAgICAgICAgICAgdmFyIGh0bWw1ID0gewoKICAgICAgICAgICAgICAgICdlbGVtZW50cyc6IG9wdGlvbnMuZWxlbWVudHMgfHwgJ2FiYnIgYXJ0aWNsZSBhc2lkZSBhdWRpbyBiZGkgY2FudmFzIGRhdGEgZGF0YWxpc3QgZGV0YWlscyBkaWFsb2cgZmlnY2FwdGlvbiBmaWd1cmUgZm9vdGVyIGhlYWRlciBoZ3JvdXAgbWFpbiBtYXJrIG1ldGVyIG5hdiBvdXRwdXQgcHJvZ3Jlc3Mgc2VjdGlvbiBzdW1tYXJ5IHRlbXBsYXRlIHRpbWUgdmlkZW8nLAoKICAgICAgICAgICAgICAgICd2ZXJzaW9uJzogdmVyc2lvbiwKCiAgICAgICAgICAgICAgICAnc2hpdkNTUyc6IChvcHRpb25zLnNoaXZDU1MgIT09IGZhbHNlKSwKCiAgICAgICAgICAgICAgICAnc3VwcG9ydHNVbmtub3duRWxlbWVudHMnOiBzdXBwb3J0c1Vua25vd25FbGVtZW50cywKCiAgICAgICAgICAgICAgICAnc2hpdk1ldGhvZHMnOiAob3B0aW9ucy5zaGl2TWV0aG9kcyAhPT0gZmFsc2UpLAoKICAgICAgICAgICAgICAgICd0eXBlJzogJ2RlZmF1bHQnLAoKICAgICAgICAgICAgICAgICdzaGl2RG9jdW1lbnQnOiBzaGl2RG9jdW1lbnQsCgogICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudCwKCiAgICAgICAgICAgICAgICBjcmVhdGVEb2N1bWVudEZyYWdtZW50OiBjcmVhdGVEb2N1bWVudEZyYWdtZW50CiAgICAgICAgfTsKCiAgICAgICAgICAgIHdpbmRvdy5odG1sNSA9IGh0bWw1OwoKICAgICAgICAgICAgc2hpdkRvY3VtZW50KGRvY3VtZW50KTsKCiAgICB9KHRoaXMsIGRvY3VtZW50KSk7CgogICAgTW9kZXJuaXpyLl92ZXJzaW9uICAgICAgPSB2ZXJzaW9uOwoKICAgIE1vZGVybml6ci5fcHJlZml4ZXMgICAgID0gcHJlZml4ZXM7CiAgICBNb2Rlcm5penIuX2RvbVByZWZpeGVzICA9IGRvbVByZWZpeGVzOwogICAgTW9kZXJuaXpyLl9jc3NvbVByZWZpeGVzICA9IGNzc29tUHJlZml4ZXM7CgoKICAgIE1vZGVybml6ci5oYXNFdmVudCAgICAgID0gaXNFdmVudFN1cHBvcnRlZDsKCiAgICBNb2Rlcm5penIudGVzdFByb3AgICAgICA9IGZ1bmN0aW9uKHByb3ApewogICAgICAgIHJldHVybiB0ZXN0UHJvcHMoW3Byb3BdKTsKICAgIH07CgogICAgTW9kZXJuaXpyLnRlc3RBbGxQcm9wcyAgPSB0ZXN0UHJvcHNBbGw7CgoKICAgIE1vZGVybml6ci50ZXN0U3R5bGVzICAgID0gaW5qZWN0RWxlbWVudFdpdGhTdHlsZXM7CiAgICBNb2Rlcm5penIucHJlZml4ZWQgICAgICA9IGZ1bmN0aW9uKHByb3AsIG9iaiwgZWxlbSl7CiAgICAgIGlmKCFvYmopIHsKICAgICAgICByZXR1cm4gdGVzdFByb3BzQWxsKHByb3AsICdwZngnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRlc3RQcm9wc0FsbChwcm9wLCBvYmosIGVsZW0pOwogICAgICB9CiAgICB9OwoKCiAgICBkb2NFbGVtZW50LmNsYXNzTmFtZSA9IGRvY0VsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UoLyhefFxzKW5vLWpzKFxzfCQpLywgJyQxJDInKSArCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVuYWJsZUNsYXNzZXMgPyAnIGpzICcgKyBjbGFzc2VzLmpvaW4oJyAnKSA6ICcnKTsKCiAgICByZXR1cm4gTW9kZXJuaXpyOwoKfSkodGhpcywgdGhpcy5kb2N1bWVudCk7Ci8qeWVwbm9wZTEuNS40fFdURlBMKi8KKGZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe3JldHVybiJbb2JqZWN0IEZ1bmN0aW9uXSI9PW8uY2FsbChhKX1mdW5jdGlvbiBlKGEpe3JldHVybiJzdHJpbmciPT10eXBlb2YgYX1mdW5jdGlvbiBmKCl7fWZ1bmN0aW9uIGcoYSl7cmV0dXJuIWF8fCJsb2FkZWQiPT1hfHwiY29tcGxldGUiPT1hfHwidW5pbml0aWFsaXplZCI9PWF9ZnVuY3Rpb24gaCgpe3ZhciBhPXAuc2hpZnQoKTtxPTEsYT9hLnQ/bShmdW5jdGlvbigpeygiYyI9PWEudD9CLmluamVjdENzczpCLmluamVjdEpzKShhLnMsMCxhLmEsYS54LGEuZSwxKX0sMCk6KGEoKSxoKCkpOnE9MH1mdW5jdGlvbiBpKGEsYyxkLGUsZixpLGope2Z1bmN0aW9uIGsoYil7aWYoIW8mJmcobC5yZWFkeVN0YXRlKSYmKHUucj1vPTEsIXEmJmgoKSxsLm9ubG9hZD1sLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGIpKXsiaW1nIiE9YSYmbShmdW5jdGlvbigpe3QucmVtb3ZlQ2hpbGQobCl9LDUwKTtmb3IodmFyIGQgaW4geVtjXSl5W2NdLmhhc093blByb3BlcnR5KGQpJiZ5W2NdW2RdLm9ubG9hZCgpfX12YXIgaj1qfHxCLmVycm9yVGltZW91dCxsPWIuY3JlYXRlRWxlbWVudChhKSxvPTAscj0wLHU9e3Q6ZCxzOmMsZTpmLGE6aSx4Omp9OzE9PT15W2NdJiYocj0xLHlbY109W10pLCJvYmplY3QiPT1hP2wuZGF0YT1jOihsLnNyYz1jLGwudHlwZT1hKSxsLndpZHRoPWwuaGVpZ2h0PSIwIixsLm9uZXJyb3I9bC5vbmxvYWQ9bC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtrLmNhbGwodGhpcyxyKX0scC5zcGxpY2UoZSwwLHUpLCJpbWciIT1hJiYocnx8Mj09PXlbY10/KHQuaW5zZXJ0QmVmb3JlKGwscz9udWxsOm4pLG0oayxqKSk6eVtjXS5wdXNoKGwpKX1mdW5jdGlvbiBqKGEsYixjLGQsZil7cmV0dXJuIHE9MCxiPWJ8fCJqIixlKGEpP2koImMiPT1iP3Y6dSxhLGIsdGhpcy5pKyssYyxkLGYpOihwLnNwbGljZSh0aGlzLmkrKywwLGEpLDE9PXAubGVuZ3RoJiZoKCkpLHRoaXN9ZnVuY3Rpb24gaygpe3ZhciBhPUI7cmV0dXJuIGEubG9hZGVyPXtsb2FkOmosaTowfSxhfXZhciBsPWIuZG9jdW1lbnRFbGVtZW50LG09YS5zZXRUaW1lb3V0LG49Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IilbMF0sbz17fS50b1N0cmluZyxwPVtdLHE9MCxyPSJNb3pBcHBlYXJhbmNlImluIGwuc3R5bGUscz1yJiYhIWIuY3JlYXRlUmFuZ2UoKS5jb21wYXJlTm9kZSx0PXM/bDpuLnBhcmVudE5vZGUsbD1hLm9wZXJhJiYiW29iamVjdCBPcGVyYV0iPT1vLmNhbGwoYS5vcGVyYSksbD0hIWIuYXR0YWNoRXZlbnQmJiFsLHU9cj8ib2JqZWN0IjpsPyJzY3JpcHQiOiJpbWciLHY9bD8ic2NyaXB0Ijp1LHc9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oYSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09by5jYWxsKGEpfSx4PVtdLHk9e30sej17dGltZW91dDpmdW5jdGlvbihhLGIpe3JldHVybiBiLmxlbmd0aCYmKGEudGltZW91dD1iWzBdKSxhfX0sQSxCO0I9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt2YXIgYT1hLnNwbGl0KCIhIiksYj14Lmxlbmd0aCxjPWEucG9wKCksZD1hLmxlbmd0aCxjPXt1cmw6YyxvcmlnVXJsOmMscHJlZml4ZXM6YX0sZSxmLGc7Zm9yKGY9MDtmPGQ7ZisrKWc9YVtmXS5zcGxpdCgiPSIpLChlPXpbZy5zaGlmdCgpXSkmJihjPWUoYyxnKSk7Zm9yKGY9MDtmPGI7ZisrKWM9eFtmXShjKTtyZXR1cm4gY31mdW5jdGlvbiBnKGEsZSxmLGcsaCl7dmFyIGk9YihhKSxqPWkuYXV0b0NhbGxiYWNrO2kudXJsLnNwbGl0KCIuIikucG9wKCkuc3BsaXQoIj8iKS5zaGlmdCgpLGkuYnlwYXNzfHwoZSYmKGU9ZChlKT9lOmVbYV18fGVbZ118fGVbYS5zcGxpdCgiLyIpLnBvcCgpLnNwbGl0KCI/IilbMF1dKSxpLmluc3RlYWQ/aS5pbnN0ZWFkKGEsZSxmLGcsaCk6KHlbaS51cmxdP2kubm9leGVjPSEwOnlbaS51cmxdPTEsZi5sb2FkKGkudXJsLGkuZm9yY2VDU1N8fCFpLmZvcmNlSlMmJiJjc3MiPT1pLnVybC5zcGxpdCgiLiIpLnBvcCgpLnNwbGl0KCI/Iikuc2hpZnQoKT8iYyI6YyxpLm5vZXhlYyxpLmF0dHJzLGkudGltZW91dCksKGQoZSl8fGQoaikpJiZmLmxvYWQoZnVuY3Rpb24oKXtrKCksZSYmZShpLm9yaWdVcmwsaCxnKSxqJiZqKGkub3JpZ1VybCxoLGcpLHlbaS51cmxdPTJ9KSkpfWZ1bmN0aW9uIGgoYSxiKXtmdW5jdGlvbiBjKGEsYyl7aWYoYSl7aWYoZShhKSljfHwoaj1mdW5jdGlvbigpe3ZhciBhPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtrLmFwcGx5KHRoaXMsYSksbCgpfSksZyhhLGosYiwwLGgpO2Vsc2UgaWYoT2JqZWN0KGEpPT09YSlmb3IobiBpbiBtPWZ1bmN0aW9uKCl7dmFyIGI9MCxjO2ZvcihjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmYisrO3JldHVybiBifSgpLGEpYS5oYXNPd25Qcm9wZXJ0eShuKSYmKCFjJiYhLS1tJiYoZChqKT9qPWZ1bmN0aW9uKCl7dmFyIGE9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpO2suYXBwbHkodGhpcyxhKSxsKCl9Ompbbl09ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpO2EmJmEuYXBwbHkodGhpcyxiKSxsKCl9fShrW25dKSksZyhhW25dLGosYixuLGgpKX1lbHNlIWMmJmwoKX12YXIgaD0hIWEudGVzdCxpPWEubG9hZHx8YS5ib3RoLGo9YS5jYWxsYmFja3x8ZixrPWosbD1hLmNvbXBsZXRlfHxmLG0sbjtjKGg/YS55ZXA6YS5ub3BlLCEhaSksaSYmYyhpKX12YXIgaSxqLGw9dGhpcy55ZXBub3BlLmxvYWRlcjtpZihlKGEpKWcoYSwwLGwsMCk7ZWxzZSBpZih3KGEpKWZvcihpPTA7aTxhLmxlbmd0aDtpKyspaj1hW2ldLGUoaik/ZyhqLDAsbCwwKTp3KGopP0Ioaik6T2JqZWN0KGopPT09aiYmaChqLGwpO2Vsc2UgT2JqZWN0KGEpPT09YSYmaChhLGwpfSxCLmFkZFByZWZpeD1mdW5jdGlvbihhLGIpe3pbYV09Yn0sQi5hZGRGaWx0ZXI9ZnVuY3Rpb24oYSl7eC5wdXNoKGEpfSxCLmVycm9yVGltZW91dD0xZTQsbnVsbD09Yi5yZWFkeVN0YXRlJiZiLmFkZEV2ZW50TGlzdGVuZXImJihiLnJlYWR5U3RhdGU9ImxvYWRpbmciLGIuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQT1mdW5jdGlvbigpe2IucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQSwwKSxiLnJlYWR5U3RhdGU9ImNvbXBsZXRlIn0sMCkpLGEueWVwbm9wZT1rKCksYS55ZXBub3BlLmV4ZWN1dGVTdGFjaz1oLGEueWVwbm9wZS5pbmplY3RKcz1mdW5jdGlvbihhLGMsZCxlLGksail7dmFyIGs9Yi5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxsLG8sZT1lfHxCLmVycm9yVGltZW91dDtrLnNyYz1hO2ZvcihvIGluIGQpay5zZXRBdHRyaWJ1dGUobyxkW29dKTtjPWo/aDpjfHxmLGsub25yZWFkeXN0YXRlY2hhbmdlPWsub25sb2FkPWZ1bmN0aW9uKCl7IWwmJmcoay5yZWFkeVN0YXRlKSYmKGw9MSxjKCksay5vbmxvYWQ9ay5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCl9LG0oZnVuY3Rpb24oKXtsfHwobD0xLGMoMSkpfSxlKSxpP2sub25sb2FkKCk6bi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShrLG4pfSxhLnllcG5vcGUuaW5qZWN0Q3NzPWZ1bmN0aW9uKGEsYyxkLGUsZyxpKXt2YXIgZT1iLmNyZWF0ZUVsZW1lbnQoImxpbmsiKSxqLGM9aT9oOmN8fGY7ZS5ocmVmPWEsZS5yZWw9InN0eWxlc2hlZXQiLGUudHlwZT0idGV4dC9jc3MiO2ZvcihqIGluIGQpZS5zZXRBdHRyaWJ1dGUoaixkW2pdKTtnfHwobi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLG4pLG0oYywwKSl9fSkodGhpcyxkb2N1bWVudCk7Ck1vZGVybml6ci5sb2FkPWZ1bmN0aW9uKCl7eWVwbm9wZS5hcHBseSh3aW5kb3csW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCkpO307Cjs=", "modernizr.js"];
var jquerymobilejs = ["LyohIGpRdWVyeSBNb2JpbGUgMS4zLjIgfCBHaXQgSEVBRCBoYXNoOiA1MjhjZjBlIDw+IDIwMTMtMDctMTlUMjI6MTc6NTdaIHwgKGMpIDIwMTAsIDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8NCiFmdW5jdGlvbihhLGIsYyl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxmdW5jdGlvbihkKXtyZXR1cm4gYyhkLGEsYiksZC5tb2JpbGV9KTpjKGEualF1ZXJ5LGEsYil9KHRoaXMsZG9jdW1lbnQsZnVuY3Rpb24oYSxiLGMsZCl7IWZ1bmN0aW9uKGEpe2EubW9iaWxlPXt9fShhKSxmdW5jdGlvbihhLGIsZCl7dmFyIGU9e307YS5tb2JpbGU9YS5leHRlbmQoYS5tb2JpbGUse3ZlcnNpb246IjEuMy4yIixuczoiIixzdWJQYWdlVXJsS2V5OiJ1aS1wYWdlIixhY3RpdmVQYWdlQ2xhc3M6InVpLXBhZ2UtYWN0aXZlIixhY3RpdmVCdG5DbGFzczoidWktYnRuLWFjdGl2ZSIsZm9jdXNDbGFzczoidWktZm9jdXMiLGFqYXhFbmFibGVkOiEwLGhhc2hMaXN0ZW5pbmdFbmFibGVkOiEwLGxpbmtCaW5kaW5nRW5hYmxlZDohMCxkZWZhdWx0UGFnZVRyYW5zaXRpb246ImZhZGUiLG1heFRyYW5zaXRpb25XaWR0aDohMSxtaW5TY3JvbGxCYWNrOjI1MCx0b3VjaE92ZXJmbG93RW5hYmxlZDohMSxkZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjoicG9wIixwYWdlTG9hZEVycm9yTWVzc2FnZToiRXJyb3IgTG9hZGluZyBQYWdlIixwYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lOiJlIixwaG9uZWdhcE5hdmlnYXRpb25FbmFibGVkOiExLGF1dG9Jbml0aWFsaXplUGFnZTohMCxwdXNoU3RhdGVFbmFibGVkOiEwLGlnbm9yZUNvbnRlbnRFbmFibGVkOiExLG9yaWVudGF0aW9uQ2hhbmdlRW5hYmxlZDohMCxidXR0b25NYXJrdXA6e2hvdmVyRGVsYXk6MjAwfSx3aW5kb3c6YShiKSxkb2N1bWVudDphKGMpLGtleUNvZGU6e0FMVDoxOCxCQUNLU1BBQ0U6OCxDQVBTX0xPQ0s6MjAsQ09NTUE6MTg4LENPTU1BTkQ6OTEsQ09NTUFORF9MRUZUOjkxLENPTU1BTkRfUklHSFQ6OTMsQ09OVFJPTDoxNyxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsSU5TRVJUOjQ1LExFRlQ6MzcsTUVOVTo5MyxOVU1QQURfQUREOjEwNyxOVU1QQURfREVDSU1BTDoxMTAsTlVNUEFEX0RJVklERToxMTEsTlVNUEFEX0VOVEVSOjEwOCxOVU1QQURfTVVMVElQTFk6MTA2LE5VTVBBRF9TVUJUUkFDVDoxMDksUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTSElGVDoxNixTUEFDRTozMixUQUI6OSxVUDozOCxXSU5ET1dTOjkxfSxiZWhhdmlvcnM6e30sc2lsZW50U2Nyb2xsOmZ1bmN0aW9uKGMpeyJudW1iZXIiIT09YS50eXBlKGMpJiYoYz1hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCksYS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsc2V0VGltZW91dChmdW5jdGlvbigpe2Iuc2Nyb2xsVG8oMCxjKSxhLm1vYmlsZS5kb2N1bWVudC50cmlnZ2VyKCJzaWxlbnRzY3JvbGwiLHt4OjAseTpjfSl9LDIwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LG5zTm9ybWFsaXplRGljdDplLG5zTm9ybWFsaXplOmZ1bmN0aW9uKGIpe3JldHVybiBiP2VbYl18fChlW2JdPWEuY2FtZWxDYXNlKGEubW9iaWxlLm5zK2IpKTp2b2lkIDB9LGdldEluaGVyaXRlZFRoZW1lOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQsZT1hWzBdLGY9IiIsZz0vdWktKGJhcnxib2R5fG92ZXJsYXkpLShbYS16XSlcYi87ZSYmKGM9ZS5jbGFzc05hbWV8fCIiLCEoYyYmKGQ9Zy5leGVjKGMpKSYmKGY9ZFsyXSkpKTspZT1lLnBhcmVudE5vZGU7cmV0dXJuIGZ8fGJ8fCJhIn0sY2xvc2VzdFBhZ2VEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb3Nlc3QoJzpqcW1EYXRhKHJvbGU9InBhZ2UiKSwgOmpxbURhdGEocm9sZT0iZGlhbG9nIiknKS5kYXRhKCJtb2JpbGUtcGFnZSIpfSxlbmhhbmNlYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLCJlbmhhbmNlIil9LGhpamFja2FibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoYSwiYWpheCIpfSxoYXZlUGFyZW50czpmdW5jdGlvbihiLGMpe2lmKCFhLm1vYmlsZS5pZ25vcmVDb250ZW50RW5hYmxlZClyZXR1cm4gYjtmb3IodmFyIGQsZSxmLGc9Yi5sZW5ndGgsaD1hKCksaT0wO2c+aTtpKyspe2ZvcihlPWIuZXEoaSksZj0hMSxkPWJbaV07ZDspe3ZhciBqPWQuZ2V0QXR0cmlidXRlP2QuZ2V0QXR0cmlidXRlKCJkYXRhLSIrYS5tb2JpbGUubnMrYyk6IiI7aWYoImZhbHNlIj09PWope2Y9ITA7YnJlYWt9ZD1kLnBhcmVudE5vZGV9Znx8KGg9aC5hZGQoZSkpfXJldHVybiBofSxnZXRTY3JlZW5IZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5pbm5lckhlaWdodHx8YS5tb2JpbGUud2luZG93LmhlaWdodCgpfX0sYS5tb2JpbGUpLGEuZm4uanFtRGF0YT1mdW5jdGlvbihiLGMpe3ZhciBlO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYiYmKGImJihiPWEubW9iaWxlLm5zTm9ybWFsaXplKGIpKSxlPWFyZ3VtZW50cy5sZW5ndGg8Mnx8Yz09PWQ/dGhpcy5kYXRhKGIpOnRoaXMuZGF0YShiLGMpKSxlfSxhLmpxbURhdGE9ZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYyYmKGU9YS5kYXRhKGIsYz9hLm1vYmlsZS5uc05vcm1hbGl6ZShjKTpjLGQpKSxlfSxhLmZuLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVtb3ZlRGF0YShhLm1vYmlsZS5uc05vcm1hbGl6ZShiKSl9LGEuanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiLGMpe3JldHVybiBhLnJlbW92ZURhdGEoYixhLm1vYmlsZS5uc05vcm1hbGl6ZShjKSl9LGEuZm4ucmVtb3ZlV2l0aERlcGVuZGVudHM9ZnVuY3Rpb24oKXthLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfSxhLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe3ZhciBjPWEoYik7KGMuanFtRGF0YSgiZGVwZW5kZW50cyIpfHxhKCkpLnJlbW92ZSgpLGMucmVtb3ZlKCl9LGEuZm4uYWRkRGVwZW5kZW50cz1mdW5jdGlvbihiKXthLmFkZERlcGVuZGVudHMoYSh0aGlzKSxiKX0sYS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiKS5qcW1EYXRhKCJkZXBlbmRlbnRzIil8fGEoKTthKGIpLmpxbURhdGEoImRlcGVuZGVudHMiLGEubWVyZ2UoZCxjKSl9LGEuZm4uZ2V0RW5jb2RlZFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdi8+IikudGV4dChhKHRoaXMpLnRleHQoKSkuaHRtbCgpfSxhLmZuLmpxbUVuaGFuY2VhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmVuaGFuY2VhYmxlKHRoaXMpfSxhLmZuLmpxbUhpamFja2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuaGlqYWNrYWJsZSh0aGlzKX07dmFyIGY9YS5maW5kLGc9LzpqcW1EYXRhXCgoW14pXSopXCkvZzthLmZpbmQ9ZnVuY3Rpb24oYixjLGQsZSl7cmV0dXJuIGI9Yi5yZXBsYWNlKGcsIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrIiQxXSIpLGYuY2FsbCh0aGlzLGIsYyxkLGUpfSxhLmV4dGVuZChhLmZpbmQsZiksYS5maW5kLm1hdGNoZXM9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGIsbnVsbCxudWxsLGMpfSxhLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChjLG51bGwsbnVsbCxbYl0pLmxlbmd0aD4wfX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe3ZhciBjPTAsZD1BcnJheS5wcm90b3R5cGUuc2xpY2UsZT1hLmNsZWFuRGF0YTthLmNsZWFuRGF0YT1mdW5jdGlvbihiKXtmb3IodmFyIGMsZD0wO251bGwhPShjPWJbZF0pO2QrKyl0cnl7YShjKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIil9Y2F0Y2goZil7fWUoYil9LGEud2lkZ2V0PWZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGcsaCxpPWIuc3BsaXQoIi4iKVswXTtiPWIuc3BsaXQoIi4iKVsxXSxlPWkrIi0iK2IsZHx8KGQ9YyxjPWEuV2lkZ2V0KSxhLmV4cHJbIjoiXVtlLnRvTG93ZXJDYXNlKCldPWZ1bmN0aW9uKGIpe3JldHVybiEhYS5kYXRhKGIsZSl9LGFbaV09YVtpXXx8e30sZj1hW2ldW2JdLGc9YVtpXVtiXT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLl9jcmVhdGVXaWRnZXQ/KGFyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGIpLHZvaWQgMCk6bmV3IGcoYSxiKX0sYS5leHRlbmQoZyxmLHt2ZXJzaW9uOmQudmVyc2lvbixfcHJvdG86YS5leHRlbmQoe30sZCksX2NoaWxkQ29uc3RydWN0b3JzOltdfSksaD1uZXcgYyxoLm9wdGlvbnM9YS53aWRnZXQuZXh0ZW5kKHt9LGgub3B0aW9ucyksYS5lYWNoKGQsZnVuY3Rpb24oYixlKXthLmlzRnVuY3Rpb24oZSkmJihkW2JdPWZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXtyZXR1cm4gYy5wcm90b3R5cGVbYl0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkPWZ1bmN0aW9uKGEpe3JldHVybiBjLnByb3RvdHlwZVtiXS5hcHBseSh0aGlzLGEpfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMuX3N1cGVyLGY9dGhpcy5fc3VwZXJBcHBseTtyZXR1cm4gdGhpcy5fc3VwZXI9YSx0aGlzLl9zdXBlckFwcGx5PWQsYj1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zdXBlcj1jLHRoaXMuX3N1cGVyQXBwbHk9ZixifX0oKSl9KSxnLnByb3RvdHlwZT1hLndpZGdldC5leHRlbmQoaCx7d2lkZ2V0RXZlbnRQcmVmaXg6Zj9oLndpZGdldEV2ZW50UHJlZml4OmJ9LGQse2NvbnN0cnVjdG9yOmcsbmFtZXNwYWNlOmksd2lkZ2V0TmFtZTpiLHdpZGdldEZ1bGxOYW1lOmV9KSxmPyhhLmVhY2goZi5fY2hpbGRDb25zdHJ1Y3RvcnMsZnVuY3Rpb24oYixjKXt2YXIgZD1jLnByb3RvdHlwZTthLndpZGdldChkLm5hbWVzcGFjZSsiLiIrZC53aWRnZXROYW1lLGcsYy5fcHJvdG8pfSksZGVsZXRlIGYuX2NoaWxkQ29uc3RydWN0b3JzKTpjLl9jaGlsZENvbnN0cnVjdG9ycy5wdXNoKGcpLGEud2lkZ2V0LmJyaWRnZShiLGcpfSxhLndpZGdldC5leHRlbmQ9ZnVuY3Rpb24oYyl7Zm9yKHZhciBlLGYsZz1kLmNhbGwoYXJndW1lbnRzLDEpLGg9MCxpPWcubGVuZ3RoO2k+aDtoKyspZm9yKGUgaW4gZ1toXSlmPWdbaF1bZV0sZ1toXS5oYXNPd25Qcm9wZXJ0eShlKSYmZiE9PWImJihjW2VdPWEuaXNQbGFpbk9iamVjdChmKT9hLmlzUGxhaW5PYmplY3QoY1tlXSk/YS53aWRnZXQuZXh0ZW5kKHt9LGNbZV0sZik6YS53aWRnZXQuZXh0ZW5kKHt9LGYpOmYpO3JldHVybiBjfSxhLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24oYyxlKXt2YXIgZj1lLnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZXx8YzthLmZuW2NdPWZ1bmN0aW9uKGcpe3ZhciBoPSJzdHJpbmciPT10eXBlb2YgZyxpPWQuY2FsbChhcmd1bWVudHMsMSksaj10aGlzO3JldHVybiBnPSFoJiZpLmxlbmd0aD9hLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbZ10uY29uY2F0KGkpKTpnLGg/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQsZT1hLmRhdGEodGhpcyxmKTtyZXR1cm4gZT9hLmlzRnVuY3Rpb24oZVtnXSkmJiJfIiE9PWcuY2hhckF0KDApPyhkPWVbZ10uYXBwbHkoZSxpKSxkIT09ZSYmZCE9PWI/KGo9ZCYmZC5qcXVlcnk/ai5wdXNoU3RhY2soZC5nZXQoKSk6ZCwhMSk6dm9pZCAwKTphLmVycm9yKCJubyBzdWNoIG1ldGhvZCAnIitnKyInIGZvciAiK2MrIiB3aWRnZXQgaW5zdGFuY2UiKTphLmVycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIrYysiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyAiKyJhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIrZysiJyIpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YS5kYXRhKHRoaXMsZik7Yj9iLm9wdGlvbihnfHx7fSkuX2luaXQoKTphLmRhdGEodGhpcyxmLG5ldyBlKGcsdGhpcykpfSksan19LGEuV2lkZ2V0PWZ1bmN0aW9uKCl7fSxhLldpZGdldC5fY2hpbGRDb25zdHJ1Y3RvcnM9W10sYS5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOiJ3aWRnZXQiLHdpZGdldEV2ZW50UHJlZml4OiIiLGRlZmF1bHRFbGVtZW50OiI8ZGl2PiIsb3B0aW9uczp7ZGlzYWJsZWQ6ITEsY3JlYXRlOm51bGx9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oYixkKXtkPWEoZHx8dGhpcy5kZWZhdWx0RWxlbWVudHx8dGhpcylbMF0sdGhpcy5lbGVtZW50PWEoZCksdGhpcy51dWlkPWMrKyx0aGlzLmV2ZW50TmFtZXNwYWNlPSIuIit0aGlzLndpZGdldE5hbWUrdGhpcy51dWlkLHRoaXMub3B0aW9ucz1hLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zLHRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSxiKSx0aGlzLmJpbmRpbmdzPWEoKSx0aGlzLmhvdmVyYWJsZT1hKCksdGhpcy5mb2N1c2FibGU9YSgpLGQhPT10aGlzJiYoYS5kYXRhKGQsdGhpcy53aWRnZXRGdWxsTmFtZSx0aGlzKSx0aGlzLl9vbighMCx0aGlzLmVsZW1lbnQse3JlbW92ZTpmdW5jdGlvbihhKXthLnRhcmdldD09PWQmJnRoaXMuZGVzdHJveSgpfX0pLHRoaXMuZG9jdW1lbnQ9YShkLnN0eWxlP2Qub3duZXJEb2N1bWVudDpkLmRvY3VtZW50fHxkKSx0aGlzLndpbmRvdz1hKHRoaXMuZG9jdW1lbnRbMF0uZGVmYXVsdFZpZXd8fHRoaXMuZG9jdW1lbnRbMF0ucGFyZW50V2luZG93KSksdGhpcy5fY3JlYXRlKCksdGhpcy5fdHJpZ2dlcigiY3JlYXRlIixudWxsLHRoaXMuX2dldENyZWF0ZUV2ZW50RGF0YSgpKSx0aGlzLl9pbml0KCl9LF9nZXRDcmVhdGVPcHRpb25zOmEubm9vcCxfZ2V0Q3JlYXRlRXZlbnREYXRhOmEubm9vcCxfY3JlYXRlOmEubm9vcCxfaW5pdDphLm5vb3AsZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2Rlc3Ryb3koKSx0aGlzLmVsZW1lbnQudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLnJlbW92ZURhdGEodGhpcy53aWRnZXROYW1lKS5yZW1vdmVEYXRhKHRoaXMud2lkZ2V0RnVsbE5hbWUpLnJlbW92ZURhdGEoYS5jYW1lbENhc2UodGhpcy53aWRnZXRGdWxsTmFtZSkpLHRoaXMud2lkZ2V0KCkudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLnJlbW92ZUF0dHIoImFyaWEtZGlzYWJsZWQiKS5yZW1vdmVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQgIisidWktc3RhdGUtZGlzYWJsZWQiKSx0aGlzLmJpbmRpbmdzLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKSx0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKSx0aGlzLmZvY3VzYWJsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX0sX2Rlc3Ryb3k6YS5ub29wLHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnR9LG9wdGlvbjpmdW5jdGlvbihjLGQpe3ZhciBlLGYsZyxoPWM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMpO2lmKCJzdHJpbmciPT10eXBlb2YgYylpZihoPXt9LGU9Yy5zcGxpdCgiLiIpLGM9ZS5zaGlmdCgpLGUubGVuZ3RoKXtmb3IoZj1oW2NdPWEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnNbY10pLGc9MDtnPGUubGVuZ3RoLTE7ZysrKWZbZVtnXV09ZltlW2ddXXx8e30sZj1mW2VbZ11dO2lmKGM9ZS5wb3AoKSxkPT09YilyZXR1cm4gZltjXT09PWI/bnVsbDpmW2NdO2ZbY109ZH1lbHNle2lmKGQ9PT1iKXJldHVybiB0aGlzLm9wdGlvbnNbY109PT1iP251bGw6dGhpcy5vcHRpb25zW2NdO2hbY109ZH1yZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyhoKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXRoaXMuX3NldE9wdGlvbihiLGFbYl0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3B0aW9uc1thXT1iLCJkaXNhYmxlZCI9PT1hJiYodGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiLCEhYikuYXR0cigiYXJpYS1kaXNhYmxlZCIsYiksdGhpcy5ob3ZlcmFibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWZvY3VzIikpLHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxfb246ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9dGhpczsiYm9vbGVhbiIhPXR5cGVvZiBiJiYoZD1jLGM9YixiPSExKSxkPyhjPWU9YShjKSx0aGlzLmJpbmRpbmdzPXRoaXMuYmluZGluZ3MuYWRkKGMpKTooZD1jLGM9dGhpcy5lbGVtZW50LGU9dGhpcy53aWRnZXQoKSksYS5lYWNoKGQsZnVuY3Rpb24oZCxnKXtmdW5jdGlvbiBoKCl7cmV0dXJuIGJ8fGYub3B0aW9ucy5kaXNhYmxlZCE9PSEwJiYhYSh0aGlzKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKT8oInN0cmluZyI9PXR5cGVvZiBnP2ZbZ106ZykuYXBwbHkoZixhcmd1bWVudHMpOnZvaWQgMH0ic3RyaW5nIiE9dHlwZW9mIGcmJihoLmd1aWQ9Zy5ndWlkPWcuZ3VpZHx8aC5ndWlkfHxhLmd1aWQrKyk7dmFyIGk9ZC5tYXRjaCgvXihcdyspXHMqKC4qKSQvKSxqPWlbMV0rZi5ldmVudE5hbWVzcGFjZSxrPWlbMl07az9lLmRlbGVnYXRlKGssaixoKTpjLmJpbmQoaixoKX0pfSxfb2ZmOmZ1bmN0aW9uKGEsYil7Yj0oYnx8IiIpLnNwbGl0KCIgIikuam9pbih0aGlzLmV2ZW50TmFtZXNwYWNlKyIgIikrdGhpcy5ldmVudE5hbWVzcGFjZSxhLnVuYmluZChiKS51bmRlbGVnYXRlKGIpfSxfZGVsYXk6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7cmV0dXJuKCJzdHJpbmciPT10eXBlb2YgYT9kW2FdOmEpLmFwcGx5KGQsYXJndW1lbnRzKX12YXIgZD10aGlzO3JldHVybiBzZXRUaW1lb3V0KGMsYnx8MCl9LF9ob3ZlcmFibGU6ZnVuY3Rpb24oYil7dGhpcy5ob3ZlcmFibGU9dGhpcy5ob3ZlcmFibGUuYWRkKGIpLHRoaXMuX29uKGIse21vdXNlZW50ZXI6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtaG92ZXIiKX19KX0sX2ZvY3VzYWJsZTpmdW5jdGlvbihiKXt0aGlzLmZvY3VzYWJsZT10aGlzLmZvY3VzYWJsZS5hZGQoYiksdGhpcy5fb24oYix7Zm9jdXNpbjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoInVpLXN0YXRlLWZvY3VzIil9LGZvY3Vzb3V0OmZ1bmN0aW9uKGIpe2EoYi5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZz10aGlzLm9wdGlvbnNbYl07aWYoZD1kfHx7fSxjPWEuRXZlbnQoYyksYy50eXBlPShiPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9iOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrYikudG9Mb3dlckNhc2UoKSxjLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sZj1jLm9yaWdpbmFsRXZlbnQpZm9yKGUgaW4gZillIGluIGN8fChjW2VdPWZbZV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihjLGQpLCEoYS5pc0Z1bmN0aW9uKGcpJiZnLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbY10uY29uY2F0KGQpKT09PSExfHxjLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19LGEuZWFjaCh7c2hvdzoiZmFkZUluIixoaWRlOiJmYWRlT3V0In0sZnVuY3Rpb24oYixjKXthLldpZGdldC5wcm90b3R5cGVbIl8iK2JdPWZ1bmN0aW9uKGQsZSxmKXsic3RyaW5nIj09dHlwZW9mIGUmJihlPXtlZmZlY3Q6ZX0pO3ZhciBnLGg9ZT9lPT09ITB8fCJudW1iZXIiPT10eXBlb2YgZT9jOmUuZWZmZWN0fHxjOmI7ZT1lfHx7fSwibnVtYmVyIj09dHlwZW9mIGUmJihlPXtkdXJhdGlvbjplfSksZz0hYS5pc0VtcHR5T2JqZWN0KGUpLGUuY29tcGxldGU9ZixlLmRlbGF5JiZkLmRlbGF5KGUuZGVsYXkpLGcmJmEuZWZmZWN0cyYmYS5lZmZlY3RzLmVmZmVjdFtoXT9kW2JdKGUpOmghPT1iJiZkW2hdP2RbaF0oZS5kdXJhdGlvbixlLmVhc2luZyxmKTpkLnF1ZXVlKGZ1bmN0aW9uKGMpe2EodGhpcylbYl0oKSxmJiZmLmNhbGwoZFswXSksYygpfSl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS53aWRnZXQiLHtfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKCl7YS5XaWRnZXQucHJvdG90eXBlLl9jcmVhdGVXaWRnZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3RyaWdnZXIoImluaXQiKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsZD17fTtyZXR1cm4gYS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihhKXt2YXIgZT1jLmpxbURhdGEoYS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9KSk7ZSE9PWImJihkW2FdPWUpfSksZH0sZW5oYW5jZVdpdGhpbjpmdW5jdGlvbihiLGMpe3RoaXMuZW5oYW5jZShhKHRoaXMub3B0aW9ucy5pbml0U2VsZWN0b3IsYShiKSksYyl9LGVuaGFuY2U6ZnVuY3Rpb24oYixjKXt2YXIgZCxlLGY9YShiKTtmPWEubW9iaWxlLmVuaGFuY2VhYmxlKGYpLGMmJmYubGVuZ3RoJiYoZD1hLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoZiksZT1kJiZkLmtlZXBOYXRpdmVTZWxlY3RvcigpfHwiIixmPWYubm90KGUpKSxmW3RoaXMud2lkZ2V0TmFtZV0oKX0scmFpc2U6ZnVuY3Rpb24oYSl7dGhyb3ciV2lkZ2V0IFsiK3RoaXMud2lkZ2V0TmFtZSsiXTogIithfX0pfShhKSxmdW5jdGlvbihhKXthLmV4dGVuZChhLm1vYmlsZSx7bG9hZGluZ01lc3NhZ2VUZXh0VmlzaWJsZTpkLGxvYWRpbmdNZXNzYWdlVGhlbWU6ZCxsb2FkaW5nTWVzc2FnZTpkLHNob3dQYWdlTG9hZGluZ01zZzpmdW5jdGlvbihiLGMsZCl7YS5tb2JpbGUubG9hZGluZygic2hvdyIsYixjLGQpfSxoaWRlUGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oKXthLm1vYmlsZS5sb2FkaW5nKCJoaWRlIil9LGxvYWRpbmc6ZnVuY3Rpb24oKXt0aGlzLmxvYWRlcldpZGdldC5sb2FkZXIuYXBwbHkodGhpcy5sb2FkZXJXaWRnZXQsYXJndW1lbnRzKX19KTt2YXIgYj0idWktbG9hZGVyIixjPWEoImh0bWwiKSxlPWEubW9iaWxlLndpbmRvdzthLndpZGdldCgibW9iaWxlLmxvYWRlciIse29wdGlvbnM6e3RoZW1lOiJhIix0ZXh0VmlzaWJsZTohMSxodG1sOiIiLHRleHQ6ImxvYWRpbmcifSxkZWZhdWx0SHRtbDoiPGRpdiBjbGFzcz0nIitiKyInPiIrIjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tbG9hZGluZyc+PC9zcGFuPiIrIjxoMT48L2gxPiIrIjwvZGl2PiIsZmFrZUZpeExvYWRlcjpmdW5jdGlvbigpe3ZhciBiPWEoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5maXJzdCgpO3RoaXMuZWxlbWVudC5jc3Moe3RvcDphLnN1cHBvcnQuc2Nyb2xsVG9wJiZlLnNjcm9sbFRvcCgpK2UuaGVpZ2h0KCkvMnx8Yi5sZW5ndGgmJmIub2Zmc2V0KCkudG9wfHwxMDB9KX0sY2hlY2tMb2FkZXJQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5vZmZzZXQoKSxjPWUuc2Nyb2xsVG9wKCksZD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTsoYi50b3A8Y3x8Yi50b3AtYz5kKSYmKHRoaXMuZWxlbWVudC5hZGRDbGFzcygidWktbG9hZGVyLWZha2VmaXgiKSx0aGlzLmZha2VGaXhMb2FkZXIoKSxlLnVuYmluZCgic2Nyb2xsIix0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24pLmJpbmQoInNjcm9sbCIsYS5wcm94eSh0aGlzLmZha2VGaXhMb2FkZXIsdGhpcykpKX0scmVzZXRIdG1sOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lmh0bWwoYSh0aGlzLmRlZmF1bHRIdG1sKS5odG1sKCkpfSxzaG93OmZ1bmN0aW9uKGYsZyxoKXt2YXIgaSxqLGs7dGhpcy5yZXNldEh0bWwoKSwib2JqZWN0Ij09PWEudHlwZShmKT8oaz1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsZiksZj1rLnRoZW1lfHxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRoZW1lKTooaz10aGlzLm9wdGlvbnMsZj1mfHxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRoZW1lfHxrLnRoZW1lKSxqPWd8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlfHxrLnRleHQsYy5hZGRDbGFzcygidWktbG9hZGluZyIpLChhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSE9PSExfHxrLmh0bWwpJiYoaT1hLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlIT09ZD9hLm1vYmlsZS5sb2FkaW5nTWVzc2FnZVRleHRWaXNpYmxlOmsudGV4dFZpc2libGUsdGhpcy5lbGVtZW50LmF0dHIoImNsYXNzIixiKyIgdWktY29ybmVyLWFsbCB1aS1ib2R5LSIrZisiIHVpLWxvYWRlci0iKyhpfHxnfHxmLnRleHQ/InZlcmJvc2UiOiJkZWZhdWx0IikrKGsudGV4dG9ubHl8fGg/IiB1aS1sb2FkZXItdGV4dG9ubHkiOiIiKSksay5odG1sP3RoaXMuZWxlbWVudC5odG1sKGsuaHRtbCk6dGhpcy5lbGVtZW50LmZpbmQoImgxIikudGV4dChqKSx0aGlzLmVsZW1lbnQuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lciksdGhpcy5jaGVja0xvYWRlclBvc2l0aW9uKCksZS5iaW5kKCJzY3JvbGwiLGEucHJveHkodGhpcy5jaGVja0xvYWRlclBvc2l0aW9uLHRoaXMpKSl9LGhpZGU6ZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKCJ1aS1sb2FkaW5nIiksYS5tb2JpbGUubG9hZGluZ01lc3NhZ2UmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygidWktbG9hZGVyLWZha2VmaXgiKSxhLm1vYmlsZS53aW5kb3cudW5iaW5kKCJzY3JvbGwiLHRoaXMuZmFrZUZpeExvYWRlciksYS5tb2JpbGUud2luZG93LnVuYmluZCgic2Nyb2xsIix0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24pfX0pLGUuYmluZCgicGFnZWNvbnRhaW5lcmNyZWF0ZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5sb2FkZXJXaWRnZXQ9YS5tb2JpbGUubG9hZGVyV2lkZ2V0fHxhKGEubW9iaWxlLmxvYWRlci5wcm90b3R5cGUuZGVmYXVsdEh0bWwpLmxvYWRlcigpfSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGUoYSl7cmV0dXJuIGE9YXx8bG9jYXRpb24uaHJlZiwiIyIrYS5yZXBsYWNlKC9eW14jXSojPyguKikkLywiJDEiKX12YXIgZixnPSJoYXNoY2hhbmdlIixoPWMsaT1hLmV2ZW50LnNwZWNpYWwsaj1oLmRvY3VtZW50TW9kZSxrPSJvbiIrZyBpbiBiJiYoaj09PWR8fGo+Nyk7YS5mbltnXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoZyxhKTp0aGlzLnRyaWdnZXIoZyl9LGEuZm5bZ10uZGVsYXk9NTAsaVtnXT1hLmV4dGVuZChpW2ddLHtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBrPyExOihhKGYuc3RhcnQpLHZvaWQgMCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ITE6KGEoZi5zdG9wKSx2b2lkIDApfX0pLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKCl7dmFyIGQ9ZSgpLGg9bihqKTtkIT09aj8obShqPWQsaCksYShiKS50cmlnZ2VyKGcpKTpoIT09aiYmKGxvY2F0aW9uLmhyZWY9bG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiovLCIiKStoKSxmPXNldFRpbWVvdXQoYyxhLmZuW2ddLmRlbGF5KX12YXIgZixpPXt9LGo9ZSgpLGw9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LG09bCxuPWw7cmV0dXJuIGkuc3RhcnQ9ZnVuY3Rpb24oKXtmfHxjKCl9LGkuc3RvcD1mdW5jdGlvbigpe2YmJmNsZWFyVGltZW91dChmKSxmPWR9LGIuYXR0YWNoRXZlbnQmJiFiLmFkZEV2ZW50TGlzdGVuZXImJiFrJiZmdW5jdGlvbigpe3ZhciBiLGQ7aS5zdGFydD1mdW5jdGlvbigpe2J8fChkPWEuZm5bZ10uc3JjLGQ9ZCYmZCtlKCksYj1hKCc8aWZyYW1lIHRhYmluZGV4PSItMSIgdGl0bGU9ImVtcHR5Ii8+JykuaGlkZSgpLm9uZSgibG9hZCIsZnVuY3Rpb24oKXtkfHxtKGUoKSksYygpfSkuYXR0cigic3JjIixkfHwiamF2YXNjcmlwdDowIikuaW5zZXJ0QWZ0ZXIoImJvZHkiKVswXS5jb250ZW50V2luZG93LGgub25wcm9wZXJ0eWNoYW5nZT1mdW5jdGlvbigpe3RyeXsidGl0bGUiPT09ZXZlbnQucHJvcGVydHlOYW1lJiYoYi5kb2N1bWVudC50aXRsZT1oLnRpdGxlKX1jYXRjaChhKXt9fSl9LGkuc3RvcD1sLG49ZnVuY3Rpb24oKXtyZXR1cm4gZShiLmxvY2F0aW9uLmhyZWYpfSxtPWZ1bmN0aW9uKGMsZCl7dmFyIGU9Yi5kb2N1bWVudCxmPWEuZm5bZ10uZG9tYWluO2MhPT1kJiYoZS50aXRsZT1oLnRpdGxlLGUub3BlbigpLGYmJmUud3JpdGUoJzxzY3JpcHQ+ZG9jdW1lbnQuZG9tYWluPSInK2YrJyI8L3NjcmlwdD4nKSxlLmNsb3NlKCksYi5sb2NhdGlvbi5oYXNoPWMpfX0oKSxpfSgpfShhLHRoaXMpLGZ1bmN0aW9uKGEpe2IubWF0Y2hNZWRpYT1iLm1hdGNoTWVkaWF8fGZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5kb2N1bWVudEVsZW1lbnQsZD1jLmZpcnN0RWxlbWVudENoaWxkfHxjLmZpcnN0Q2hpbGQsZT1hLmNyZWF0ZUVsZW1lbnQoImJvZHkiKSxmPWEuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGYuaWQ9Im1xLXRlc3QtMSIsZi5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTEwMGVtIixlLnN0eWxlLmJhY2tncm91bmQ9Im5vbmUiLGUuYXBwZW5kQ2hpbGQoZiksZnVuY3Rpb24oYSl7cmV0dXJuIGYuaW5uZXJIVE1MPScmc2h5OzxzdHlsZSBtZWRpYT0iJythKyciPiAjbXEtdGVzdC0xIHsgd2lkdGg6IDQycHg7IH08L3N0eWxlPicsYy5pbnNlcnRCZWZvcmUoZSxkKSxiPTQyPT09Zi5vZmZzZXRXaWR0aCxjLnJlbW92ZUNoaWxkKGUpLHttYXRjaGVzOmIsbWVkaWE6YX19fShjKSxhLm1vYmlsZS5tZWRpYT1mdW5jdGlvbihhKXtyZXR1cm4gYi5tYXRjaE1lZGlhKGEpLm1hdGNoZXN9fShhKSxmdW5jdGlvbihhKXt2YXIgYj17dG91Y2g6Im9udG91Y2hlbmQiaW4gY307YS5tb2JpbGUuc3VwcG9ydD1hLm1vYmlsZS5zdXBwb3J0fHx7fSxhLmV4dGVuZChhLnN1cHBvcnQsYiksYS5leHRlbmQoYS5tb2JpbGUuc3VwcG9ydCxiKX0oYSksZnVuY3Rpb24oYSl7YS5leHRlbmQoYS5zdXBwb3J0LHtvcmllbnRhdGlvbjoib3JpZW50YXRpb24iaW4gYiYmIm9ub3JpZW50YXRpb25jaGFuZ2UiaW4gYn0pfShhKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoYSl7dmFyIGI9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxjPShhKyIgIituLmpvaW4oYisiICIpK2IpLnNwbGl0KCIgIik7Zm9yKHZhciBlIGluIGMpaWYobVtjW2VdXSE9PWQpcmV0dXJuITB9ZnVuY3Rpb24gZihhLGIsZCl7Zm9yKHZhciBlLGY9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxnPWZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpfSxoPWZ1bmN0aW9uKGEpe3JldHVybiIiPT09YT8iIjoiLSIrYS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSthLnN1YnN0cigxKSsiLSJ9LGk9ZnVuY3Rpb24oYyl7dmFyIGQ9aChjKSthKyI6ICIrYisiOyIsaT1nKGMpLGo9aSsoIiI9PT1pP2E6ZyhhKSk7Zi5zZXRBdHRyaWJ1dGUoInN0eWxlIixkKSxmLnN0eWxlW2pdJiYoZT0hMCl9LGo9ZD9kOm4saz0wO2s8ai5sZW5ndGg7aysrKWkoaltrXSk7cmV0dXJuISFlfWZ1bmN0aW9uIGcoKXt2YXIgZT0idHJhbnNmb3JtLTNkIixmPWEubW9iaWxlLm1lZGlhKCIoLSIrbi5qb2luKCItIitlKyIpLCgtIikrIi0iK2UrIiksKCIrZSsiKSIpO2lmKGYpcmV0dXJuISFmO3ZhciBnPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksaD17TW96VHJhbnNmb3JtOiItbW96LXRyYW5zZm9ybSIsdHJhbnNmb3JtOiJ0cmFuc2Zvcm0ifTtsLmFwcGVuZChnKTtmb3IodmFyIGkgaW4gaClnLnN0eWxlW2ldIT09ZCYmKGcuc3R5bGVbaV09InRyYW5zbGF0ZTNkKCAxMDBweCwgMXB4LCAxcHggKSIsZj1iLmdldENvbXB1dGVkU3R5bGUoZykuZ2V0UHJvcGVydHlWYWx1ZShoW2ldKSk7cmV0dXJuISFmJiYibm9uZSIhPT1mfWZ1bmN0aW9uIGgoKXt2YXIgYixjLGQ9bG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lKyJ1aS1kaXIvIixlPWEoImhlYWQgYmFzZSIpLGY9bnVsbCxnPSIiO3JldHVybiBlLmxlbmd0aD9nPWUuYXR0cigiaHJlZiIpOmU9Zj1hKCI8YmFzZT4iLHtocmVmOmR9KS5hcHBlbmRUbygiaGVhZCIpLGI9YSgiPGEgaHJlZj0ndGVzdHVybCcgLz4iKS5wcmVwZW5kVG8obCksYz1iWzBdLmhyZWYsZVswXS5ocmVmPWd8fGxvY2F0aW9uLnBhdGhuYW1lLGYmJmYucmVtb3ZlKCksMD09PWMuaW5kZXhPZihkKX1mdW5jdGlvbiBpKCl7dmFyIGEsZD1jLmNyZWF0ZUVsZW1lbnQoIngiKSxlPWMuZG9jdW1lbnRFbGVtZW50LGY9Yi5nZXRDb21wdXRlZFN0eWxlO3JldHVybiJwb2ludGVyRXZlbnRzImluIGQuc3R5bGU/KGQuc3R5bGUucG9pbnRlckV2ZW50cz0iYXV0byIsZC5zdHlsZS5wb2ludGVyRXZlbnRzPSJ4IixlLmFwcGVuZENoaWxkKGQpLGE9ZiYmImF1dG8iPT09ZihkLCIiKS5wb2ludGVyRXZlbnRzLGUucmVtb3ZlQ2hpbGQoZCksISFhKTohMX1mdW5jdGlvbiBqKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0fWZ1bmN0aW9uIGsoKXt2YXIgYT1iLGM9bmF2aWdhdG9yLnVzZXJBZ2VudCxkPW5hdmlnYXRvci5wbGF0Zm9ybSxlPWMubWF0Y2goL0FwcGxlV2ViS2l0XC8oWzAtOV0rKS8pLGY9ISFlJiZlWzFdLGc9Yy5tYXRjaCgvRmVubmVjXC8oWzAtOV0rKS8pLGg9ISFnJiZnWzFdLGk9Yy5tYXRjaCgvT3BlcmEgTW9iaVwvKFswLTldKykvKSxqPSEhaSYmaVsxXTtyZXR1cm4oZC5pbmRleE9mKCJpUGhvbmUiKT4tMXx8ZC5pbmRleE9mKCJpUGFkIik+LTF8fGQuaW5kZXhPZigiaVBvZCIpPi0xKSYmZiYmNTM0PmZ8fGEub3BlcmFtaW5pJiYiW29iamVjdCBPcGVyYU1pbmldIj09PXt9LnRvU3RyaW5nLmNhbGwoYS5vcGVyYW1pbmkpfHxpJiY3NDU4Pmp8fGMuaW5kZXhPZigiQW5kcm9pZCIpPi0xJiZmJiY1MzM+Znx8aCYmNj5ofHwicGFsbUdldFJlc291cmNlImluIGImJmYmJjUzND5mfHxjLmluZGV4T2YoIk1lZUdvIik+LTEmJmMuaW5kZXhPZigiTm9raWFCcm93c2VyLzguNS4wIik+LTE/ITE6ITB9dmFyIGw9YSgiPGJvZHk+IikucHJlcGVuZFRvKCJodG1sIiksbT1sWzBdLnN0eWxlLG49WyJXZWJraXQiLCJNb3oiLCJPIl0sbz0icGFsbUdldFJlc291cmNlImluIGIscD1iLm9wZXJhLHE9Yi5vcGVyYW1pbmkmJiJbb2JqZWN0IE9wZXJhTWluaV0iPT09e30udG9TdHJpbmcuY2FsbChiLm9wZXJhbWluaSkscj1iLmJsYWNrYmVycnkmJiFlKCItd2Via2l0LXRyYW5zZm9ybSIpO2EuZXh0ZW5kKGEubW9iaWxlLHticm93c2VyOnt9fSksYS5tb2JpbGUuYnJvd3Nlci5vbGRJRT1mdW5jdGlvbigpe3ZhciBhPTMsYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQ9Yi5hbGx8fFtdO2RvIGIuaW5uZXJIVE1MPSI8IS0tW2lmIGd0IElFICIrICsrYSsiXT48YnI+PCFbZW5kaWZdLS0+Ijt3aGlsZShkWzBdKTtyZXR1cm4gYT40P2E6IWF9KCksYS5leHRlbmQoYS5zdXBwb3J0LHtjc3NUcmFuc2l0aW9uczoiV2ViS2l0VHJhbnNpdGlvbkV2ZW50ImluIGJ8fGYoInRyYW5zaXRpb24iLCJoZWlnaHQgMTAwbXMgbGluZWFyIixbIldlYmtpdCIsIk1veiIsIiJdKSYmIWEubW9iaWxlLmJyb3dzZXIub2xkSUUmJiFwLHB1c2hTdGF0ZToicHVzaFN0YXRlImluIGhpc3RvcnkmJiJyZXBsYWNlU3RhdGUiaW4gaGlzdG9yeSYmIShiLm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveCIpPj0wJiZiLnRvcCE9PWIpJiYtMT09PWIubmF2aWdhdG9yLnVzZXJBZ2VudC5zZWFyY2goL0NyaU9TLyksbWVkaWFxdWVyeTphLm1vYmlsZS5tZWRpYSgib25seSBhbGwiKSxjc3NQc2V1ZG9FbGVtZW50OiEhZSgiY29udGVudCIpLHRvdWNoT3ZlcmZsb3c6ISFlKCJvdmVyZmxvd1Njcm9sbGluZyIpLGNzc1RyYW5zZm9ybTNkOmcoKSxib3hTaGFkb3c6ISFlKCJib3hTaGFkb3ciKSYmIXIsZml4ZWRQb3NpdGlvbjprKCksc2Nyb2xsVG9wOigicGFnZVhPZmZzZXQiaW4gYnx8InNjcm9sbFRvcCJpbiBjLmRvY3VtZW50RWxlbWVudHx8InNjcm9sbFRvcCJpbiBsWzBdKSYmIW8mJiFxLGR5bmFtaWNCYXNlVGFnOmgoKSxjc3NQb2ludGVyRXZlbnRzOmkoKSxib3VuZGluZ1JlY3Q6aigpfSksbC5yZW1vdmUoKTt2YXIgcz1mdW5jdGlvbigpe3ZhciBhPWIubmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4gYS5pbmRleE9mKCJOb2tpYSIpPi0xJiYoYS5pbmRleE9mKCJTeW1iaWFuLzMiKT4tMXx8YS5pbmRleE9mKCJTZXJpZXM2MC81Iik+LTEpJiZhLmluZGV4T2YoIkFwcGxlV2ViS2l0Iik+LTEmJmEubWF0Y2goLyhCcm93c2VyTkd8Tm9raWFCcm93c2VyKVwvN1wuWzAtM10vKX0oKTthLm1vYmlsZS5ncmFkZUE9ZnVuY3Rpb24oKXtyZXR1cm4oYS5zdXBwb3J0Lm1lZGlhcXVlcnl8fGEubW9iaWxlLmJyb3dzZXIub2xkSUUmJmEubW9iaWxlLmJyb3dzZXIub2xkSUU+PTcpJiYoYS5zdXBwb3J0LmJvdW5kaW5nUmVjdHx8bnVsbCE9PWEuZm4uanF1ZXJ5Lm1hdGNoKC8xXC5bMC03K11cLlswLTkrXT8vKSl9LGEubW9iaWxlLmFqYXhCbGFja2xpc3Q9Yi5ibGFja2JlcnJ5JiYhYi5XZWJLaXRQb2ludHx8cXx8cyxzJiZhKGZ1bmN0aW9uKCl7YSgiaGVhZCBsaW5rW3JlbD0nc3R5bGVzaGVldCddIikuYXR0cigicmVsIiwiYWx0ZXJuYXRlIHN0eWxlc2hlZXQiKS5hdHRyKCJyZWwiLCJzdHlsZXNoZWV0Iil9KSxhLnN1cHBvcnQuYm94U2hhZG93fHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW1vYmlsZS1ub3N1cHBvcnQtYm94c2hhZG93Iil9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hLm1vYmlsZS53aW5kb3c7YS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlPWM9e2JvdW5kOiExLHB1c2hTdGF0ZUVuYWJsZWQ6ITAsb3JpZ2luYWxFdmVudE5hbWU6Yixpc1B1c2hTdGF0ZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZD09PSEwJiZ0aGlzLmlzSGFzaENoYW5nZUVuYWJsZWQoKX0saXNIYXNoQ2hhbmdlRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD09PSEwfSxwb3BzdGF0ZTpmdW5jdGlvbihiKXt2YXIgYz1uZXcgYS5FdmVudCgibmF2aWdhdGUiKSxlPW5ldyBhLkV2ZW50KCJiZWZvcmVuYXZpZ2F0ZSIpLGY9Yi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fTtsb2NhdGlvbi5ocmVmLGQudHJpZ2dlcihlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoYi5oaXN0b3J5U3RhdGUmJmEuZXh0ZW5kKGYsYi5oaXN0b3J5U3RhdGUpLGMub3JpZ2luYWxFdmVudD1iLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnRyaWdnZXIoYyx7c3RhdGU6Zn0pfSwwKSl9LGhhc2hjaGFuZ2U6ZnVuY3Rpb24oYil7dmFyIGM9bmV3IGEuRXZlbnQoIm5hdmlnYXRlIiksZT1uZXcgYS5FdmVudCgiYmVmb3JlbmF2aWdhdGUiKTtkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGMub3JpZ2luYWxFdmVudD1iLGQudHJpZ2dlcihjLHtzdGF0ZTpiLmhhc2hjaGFuZ2VTdGF0ZXx8e319KSl9LHNldHVwOmZ1bmN0aW9uKCl7Yy5ib3VuZHx8KGMuYm91bmQ9ITAsYy5pc1B1c2hTdGF0ZUVuYWJsZWQoKT8oYy5vcmlnaW5hbEV2ZW50TmFtZT0icG9wc3RhdGUiLGQuYmluZCgicG9wc3RhdGUubmF2aWdhdGUiLGMucG9wc3RhdGUpKTpjLmlzSGFzaENoYW5nZUVuYWJsZWQoKSYmKGMub3JpZ2luYWxFdmVudE5hbWU9Imhhc2hjaGFuZ2UiLGQuYmluZCgiaGFzaGNoYW5nZS5uYXZpZ2F0ZSIsYy5oYXNoY2hhbmdlKSkpfX19KGEpLGZ1bmN0aW9uKGEsYyl7dmFyIGQsZSxmPSImdWktc3RhdGU9ZGlhbG9nIjthLm1vYmlsZS5wYXRoPWQ9e3VpU3RhdGVLZXk6IiZ1aS1zdGF0ZSIsdXJsUGFyc2VSRTovXlxzKigoKChbXjpcLyNcP10rOik/KD86KFwvXC8pKCg/OigoW146QFwvI1w/XSspKD86XDooW146QFwvI1w/XSspKT8pQCk/KChbXjpcLyNcP1xdXFtdK3xcW1teXC9cXUAjP10rXF0pKD86XDooWzAtOV0rKSk/KSk/KT8pPygoXC8/KD86W15cL1w/I10rXC8rKSopKFteXD8jXSopKSk/KFw/W14jXSspPykoIy4qKT8vLGdldExvY2F0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPWE/dGhpcy5wYXJzZVVybChhKTpsb2NhdGlvbixjPXRoaXMucGFyc2VVcmwoYXx8bG9jYXRpb24uaHJlZikuaGFzaDtyZXR1cm4gYz0iIyI9PT1jPyIiOmMsYi5wcm90b2NvbCsiLy8iK2IuaG9zdCtiLnBhdGhuYW1lK2Iuc2VhcmNoK2N9LHBhcnNlTG9jYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJzZVVybCh0aGlzLmdldExvY2F0aW9uKCkpfSxwYXJzZVVybDpmdW5jdGlvbihiKXtpZigib2JqZWN0Ij09PWEudHlwZShiKSlyZXR1cm4gYjt2YXIgYz1kLnVybFBhcnNlUkUuZXhlYyhifHwiIil8fFtdO3JldHVybntocmVmOmNbMF18fCIiLGhyZWZOb0hhc2g6Y1sxXXx8IiIsaHJlZk5vU2VhcmNoOmNbMl18fCIiLGRvbWFpbjpjWzNdfHwiIixwcm90b2NvbDpjWzRdfHwiIixkb3VibGVTbGFzaDpjWzVdfHwiIixhdXRob3JpdHk6Y1s2XXx8IiIsdXNlcm5hbWU6Y1s4XXx8IiIscGFzc3dvcmQ6Y1s5XXx8IiIsaG9zdDpjWzEwXXx8IiIsaG9zdG5hbWU6Y1sxMV18fCIiLHBvcnQ6Y1sxMl18fCIiLHBhdGhuYW1lOmNbMTNdfHwiIixkaXJlY3Rvcnk6Y1sxNF18fCIiLGZpbGVuYW1lOmNbMTVdfHwiIixzZWFyY2g6Y1sxNl18fCIiLGhhc2g6Y1sxN118fCIifX0sbWFrZVBhdGhBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKGEmJiIvIj09PWEuY2hhckF0KDApKXJldHVybiBhO2E9YXx8IiIsYj1iP2IucmVwbGFjZSgvXlwvfChcL1teXC9dKnxbXlwvXSspJC9nLCIiKToiIjtmb3IodmFyIGM9Yj9iLnNwbGl0KCIvIik6W10sZD1hLnNwbGl0KCIvIiksZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO3N3aXRjaChmKXtjYXNlIi4iOmJyZWFrO2Nhc2UiLi4iOmMubGVuZ3RoJiZjLnBvcCgpO2JyZWFrO2RlZmF1bHQ6Yy5wdXNoKGYpfX1yZXR1cm4iLyIrYy5qb2luKCIvIil9LGlzU2FtZURvbWFpbjpmdW5jdGlvbihhLGIpe3JldHVybiBkLnBhcnNlVXJsKGEpLmRvbWFpbj09PWQucGFyc2VVcmwoYikuZG9tYWlufSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiIiPT09ZC5wYXJzZVVybChhKS5wcm90b2NvbH0saXNBYnNvbHV0ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4iIiE9PWQucGFyc2VVcmwoYSkucHJvdG9jb2x9LG1ha2VVcmxBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKCFkLmlzUmVsYXRpdmVVcmwoYSkpcmV0dXJuIGE7Yj09PWMmJihiPXRoaXMuZG9jdW1lbnRCYXNlKTt2YXIgZT1kLnBhcnNlVXJsKGEpLGY9ZC5wYXJzZVVybChiKSxnPWUucHJvdG9jb2x8fGYucHJvdG9jb2wsaD1lLnByb3RvY29sP2UuZG91YmxlU2xhc2g6ZS5kb3VibGVTbGFzaHx8Zi5kb3VibGVTbGFzaCxpPWUuYXV0aG9yaXR5fHxmLmF1dGhvcml0eSxqPSIiIT09ZS5wYXRobmFtZSxrPWQubWFrZVBhdGhBYnNvbHV0ZShlLnBhdGhuYW1lfHxmLmZpbGVuYW1lLGYucGF0aG5hbWUpLGw9ZS5zZWFyY2h8fCFqJiZmLnNlYXJjaHx8IiIsbT1lLmhhc2g7cmV0dXJuIGcraCtpK2srbCttfSxhZGRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oYixjKXt2YXIgZT1kLnBhcnNlVXJsKGIpLGY9Im9iamVjdCI9PXR5cGVvZiBjP2EucGFyYW0oYyk6YyxnPWUuc2VhcmNofHwiPyI7cmV0dXJuIGUuaHJlZk5vU2VhcmNoK2crKCI/IiE9PWcuY2hhckF0KGcubGVuZ3RoLTEpPyImIjoiIikrZisoZS5oYXNofHwiIil9LGNvbnZlcnRVcmxUb0RhdGFVcmw6ZnVuY3Rpb24oYSl7dmFyIGM9ZC5wYXJzZVVybChhKTtyZXR1cm4gZC5pc0VtYmVkZGVkUGFnZShjKT9jLmhhc2guc3BsaXQoZilbMF0ucmVwbGFjZSgvXiMvLCIiKS5yZXBsYWNlKC9cPy4qJC8sIiIpOmQuaXNTYW1lRG9tYWluKGMsdGhpcy5kb2N1bWVudEJhc2UpP2MuaHJlZk5vSGFzaC5yZXBsYWNlKHRoaXMuZG9jdW1lbnRCYXNlLmRvbWFpbiwiIikuc3BsaXQoZilbMF06Yi5kZWNvZGVVUklDb21wb25lbnQoYSl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PWMmJihhPWQucGFyc2VMb2NhdGlvbigpLmhhc2gpLGQuc3RyaXBIYXNoKGEpLnJlcGxhY2UoL1teXC9dKlwuW15cLypdKyQvLCIiKX0sc2V0OmZ1bmN0aW9uKGEpe2xvY2F0aW9uLmhhc2g9YX0saXNQYXRoOmZ1bmN0aW9uKGEpe3JldHVybi9cLy8udGVzdChhKX0sY2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sIiIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLCIiKX0sc3RyaXBRdWVyeVBhcmFtczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cPy4qJC8sIiIpfSxjbGVhbkhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuc3RyaXBIYXNoKGEucmVwbGFjZSgvXD8uKiQvLCIiKS5yZXBsYWNlKGYsIiIpKX0saXNIYXNoVmFsaWQ6ZnVuY3Rpb24oYSl7cmV0dXJuL14jW14jXSskLy50ZXN0KGEpfSxpc0V4dGVybmFsOmZ1bmN0aW9uKGEpe3ZhciBiPWQucGFyc2VVcmwoYSk7cmV0dXJuIGIucHJvdG9jb2wmJmIuZG9tYWluIT09dGhpcy5kb2N1bWVudFVybC5kb21haW4/ITA6ITF9LGhhc1Byb3RvY29sOmZ1bmN0aW9uKGEpe3JldHVybi9eKDo/XHcrOikvLnRlc3QoYSl9LGlzRW1iZWRkZWRQYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPWQucGFyc2VVcmwoYSk7cmV0dXJuIiIhPT1iLnByb3RvY29sPyF0aGlzLmlzUGF0aChiLmhhc2gpJiZiLmhhc2gmJihiLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50VXJsLmhyZWZOb0hhc2h8fHRoaXMuZG9jdW1lbnRCYXNlRGlmZmVycyYmYi5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCk6L14jLy50ZXN0KGIuaHJlZil9LHNxdWFzaDpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGg9dGhpcy5pc1BhdGgoYSksaT10aGlzLnBhcnNlVXJsKGEpLGo9aS5oYXNoLGs9IiI7cmV0dXJuIGI9Ynx8KGQuaXNQYXRoKGEpP2QuZ2V0TG9jYXRpb24oKTpkLmdldERvY3VtZW50VXJsKCkpLGU9aD9kLnN0cmlwSGFzaChhKTphLGU9ZC5pc1BhdGgoaS5oYXNoKT9kLnN0cmlwSGFzaChpLmhhc2gpOmUsZz1lLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSxnPi0xJiYoaz1lLnNsaWNlKGcpLGU9ZS5zbGljZSgwLGcpKSxjPWQubWFrZVVybEFic29sdXRlKGUsYiksZj10aGlzLnBhcnNlVXJsKGMpLnNlYXJjaCxoPygoZC5pc1BhdGgoail8fDA9PT1qLnJlcGxhY2UoIiMiLCIiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkpJiYoaj0iIiksayYmLTE9PT1qLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSYmKGorPWspLC0xPT09ai5pbmRleE9mKCIjIikmJiIiIT09aiYmKGo9IiMiK2opLGM9ZC5wYXJzZVVybChjKSxjPWMucHJvdG9jb2wrIi8vIitjLmhvc3QrYy5wYXRobmFtZStmK2opOmMrPWMuaW5kZXhPZigiIyIpPi0xP2s6IiMiK2ssY30saXNQcmVzZXJ2YWJsZUhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PT1hLnJlcGxhY2UoIiMiLCIiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSl9fSxkLmRvY3VtZW50VXJsPWQucGFyc2VMb2NhdGlvbigpLGU9YSgiaGVhZCIpLmZpbmQoImJhc2UiKSxkLmRvY3VtZW50QmFzZT1lLmxlbmd0aD9kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGUuYXR0cigiaHJlZiIpLGQuZG9jdW1lbnRVcmwuaHJlZikpOmQuZG9jdW1lbnRVcmwsZC5kb2N1bWVudEJhc2VEaWZmZXJzPWQuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCE9PWQuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsZC5nZXREb2N1bWVudFVybD1mdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSxkLmRvY3VtZW50VXJsKTpkLmRvY3VtZW50VXJsLmhyZWZ9LGQuZ2V0RG9jdW1lbnRCYXNlPWZ1bmN0aW9uKGIpe3JldHVybiBiP2EuZXh0ZW5kKHt9LGQuZG9jdW1lbnRCYXNlKTpkLmRvY3VtZW50QmFzZS5ocmVmfX0oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS5wYXRoLGEubW9iaWxlLkhpc3Rvcnk9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YWNrPWF8fFtdLHRoaXMuYWN0aXZlSW5kZXg9Ynx8MH0sYS5leHRlbmQoYS5tb2JpbGUuSGlzdG9yeS5wcm90b3R5cGUse2dldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXhdfSxnZXRMYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5wcmV2aW91c0luZGV4XX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgrMV19LGdldFByZXY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLmFjdGl2ZUluZGV4LTFdfSxhZGQ6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9LHRoaXMuZ2V0TmV4dCgpJiZ0aGlzLmNsZWFyRm9yd2FyZCgpLGIuaGFzaCYmLTE9PT1iLmhhc2guaW5kZXhPZigiIyIpJiYoYi5oYXNoPSIjIitiLmhhc2gpLGIudXJsPWEsdGhpcy5zdGFjay5wdXNoKGIpLHRoaXMuYWN0aXZlSW5kZXg9dGhpcy5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7dGhpcy5zdGFjaz10aGlzLnN0YWNrLnNsaWNlKDAsdGhpcy5hY3RpdmVJbmRleCsxKX0sZmluZDpmdW5jdGlvbihhLGIsYyl7Yj1ifHx0aGlzLnN0YWNrO3ZhciBkLGUsZixnPWIubGVuZ3RoO2ZvcihlPTA7Zz5lO2UrKylpZihkPWJbZV0sKGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLnVybCl8fGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLmhhc2gpKSYmKGY9ZSxjKSlyZXR1cm4gZjtyZXR1cm4gZn0sY2xvc2VzdDpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMuYWN0aXZlSW5kZXg7cmV0dXJuIGM9dGhpcy5maW5kKGEsdGhpcy5zdGFjay5zbGljZSgwLGQpKSxjPT09YiYmKGM9dGhpcy5maW5kKGEsdGhpcy5zdGFjay5zbGljZShkKSwhMCksYz1jPT09Yj9jOmMrZCksY30sZGlyZWN0OmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuY2xvc2VzdChjLnVybCksZT10aGlzLmFjdGl2ZUluZGV4O2QhPT1iJiYodGhpcy5hY3RpdmVJbmRleD1kLHRoaXMucHJldmlvdXNJbmRleD1lKSxlPmQ/KGMucHJlc2VudHx8Yy5iYWNrfHxhLm5vb3ApKHRoaXMuZ2V0QWN0aXZlKCksImJhY2siKTpkPmU/KGMucHJlc2VudHx8Yy5mb3J3YXJkfHxhLm5vb3ApKHRoaXMuZ2V0QWN0aXZlKCksImZvcndhcmQiKTpkPT09YiYmYy5taXNzaW5nJiZjLm1pc3NpbmcodGhpcy5nZXRBY3RpdmUoKSl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBkPWEubW9iaWxlLnBhdGgsZT1sb2NhdGlvbi5ocmVmO2EubW9iaWxlLk5hdmlnYXRvcj1mdW5jdGlvbihiKXt0aGlzLmhpc3Rvcnk9Yix0aGlzLmlnbm9yZUluaXRpYWxIYXNoQ2hhbmdlPSEwLGEubW9iaWxlLndpbmRvdy5iaW5kKHsicG9wc3RhdGUuaGlzdG9yeSI6YS5wcm94eSh0aGlzLnBvcHN0YXRlLHRoaXMpLCJoYXNoY2hhbmdlLmhpc3RvcnkiOmEucHJveHkodGhpcy5oYXNoY2hhbmdlLHRoaXMpfSl9LGEuZXh0ZW5kKGEubW9iaWxlLk5hdmlnYXRvci5wcm90b3R5cGUse3NxdWFzaDpmdW5jdGlvbihlLGYpe3ZhciBnLGgsaT1kLmlzUGF0aChlKT9kLnN0cmlwSGFzaChlKTplO3JldHVybiBoPWQuc3F1YXNoKGUpLGc9YS5leHRlbmQoe2hhc2g6aSx1cmw6aH0sZiksYi5oaXN0b3J5LnJlcGxhY2VTdGF0ZShnLGcudGl0bGV8fGMudGl0bGUsaCksZ30saGFzaDpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZjtpZihjPWQucGFyc2VVcmwoYSksZT1kLnBhcnNlTG9jYXRpb24oKSxlLnBhdGhuYW1lK2Uuc2VhcmNoPT09Yy5wYXRobmFtZStjLnNlYXJjaClmPWMuaGFzaD9jLmhhc2g6Yy5wYXRobmFtZStjLnNlYXJjaDtlbHNlIGlmKGQuaXNQYXRoKGEpKXt2YXIgZz1kLnBhcnNlVXJsKGIpO2Y9Zy5wYXRobmFtZStnLnNlYXJjaCsoZC5pc1ByZXNlcnZhYmxlSGFzaChnLmhhc2gpP2cuaGFzaC5yZXBsYWNlKCIjIiwiIik6IiIpfWVsc2UgZj1hO3JldHVybiBmfSxnbzpmdW5jdGlvbihlLGYsZyl7dmFyIGgsaSxqLGssbD1hLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCk7aT1kLnNxdWFzaChlKSxqPXRoaXMuaGFzaChlLGkpLGcmJmohPT1kLnN0cmlwSGFzaChkLnBhcnNlTG9jYXRpb24oKS5oYXNoKSYmKHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlPWcpLHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMCxiLmxvY2F0aW9uLmhhc2g9aix0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITEsaD1hLmV4dGVuZCh7dXJsOmksaGFzaDpqLHRpdGxlOmMudGl0bGV9LGYpLGwmJihrPW5ldyBhLkV2ZW50KCJwb3BzdGF0ZSIpLGsub3JpZ2luYWxFdmVudD17dHlwZToicG9wc3RhdGUiLHN0YXRlOm51bGx9LHRoaXMuc3F1YXNoKGUsaCksZ3x8KHRoaXMuaWdub3JlUG9wU3RhdGU9ITAsYS5tb2JpbGUud2luZG93LnRyaWdnZXIoaykpKSx0aGlzLmhpc3RvcnkuYWRkKGgudXJsLGgpfSxwb3BzdGF0ZTpmdW5jdGlvbihiKXt2YXIgYyxmO2lmKGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSlyZXR1cm4gdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPyh0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITEsYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx2b2lkIDApOnRoaXMuaWdub3JlUG9wU3RhdGU/KHRoaXMuaWdub3JlUG9wU3RhdGU9ITEsdm9pZCAwKTohYi5vcmlnaW5hbEV2ZW50LnN0YXRlJiYxPT09dGhpcy5oaXN0b3J5LnN0YWNrLmxlbmd0aCYmdGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZSYmKHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITEsbG9jYXRpb24uaHJlZj09PWUpPyhiLnByZXZlbnREZWZhdWx0KCksdm9pZCAwKTooYz1kLnBhcnNlTG9jYXRpb24oKS5oYXNoLCFiLm9yaWdpbmFsRXZlbnQuc3RhdGUmJmM/KGY9dGhpcy5zcXVhc2goYyksdGhpcy5oaXN0b3J5LmFkZChmLnVybCxmKSxiLmhpc3RvcnlTdGF0ZT1mLHZvaWQgMCk6KHRoaXMuaGlzdG9yeS5kaXJlY3Qoe3VybDooYi5vcmlnaW5hbEV2ZW50LnN0YXRlfHx7fSkudXJsfHxjLHByZXNlbnQ6ZnVuY3Rpb24oYyxkKXtiLmhpc3RvcnlTdGF0ZT1hLmV4dGVuZCh7fSxjKSxiLmhpc3RvcnlTdGF0ZS5kaXJlY3Rpb249ZH19KSx2b2lkIDApKX0saGFzaGNoYW5nZTpmdW5jdGlvbihiKXt2YXIgZSxmO2lmKGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJiFhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkpe2lmKHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlKXJldHVybiB0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT0hMSxiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHZvaWQgMDtlPXRoaXMuaGlzdG9yeSxmPWQucGFyc2VMb2NhdGlvbigpLmhhc2gsdGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOmYscHJlc2VudDpmdW5jdGlvbihjLGQpe2IuaGFzaGNoYW5nZVN0YXRlPWEuZXh0ZW5kKHt9LGMpLGIuaGFzaGNoYW5nZVN0YXRlLmRpcmVjdGlvbj1kfSxtaXNzaW5nOmZ1bmN0aW9uKCl7ZS5hZGQoZix7aGFzaDpmLHRpdGxlOmMudGl0bGV9KX19KX19fSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLm5hdmlnYXRlPWZ1bmN0aW9uKGIsYyxkKXthLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3IuZ28oYixjLGQpfSxhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5PW5ldyBhLm1vYmlsZS5IaXN0b3J5LGEubW9iaWxlLm5hdmlnYXRlLm5hdmlnYXRvcj1uZXcgYS5tb2JpbGUuTmF2aWdhdG9yKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkpO3ZhciBiPWEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpO2EubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWRkKGIuaHJlZix7aGFzaDpiLmhhc2h9KX0oYSksZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXtmb3IoO2EmJiJ1bmRlZmluZWQiIT10eXBlb2YgYS5vcmlnaW5hbEV2ZW50OylhPWEub3JpZ2luYWxFdmVudDtyZXR1cm4gYX1mdW5jdGlvbiBmKGIsYyl7dmFyIGYsZyxoLGksaixrLGwsbSxuLG89Yi50eXBlO2lmKGI9YS5FdmVudChiKSxiLnR5cGU9YyxmPWIub3JpZ2luYWxFdmVudCxnPWEuZXZlbnQucHJvcHMsby5zZWFyY2goL14obW91c2V8Y2xpY2spLyk+LTEmJihnPUQpLGYpZm9yKGw9Zy5sZW5ndGgsaTtsOylpPWdbLS1sXSxiW2ldPWZbaV07aWYoby5zZWFyY2goL21vdXNlKGRvd258dXApfGNsaWNrLyk+LTEmJiFiLndoaWNoJiYoYi53aGljaD0xKSwtMSE9PW8uc2VhcmNoKC9edG91Y2gvKSYmKGg9ZShmKSxvPWgudG91Y2hlcyxqPWguY2hhbmdlZFRvdWNoZXMsaz1vJiZvLmxlbmd0aD9vWzBdOmomJmoubGVuZ3RoP2pbMF06ZCkpZm9yKG09MCxuPUIubGVuZ3RoO24+bTttKyspaT1CW21dLGJbaV09a1tpXTtyZXR1cm4gYn1mdW5jdGlvbiBnKGIpe2Zvcih2YXIgYyxkLGU9e307Yjspe2M9YS5kYXRhKGIseSk7Zm9yKGQgaW4gYyljW2RdJiYoZVtkXT1lLmhhc1ZpcnR1YWxCaW5kaW5nPSEwKTtiPWIucGFyZW50Tm9kZX1yZXR1cm4gZX1mdW5jdGlvbiBoKGIsYyl7Zm9yKHZhciBkO2I7KXtpZihkPWEuZGF0YShiLHkpLGQmJighY3x8ZFtjXSkpcmV0dXJuIGI7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gaSgpe0w9ITF9ZnVuY3Rpb24gaigpe0w9ITB9ZnVuY3Rpb24gaygpe1A9MCxKLmxlbmd0aD0wLEs9ITEsaigpfWZ1bmN0aW9uIGwoKXtpKCl9ZnVuY3Rpb24gbSgpe24oKSxGPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtGPTAsaygpfSxhLnZtb3VzZS5yZXNldFRpbWVyRHVyYXRpb24pfWZ1bmN0aW9uIG4oKXtGJiYoY2xlYXJUaW1lb3V0KEYpLEY9MCl9ZnVuY3Rpb24gbyhiLGMsZCl7dmFyIGU7cmV0dXJuKGQmJmRbYl18fCFkJiZoKGMudGFyZ2V0LGIpKSYmKGU9ZihjLGIpLGEoYy50YXJnZXQpLnRyaWdnZXIoZSkpLGV9ZnVuY3Rpb24gcChiKXt2YXIgYz1hLmRhdGEoYi50YXJnZXQseik7aWYoIShLfHxQJiZQPT09Yykpe3ZhciBkPW8oInYiK2IudHlwZSxiKTtkJiYoZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYi5wcmV2ZW50RGVmYXVsdCgpLGQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wUHJvcGFnYXRpb24oKSxkLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkmJmIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX1mdW5jdGlvbiBxKGIpe3ZhciBjLGQsZj1lKGIpLnRvdWNoZXM7aWYoZiYmMT09PWYubGVuZ3RoJiYoYz1iLnRhcmdldCxkPWcoYyksZC5oYXNWaXJ0dWFsQmluZGluZykpe1A9TysrLGEuZGF0YShjLHosUCksbigpLGwoKSxJPSExO3ZhciBoPWUoYikudG91Y2hlc1swXTtHPWgucGFnZVgsSD1oLnBhZ2VZLG8oInZtb3VzZW92ZXIiLGIsZCksbygidm1vdXNlZG93biIsYixkKX19ZnVuY3Rpb24gcihhKXtMfHwoSXx8bygidm1vdXNlY2FuY2VsIixhLGcoYS50YXJnZXQpKSxJPSEwLG0oKSl9ZnVuY3Rpb24gcyhiKXtpZighTCl7dmFyIGM9ZShiKS50b3VjaGVzWzBdLGQ9SSxmPWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZCxoPWcoYi50YXJnZXQpO0k9SXx8TWF0aC5hYnMoYy5wYWdlWC1HKT5mfHxNYXRoLmFicyhjLnBhZ2VZLUgpPmYsSSYmIWQmJm8oInZtb3VzZWNhbmNlbCIsYixoKSxvKCJ2bW91c2Vtb3ZlIixiLGgpLG0oKX19ZnVuY3Rpb24gdChhKXtpZighTCl7aigpO3ZhciBiLGM9ZyhhLnRhcmdldCk7aWYobygidm1vdXNldXAiLGEsYyksIUkpe3ZhciBkPW8oInZjbGljayIsYSxjKTtkJiZkLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYoYj1lKGEpLmNoYW5nZWRUb3VjaGVzWzBdLEoucHVzaCh7dG91Y2hJRDpQLHg6Yi5jbGllbnRYLHk6Yi5jbGllbnRZfSksSz0hMCl9bygidm1vdXNlb3V0IixhLGMpLEk9ITEsbSgpfX1mdW5jdGlvbiB1KGIpe3ZhciBjLGQ9YS5kYXRhKGIseSk7aWYoZClmb3IoYyBpbiBkKWlmKGRbY10pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gdigpe31mdW5jdGlvbiB3KGIpe3ZhciBjPWIuc3Vic3RyKDEpO3JldHVybntzZXR1cDpmdW5jdGlvbigpe3UodGhpcyl8fGEuZGF0YSh0aGlzLHkse30pO3ZhciBkPWEuZGF0YSh0aGlzLHkpO2RbYl09ITAsRVtiXT0oRVtiXXx8MCkrMSwxPT09RVtiXSYmTi5iaW5kKGMscCksYSh0aGlzKS5iaW5kKGMsdiksTSYmKEUudG91Y2hzdGFydD0oRS50b3VjaHN0YXJ0fHwwKSsxLDE9PT1FLnRvdWNoc3RhcnQmJk4uYmluZCgidG91Y2hzdGFydCIscSkuYmluZCgidG91Y2hlbmQiLHQpLmJpbmQoInRvdWNobW92ZSIscykuYmluZCgic2Nyb2xsIixyKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7LS1FW2JdLEVbYl18fE4udW5iaW5kKGMscCksTSYmKC0tRS50b3VjaHN0YXJ0LEUudG91Y2hzdGFydHx8Ti51bmJpbmQoInRvdWNoc3RhcnQiLHEpLnVuYmluZCgidG91Y2htb3ZlIixzKS51bmJpbmQoInRvdWNoZW5kIix0KS51bmJpbmQoInNjcm9sbCIscikpO3ZhciBkPWEodGhpcyksZT1hLmRhdGEodGhpcyx5KTtlJiYoZVtiXT0hMSksZC51bmJpbmQoYyx2KSx1KHRoaXMpfHxkLnJlbW92ZURhdGEoeSl9fX12YXIgeCx5PSJ2aXJ0dWFsTW91c2VCaW5kaW5ncyIsej0idmlydHVhbFRvdWNoSUQiLEE9InZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsIi5zcGxpdCgiICIpLEI9ImNsaWVudFggY2xpZW50WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkiLnNwbGl0KCIgIiksQz1hLmV2ZW50Lm1vdXNlSG9va3M/YS5ldmVudC5tb3VzZUhvb2tzLnByb3BzOltdLEQ9YS5ldmVudC5wcm9wcy5jb25jYXQoQyksRT17fSxGPTAsRz0wLEg9MCxJPSExLEo9W10sSz0hMSxMPSExLE09ImFkZEV2ZW50TGlzdGVuZXIiaW4gYyxOPWEoYyksTz0xLFA9MDthLnZtb3VzZT17bW92ZURpc3RhbmNlVGhyZXNob2xkOjEwLGNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ6MTAscmVzZXRUaW1lckR1cmF0aW9uOjE1MDB9O2Zvcih2YXIgUT0wO1E8QS5sZW5ndGg7USsrKWEuZXZlbnQuc3BlY2lhbFtBW1FdXT13KEFbUV0pO00mJmMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjLGQsZSxmLGcsaCxpPUoubGVuZ3RoLGo9Yi50YXJnZXQ7aWYoaSlmb3IoYz1iLmNsaWVudFgsZD1iLmNsaWVudFkseD1hLnZtb3VzZS5jbGlja0Rpc3RhbmNlVGhyZXNob2xkLGU9ajtlOyl7Zm9yKGY9MDtpPmY7ZisrKWlmKGc9SltmXSxoPTAsZT09PWomJk1hdGguYWJzKGcueC1jKTx4JiZNYXRoLmFicyhnLnktZCk8eHx8YS5kYXRhKGUseik9PT1nLnRvdWNoSUQpcmV0dXJuIGIucHJldmVudERlZmF1bHQoKSxiLnN0b3BQcm9wYWdhdGlvbigpLHZvaWQgMDtlPWUucGFyZW50Tm9kZX19LCEwKX0oYSxiLGMpLGZ1bmN0aW9uKGEsYixkKXtmdW5jdGlvbiBlKGIsYyxkKXt2YXIgZT1kLnR5cGU7ZC50eXBlPWMsYS5ldmVudC5kaXNwYXRjaC5jYWxsKGIsZCksZC50eXBlPWV9dmFyIGY9YShjKTthLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRhcCB0YXBob2xkIHN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0IHNjcm9sbHN0YXJ0IHNjcm9sbHN0b3AiLnNwbGl0KCIgIiksZnVuY3Rpb24oYixjKXthLmZuW2NdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChjLGEpOnRoaXMudHJpZ2dlcihjKX0sYS5hdHRyRm4mJihhLmF0dHJGbltjXT0hMCl9KTt2YXIgZz1hLm1vYmlsZS5zdXBwb3J0LnRvdWNoLGg9InRvdWNobW92ZSBzY3JvbGwiLGk9Zz8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsaj1nPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGs9Zz8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsYil7Yz1iLGUoZixjPyJzY3JvbGxzdGFydCI6InNjcm9sbHN0b3AiLGEpfXZhciBjLGQsZj10aGlzLGc9YShmKTtnLmJpbmQoaCxmdW5jdGlvbihlKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCYmKGN8fGIoZSwhMCksY2xlYXJUaW1lb3V0KGQpLGQ9c2V0VGltZW91dChmdW5jdGlvbigpe2IoZSwhMSl9LDUwKSl9KX19LGEuZXZlbnQuc3BlY2lhbC50YXA9e3RhcGhvbGRUaHJlc2hvbGQ6NzUwLHNldHVwOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWEoYik7Yy5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbihkKXtmdW5jdGlvbiBnKCl7Y2xlYXJUaW1lb3V0KGopfWZ1bmN0aW9uIGgoKXtnKCksYy51bmJpbmQoInZjbGljayIsaSkudW5iaW5kKCJ2bW91c2V1cCIsZyksZi51bmJpbmQoInZtb3VzZWNhbmNlbCIsaCl9ZnVuY3Rpb24gaShhKXtoKCksaz09PWEudGFyZ2V0JiZlKGIsInRhcCIsYSkNCn1pZihkLndoaWNoJiYxIT09ZC53aGljaClyZXR1cm4hMTt2YXIgaixrPWQudGFyZ2V0O2Qub3JpZ2luYWxFdmVudCxjLmJpbmQoInZtb3VzZXVwIixnKS5iaW5kKCJ2Y2xpY2siLGkpLGYuYmluZCgidm1vdXNlY2FuY2VsIixoKSxqPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGIsInRhcGhvbGQiLGEuRXZlbnQoInRhcGhvbGQiLHt0YXJnZXQ6a30pKX0sYS5ldmVudC5zcGVjaWFsLnRhcC50YXBob2xkVGhyZXNob2xkKX0pfX0sYS5ldmVudC5zcGVjaWFsLnN3aXBlPXtzY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkOjMwLGR1cmF0aW9uVGhyZXNob2xkOjFlMyxob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDo3NSxzdGFydDpmdW5jdGlvbihiKXt2YXIgYz1iLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9iLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpiO3JldHVybnt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbYy5wYWdlWCxjLnBhZ2VZXSxvcmlnaW46YShiLnRhcmdldCl9fSxzdG9wOmZ1bmN0aW9uKGEpe3ZhciBiPWEub3JpZ2luYWxFdmVudC50b3VjaGVzP2Eub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmE7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltiLnBhZ2VYLGIucGFnZVldfX0saGFuZGxlU3dpcGU6ZnVuY3Rpb24oYixjKXtjLnRpbWUtYi50aW1lPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS5kdXJhdGlvblRocmVzaG9sZCYmTWF0aC5hYnMoYi5jb29yZHNbMF0tYy5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5ob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQmJk1hdGguYWJzKGIuY29vcmRzWzFdLWMuY29vcmRzWzFdKTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUudmVydGljYWxEaXN0YW5jZVRocmVzaG9sZCYmYi5vcmlnaW4udHJpZ2dlcigic3dpcGUiKS50cmlnZ2VyKGIuY29vcmRzWzBdPmMuY29vcmRzWzBdPyJzd2lwZWxlZnQiOiJzd2lwZXJpZ2h0Iil9LHNldHVwOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWEoYik7Yy5iaW5kKGksZnVuY3Rpb24oYil7ZnVuY3Rpb24gZShiKXtnJiYoZj1hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc3RvcChiKSxNYXRoLmFicyhnLmNvb3Jkc1swXS1mLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLnNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQmJmIucHJldmVudERlZmF1bHQoKSl9dmFyIGYsZz1hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc3RhcnQoYik7Yy5iaW5kKGssZSkub25lKGosZnVuY3Rpb24oKXtjLnVuYmluZChrLGUpLGcmJmYmJmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5oYW5kbGVTd2lwZShnLGYpLGc9Zj1kfSl9KX19LGEuZWFjaCh7c2Nyb2xsc3RvcDoic2Nyb2xsc3RhcnQiLHRhcGhvbGQ6InRhcCIsc3dpcGVsZWZ0OiJzd2lwZSIsc3dpcGVyaWdodDoic3dpcGUifSxmdW5jdGlvbihiLGMpe2EuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYyxhLm5vb3ApfX19KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZCgicmVzaXplIixmKX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZCgicmVzaXplIixmKX19O3ZhciBiLGMsZCxlPTI1MCxmPWZ1bmN0aW9uKCl7Yz0obmV3IERhdGUpLmdldFRpbWUoKSxkPWMtZyxkPj1lPyhnPWMsYSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6KGImJmNsZWFyVGltZW91dChiKSxiPXNldFRpbWVvdXQoZixlLWQpKX0sZz0wfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXt2YXIgYT1lKCk7YSE9PWYmJihmPWEsaS50cmlnZ2VyKGopKX12YXIgZSxmLGcsaCxpPWEoYiksaj0ib3JpZW50YXRpb25jaGFuZ2UiLGs9ezA6ITAsMTgwOiEwfTtpZihhLnN1cHBvcnQub3JpZW50YXRpb24pe3ZhciBsPWIuaW5uZXJXaWR0aHx8aS53aWR0aCgpLG09Yi5pbm5lckhlaWdodHx8aS5oZWlnaHQoKSxuPTUwO2c9bD5tJiZsLW0+bixoPWtbYi5vcmllbnRhdGlvbl0sKGcmJmh8fCFnJiYhaCkmJihrPXsiLTkwIjohMCw5MDohMH0pfWEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZT1hLmV4dGVuZCh7fSxhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Use3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmIWEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5kaXNhYmxlZD8hMTooZj1lKCksaS5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGQpLHZvaWQgMCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmIWEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5kaXNhYmxlZD8hMTooaS51bmJpbmQoInRocm90dGxlZHJlc2l6ZSIsZCksdm9pZCAwKX0sYWRkOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaGFuZGxlcjthLmhhbmRsZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEub3JpZW50YXRpb249ZSgpLGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19KSxhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb249ZT1mdW5jdGlvbigpe3ZhciBkPSEwLGU9Yy5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGQ9YS5zdXBwb3J0Lm9yaWVudGF0aW9uP2tbYi5vcmllbnRhdGlvbl06ZSYmZS5jbGllbnRXaWR0aC9lLmNsaWVudEhlaWdodDwxLjEsZD8icG9ydHJhaXQiOiJsYW5kc2NhcGUifSxhLmZuW2pdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChqLGEpOnRoaXMudHJpZ2dlcihqKX0sYS5hdHRyRm4mJihhLmF0dHJGbltqXT0hMCl9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5wYWdlIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOiJjIixkb21DYWNoZTohMSxrZWVwTmF0aXZlRGVmYXVsdDoiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoImJlZm9yZWNyZWF0ZSIpPT09ITE/ITE6KHRoaXMuZWxlbWVudC5hdHRyKCJ0YWJpbmRleCIsIjAiKS5hZGRDbGFzcygidWktcGFnZSB1aS1ib2R5LSIrdGhpcy5vcHRpb25zLnRoZW1lKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQse3BhZ2ViZWZvcmVoaWRlOiJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kIixwYWdlYmVmb3Jlc2hvdzoiX2hhbmRsZVBhZ2VCZWZvcmVTaG93In0pLHZvaWQgMCl9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3RoaXMuc2V0Q29udGFpbmVyQmFja2dyb3VuZCgpfSxyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktb3ZlcmxheS0iK2EubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudC5wYXJlbnQoKSkpfSxzZXRDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKGIpe3RoaXMub3B0aW9ucy50aGVtZSYmYS5tb2JpbGUucGFnZUNvbnRhaW5lci5hZGRDbGFzcygidWktb3ZlcmxheS0iKyhifHx0aGlzLm9wdGlvbnMudGhlbWUpKX0sa2VlcE5hdGl2ZVNlbGVjdG9yOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9Yi5rZWVwTmF0aXZlJiZhLnRyaW0oYi5rZWVwTmF0aXZlKTtyZXR1cm4gYyYmYi5rZWVwTmF0aXZlIT09Yi5rZWVwTmF0aXZlRGVmYXVsdD9bYi5rZWVwTmF0aXZlLGIua2VlcE5hdGl2ZURlZmF1bHRdLmpvaW4oIiwgIik6Yi5rZWVwTmF0aXZlRGVmYXVsdH19KX0oYSksZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGQpe3JldHVybiBkPT09YyYmKGQ9ITApLGZ1bmN0aW9uKGMsZSxmLGcpe3ZhciBoPW5ldyBhLkRlZmVycmVkLGk9ZT8iIHJldmVyc2UiOiIiLGo9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKSxrPWoubGFzdFNjcm9sbHx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsbD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxtPWEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCE9PSExJiZhLm1vYmlsZS53aW5kb3cud2lkdGgoKT5hLm1vYmlsZS5tYXhUcmFuc2l0aW9uV2lkdGgsbj0hYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zfHxtfHwhY3x8Im5vbmUiPT09Y3x8TWF0aC5tYXgoYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLGspPmEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb24oKSxvPSIgdWktcGFnZS1wcmUtaW4iLHA9ZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyB2aWV3cG9ydC0iK2MpfSxxPWZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsYi5zY3JvbGxUbygwLGspLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0scj1mdW5jdGlvbigpe2cucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgb3V0IGluIHJldmVyc2UgIitjKS5oZWlnaHQoIiIpfSxzPWZ1bmN0aW9uKCl7ZD9nLmFuaW1hdGlvbkNvbXBsZXRlKHQpOnQoKSxnLmhlaWdodChsK2EubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSkuYWRkQ2xhc3MoYysiIG91dCIraSl9LHQ9ZnVuY3Rpb24oKXtnJiZkJiZyKCksdSgpfSx1PWZ1bmN0aW9uKCl7Zi5jc3MoInotaW5kZXgiLC0xMCksZi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrbyksYS5tb2JpbGUuZm9jdXNQYWdlKGYpLGYuaGVpZ2h0KGwraykscSgpLGYuY3NzKCJ6LWluZGV4IiwiIiksbnx8Zi5hbmltYXRpb25Db21wbGV0ZSh2KSxmLnJlbW92ZUNsYXNzKG8pLmFkZENsYXNzKGMrIiBpbiIraSksbiYmdigpfSx2PWZ1bmN0aW9uKCl7ZHx8ZyYmcigpLGYucmVtb3ZlQ2xhc3MoIm91dCBpbiByZXZlcnNlICIrYykuaGVpZ2h0KCIiKSxwKCksYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpIT09ayYmcSgpLGgucmVzb2x2ZShjLGUsZixnLCEwKX07cmV0dXJuIHAoKSxnJiYhbj9zKCk6dCgpLGgucHJvbWlzZSgpfX0sZT1kKCksZj1kKCExKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIDMqYS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCl9O2EubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj1lLGEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycz17ImRlZmF1bHQiOmEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcixzZXF1ZW50aWFsOmUsc2ltdWx0YW5lb3VzOmZ9LGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3M9e30sYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249ZnVuY3Rpb24oYil7cmV0dXJuIGImJiFhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbYl0mJihiPWEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbYl0pLGJ9LGEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb249YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbnx8Z30oYSx0aGlzKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoYil7IXB8fHAuY2xvc2VzdCgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKS5sZW5ndGgmJiFifHxwLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxwPW51bGx9ZnVuY3Rpb24gZigpe3Q9ITEscy5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLHMucG9wKCkpfWZ1bmN0aW9uIGcoYixjLGQsZSl7YyYmYy5kYXRhKCJtb2JpbGUtcGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVoaWRlIixudWxsLHtuZXh0UGFnZTpifSksYi5kYXRhKCJtb2JpbGUtcGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVzaG93IixudWxsLHtwcmV2UGFnZTpjfHxhKCIiKX0pLGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpLGQ9YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oZCk7dmFyIGY9YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzW2R8fCJkZWZhdWx0Il18fGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcixnPWYoZCxlLGIsYyk7cmV0dXJuIGcuZG9uZShmdW5jdGlvbigpe2MmJmMuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigiaGlkZSIsbnVsbCx7bmV4dFBhZ2U6Yn0pLGIuZGF0YSgibW9iaWxlLXBhZ2UiKS5fdHJpZ2dlcigic2hvdyIsbnVsbCx7cHJldlBhZ2U6Y3x8YSgiIil9KX0pLGd9ZnVuY3Rpb24gaChiLGMpe2MmJmIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIixjKSxiLnBhZ2UoKX1mdW5jdGlvbiBpKCl7dmFyIGI9YS5tb2JpbGUuYWN0aXZlUGFnZSYmayhhLm1vYmlsZS5hY3RpdmVQYWdlKTtyZXR1cm4gYnx8eC5ocmVmTm9IYXNofWZ1bmN0aW9uIGooYSl7Zm9yKDthJiYoInN0cmluZyIhPXR5cGVvZiBhLm5vZGVOYW1lfHwiYSIhPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpOylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX1mdW5jdGlvbiBrKGIpe3ZhciBjPWEoYikuY2xvc2VzdCgiLnVpLXBhZ2UiKS5qcW1EYXRhKCJ1cmwiKSxkPXguaHJlZk5vSGFzaDtyZXR1cm4gYyYmbi5pc1BhdGgoYyl8fChjPWQpLG4ubWFrZVVybEFic29sdXRlKGMsZCl9dmFyIGw9YS5tb2JpbGUud2luZG93LG09KGEoImh0bWwiKSxhKCJoZWFkIikpLG49YS5leHRlbmQoYS5tb2JpbGUucGF0aCx7Z2V0RmlsZVBhdGg6ZnVuY3Rpb24oYil7dmFyIGM9IiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXk7cmV0dXJuIGImJmIuc3BsaXQoYylbMF0uc3BsaXQodSlbMF19LGlzRmlyc3RQYWdlVXJsOmZ1bmN0aW9uKGIpe3ZhciBjPW4ucGFyc2VVcmwobi5tYWtlVXJsQWJzb2x1dGUoYix0aGlzLmRvY3VtZW50QmFzZSkpLGU9Yy5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNofHx0aGlzLmRvY3VtZW50QmFzZURpZmZlcnMmJmMuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2gsZj1hLm1vYmlsZS5maXJzdFBhZ2UsZz1mJiZmWzBdP2ZbMF0uaWQ6ZDtyZXR1cm4gZSYmKCFjLmhhc2h8fCIjIj09PWMuaGFzaHx8ZyYmYy5oYXNoLnJlcGxhY2UoL14jLywiIik9PT1nKX0saXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3Q6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiYiZmlsZToiPT09Yi5wcm90b2NvbCYmLTEhPT1jLnNlYXJjaCgvXmh0dHBzPzovKX19KSxvPW51bGwscD1udWxsLHE9YS5EZWZlcnJlZCgpLHI9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSxzPVtdLHQ9ITEsdT0iJnVpLXN0YXRlPWRpYWxvZyIsdj1tLmNoaWxkcmVuKCJiYXNlIiksdz1uLmRvY3VtZW50VXJsLHg9bi5kb2N1bWVudEJhc2UseT0obi5kb2N1bWVudEJhc2VEaWZmZXJzLGEubW9iaWxlLmdldFNjcmVlbkhlaWdodCksej1hLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWc/e2VsZW1lbnQ6di5sZW5ndGg/djphKCI8YmFzZT4iLHtocmVmOnguaHJlZk5vSGFzaH0pLnByZXBlbmRUbyhtKSxzZXQ6ZnVuY3Rpb24oYSl7YT1uLnBhcnNlVXJsKGEpLmhyZWZOb0hhc2gsei5lbGVtZW50LmF0dHIoImhyZWYiLG4ubWFrZVVybEFic29sdXRlKGEseCkpfSxyZXNldDpmdW5jdGlvbigpe3ouZWxlbWVudC5hdHRyKCJocmVmIix4LmhyZWZOb1NlYXJjaCl9fTpkO2EubW9iaWxlLmdldERvY3VtZW50VXJsPW4uZ2V0RG9jdW1lbnRVcmwsYS5tb2JpbGUuZ2V0RG9jdW1lbnRCYXNlPW4uZ2V0RG9jdW1lbnRCYXNlLGEubW9iaWxlLmJhY2s9ZnVuY3Rpb24oKXt2YXIgYT1iLm5hdmlnYXRvcjt0aGlzLnBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQmJmEmJmEuYXBwJiZhLmFwcC5iYWNrSGlzdG9yeT9hLmFwcC5iYWNrSGlzdG9yeSgpOmIuaGlzdG9yeS5iYWNrKCl9LGEubW9iaWxlLmZvY3VzUGFnZT1mdW5jdGlvbihhKXt2YXIgYj1hLmZpbmQoIlthdXRvZm9jdXNdIiksYz1hLmZpbmQoIi51aS10aXRsZTplcSgwKSIpO3JldHVybiBiLmxlbmd0aD8oYi5mb2N1cygpLHZvaWQgMCk6KGMubGVuZ3RoP2MuZm9jdXMoKTphLmZvY3VzKCksdm9pZCAwKX07dmFyIEEsQixDPSEwO0E9ZnVuY3Rpb24oKXtpZihDKXt2YXIgYj1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpO2lmKGIpe3ZhciBjPWwuc2Nyb2xsVG9wKCk7Yi5sYXN0U2Nyb2xsPWM8YS5tb2JpbGUubWluU2Nyb2xsQmFjaz9hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbDpjfX19LEI9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KEEsMTAwKX0sbC5iaW5kKGEuc3VwcG9ydC5wdXNoU3RhdGU/InBvcHN0YXRlIjoiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXtDPSExfSksbC5vbmUoYS5zdXBwb3J0LnB1c2hTdGF0ZT8icG9wc3RhdGUiOiJoYXNoY2hhbmdlIixmdW5jdGlvbigpe0M9ITB9KSxsLm9uZSgicGFnZWNvbnRhaW5lcmNyZWF0ZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLmJpbmQoInBhZ2VjaGFuZ2UiLGZ1bmN0aW9uKCl7Qz0hMCxsLnVuYmluZCgic2Nyb2xsc3RvcCIsQiksbC5iaW5kKCJzY3JvbGxzdG9wIixCKX0pfSksbC5iaW5kKCJzY3JvbGxzdG9wIixCKSxhLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbj1hLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbnx8ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodD1mdW5jdGlvbihiKXt2YXIgYz1hKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLGQ9cGFyc2VGbG9hdChjLmNzcygicGFkZGluZy10b3AiKSksZT1wYXJzZUZsb2F0KGMuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxmPXBhcnNlRmxvYXQoYy5jc3MoImJvcmRlci10b3Atd2lkdGgiKSksZz1wYXJzZUZsb2F0KGMuY3NzKCJib3JkZXItYm90dG9tLXdpZHRoIikpO2I9Im51bWJlciI9PXR5cGVvZiBiP2I6eSgpLGMuY3NzKCJtaW4taGVpZ2h0IixiLWQtZS1mLWcpfSxhLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGIpe3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/YSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCBhbmltYXRpb25lbmQiLGIpOihzZXRUaW1lb3V0KGIsMCksYSh0aGlzKSl9LGEubW9iaWxlLnBhdGg9bixhLm1vYmlsZS5iYXNlPXosYS5tb2JpbGUudXJsSGlzdG9yeT1yLGEubW9iaWxlLmRpYWxvZ0hhc2hLZXk9dSxhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ITEsYS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlPWZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTshYi5kYXRhKCJtb2JpbGUtcGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGUmJmIuaXMoIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKSIpJiZiLmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIsZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGM9bmV3IGEuRXZlbnQoInBhZ2VyZW1vdmUiKTtiLnRyaWdnZXIoYyksYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8Yi5yZW1vdmVXaXRoRGVwZW5kZW50cygpfSl9LGEubW9iaWxlLmxvYWRQYWdlPWZ1bmN0aW9uKGIsYyl7dmFyIGU9YS5EZWZlcnJlZCgpLGY9YS5leHRlbmQoe30sYS5tb2JpbGUubG9hZFBhZ2UuZGVmYXVsdHMsYyksZz1udWxsLGo9bnVsbCxrPW4ubWFrZVVybEFic29sdXRlKGIsaSgpKTtmLmRhdGEmJiJnZXQiPT09Zi50eXBlJiYoaz1uLmFkZFNlYXJjaFBhcmFtcyhrLGYuZGF0YSksZi5kYXRhPWQpLGYuZGF0YSYmInBvc3QiPT09Zi50eXBlJiYoZi5yZWxvYWRQYWdlPSEwKTt2YXIgbD1uLmdldEZpbGVQYXRoKGspLG09bi5jb252ZXJ0VXJsVG9EYXRhVXJsKGspO2lmKGYucGFnZUNvbnRhaW5lcj1mLnBhZ2VDb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXIsZz1mLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIltkYXRhLSIrYS5tb2JpbGUubnMrInVybD0nIittKyInXSIpLDA9PT1nLmxlbmd0aCYmbSYmIW4uaXNQYXRoKG0pJiYoZz1mLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIiMiK20pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixtKS5qcW1EYXRhKCJ1cmwiLG0pKSwwPT09Zy5sZW5ndGgpaWYoYS5tb2JpbGUuZmlyc3RQYWdlJiZuLmlzRmlyc3RQYWdlVXJsKGwpKWEubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5sZW5ndGgmJihnPWEoYS5tb2JpbGUuZmlyc3RQYWdlKSk7ZWxzZSBpZihuLmlzRW1iZWRkZWRQYWdlKGwpKXJldHVybiBlLnJlamVjdChrLGMpLGUucHJvbWlzZSgpO2lmKGcubGVuZ3RoKXtpZighZi5yZWxvYWRQYWdlKXJldHVybiBoKGcsZi5yb2xlKSxlLnJlc29sdmUoayxjLGcpLHomJiFjLnByZWZldGNoJiZ6LnNldChiKSxlLnByb21pc2UoKTtqPWd9dmFyIG89Zi5wYWdlQ29udGFpbmVyLHA9bmV3IGEuRXZlbnQoInBhZ2ViZWZvcmVsb2FkIikscT17dXJsOmIsYWJzVXJsOmssZGF0YVVybDptLGRlZmVycmVkOmUsb3B0aW9uczpmfTtpZihvLnRyaWdnZXIocCxxKSxwLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBlLnByb21pc2UoKTtpZihmLnNob3dMb2FkTXNnKXZhciByPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKX0sZi5sb2FkTXNnRGVsYXkpLHM9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQociksYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCl9O3JldHVybiF6fHwidW5kZWZpbmVkIiE9dHlwZW9mIGMmJiJ1bmRlZmluZWQiIT10eXBlb2YgYy5wcmVmZXRjaHx8ei5yZXNldCgpLGEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlc3x8bi5pc1NhbWVEb21haW4odyxrKT9hLmFqYXgoe3VybDpsLHR5cGU6Zi50eXBlLGRhdGE6Zi5kYXRhLGNvbnRlbnRUeXBlOmYuY29udGVudFR5cGUsZGF0YVR5cGU6Imh0bWwiLHN1Y2Nlc3M6ZnVuY3Rpb24oZCxpLG8pe3ZhciBwPWEoIjxkaXY+PC9kaXY+Iikscj1kLm1hdGNoKC88dGl0bGVbXj5dKj4oW148XSopLykmJlJlZ0V4cC4kMSx0PW5ldyBSZWdFeHAoIig8W14+XStcXGJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9W1wiJ10/cGFnZVtcIiddP1tePl0qPikiKSx1PW5ldyBSZWdFeHAoIlxcYmRhdGEtIithLm1vYmlsZS5ucysidXJsPVtcIiddPyhbXlwiJz5dKilbXCInXT8iKTtpZih0LnRlc3QoZCkmJlJlZ0V4cC4kMSYmdS50ZXN0KFJlZ0V4cC4kMSkmJlJlZ0V4cC4kMSYmKGI9bD1uLmdldEZpbGVQYXRoKGEoIjxkaXY+IitSZWdFeHAuJDErIjwvZGl2PiIpLnRleHQoKSkpLCF6fHwidW5kZWZpbmVkIiE9dHlwZW9mIGMmJiJ1bmRlZmluZWQiIT10eXBlb2YgYy5wcmVmZXRjaHx8ei5zZXQobCkscC5nZXQoMCkuaW5uZXJIVE1MPWQsZz1wLmZpbmQoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maXJzdCgpLGcubGVuZ3RofHwoZz1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0ncGFnZSc+IisoZC5zcGxpdCgvPFwvP2JvZHlbXj5dKj4vZ2ltKVsxXXx8IiIpKyI8L2Rpdj4iKSksciYmIWcuanFtRGF0YSgidGl0bGUiKSYmKH5yLmluZGV4T2YoIiYiKSYmKHI9YSgiPGRpdj4iK3IrIjwvZGl2PiIpLnRleHQoKSksZy5qcW1EYXRhKCJ0aXRsZSIscikpLCFhLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcpe3ZhciB2PW4uZ2V0KGwpO2cuZmluZCgiW3NyY10sIGxpbmtbaHJlZl0sIGFbcmVsPSdleHRlcm5hbCddLCA6anFtRGF0YShhamF4PSdmYWxzZScpLCBhW3RhcmdldF0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5pcygiW2hyZWZdIik/ImhyZWYiOmEodGhpcykuaXMoIltzcmNdIik/InNyYyI6ImFjdGlvbiIsYz1hKHRoaXMpLmF0dHIoYik7Yz1jLnJlcGxhY2UobG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lLCIiKSwvXihcdys6fCN8XC8pLy50ZXN0KGMpfHxhKHRoaXMpLmF0dHIoYix2K2MpfSl9Zy5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsbi5jb252ZXJ0VXJsVG9EYXRhVXJsKGwpKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImV4dGVybmFsLXBhZ2UiLCEwKS5hcHBlbmRUbyhmLnBhZ2VDb250YWluZXIpLGcub25lKCJwYWdlY3JlYXRlIixhLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmUpLGgoZyxmLnJvbGUpLGsuaW5kZXhPZigiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSk+LTEmJihnPWYucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiW2RhdGEtIithLm1vYmlsZS5ucysidXJsPSciK20rIiddIikpLGYuc2hvd0xvYWRNc2cmJnMoKSxxLnhocj1vLHEudGV4dFN0YXR1cz1pLHEucGFnZT1nLGYucGFnZUNvbnRhaW5lci50cmlnZ2VyKCJwYWdlbG9hZCIscSksZS5yZXNvbHZlKGssYyxnLGopfSxlcnJvcjpmdW5jdGlvbihiLGQsZyl7eiYmei5zZXQobi5nZXQoKSkscS54aHI9YixxLnRleHRTdGF0dXM9ZCxxLmVycm9yVGhyb3duPWc7dmFyIGg9bmV3IGEuRXZlbnQoInBhZ2Vsb2FkZmFpbGVkIik7Zi5wYWdlQ29udGFpbmVyLnRyaWdnZXIoaCxxKSxoLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZi5zaG93TG9hZE1zZyYmKHMoKSxhLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZSxhLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSwhMCksc2V0VGltZW91dChhLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2csMTUwMCkpLGUucmVqZWN0KGssYykpfX0pOmUucmVqZWN0KGssYyksZS5wcm9taXNlKCl9LGEubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzPXt0eXBlOiJnZXQiLGRhdGE6ZCxyZWxvYWRQYWdlOiExLHJvbGU6ZCxzaG93TG9hZE1zZzohMSxwYWdlQ29udGFpbmVyOmQsbG9hZE1zZ0RlbGF5OjUwfSxhLm1vYmlsZS5jaGFuZ2VQYWdlPWZ1bmN0aW9uKGIsail7aWYodClyZXR1cm4gcy51bnNoaWZ0KGFyZ3VtZW50cyksdm9pZCAwO3ZhciBrLGw9YS5leHRlbmQoe30sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxqKTtsLnBhZ2VDb250YWluZXI9bC5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyLGwuZnJvbVBhZ2U9bC5mcm9tUGFnZXx8YS5tb2JpbGUuYWN0aXZlUGFnZSxrPSJzdHJpbmciPT10eXBlb2YgYjt2YXIgbT1sLnBhZ2VDb250YWluZXIsbz1uZXcgYS5FdmVudCgicGFnZWJlZm9yZWNoYW5nZSIpLHA9e3RvUGFnZTpiLG9wdGlvbnM6bH07aWYocC5hYnNVcmw9az9uLm1ha2VVcmxBYnNvbHV0ZShiLGkoKSk6Yi5kYXRhKCJhYnNVcmwiKSxtLnRyaWdnZXIobyxwKSwhby5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7aWYoYj1wLnRvUGFnZSxrPSJzdHJpbmciPT10eXBlb2YgYix0PSEwLGspcmV0dXJuIGwudGFyZ2V0PWIsYS5tb2JpbGUubG9hZFBhZ2UoYixsKS5kb25lKGZ1bmN0aW9uKGIsYyxkLGUpe3Q9ITEsYy5kdXBsaWNhdGVDYWNoZWRQYWdlPWUsZC5kYXRhKCJhYnNVcmwiLHAuYWJzVXJsKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGQsYyl9KS5mYWlsKGZ1bmN0aW9uKCl7ZSghMCksZigpLGwucGFnZUNvbnRhaW5lci50cmlnZ2VyKCJwYWdlY2hhbmdlZmFpbGVkIixwKX0pLHZvaWQgMDtiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdfHxsLmRhdGFVcmx8fChsLmRhdGFVcmw9dy5ocmVmTm9IYXNoKTt2YXIgcT1sLmZyb21QYWdlLHY9bC5kYXRhVXJsJiZuLmNvbnZlcnRVcmxUb0RhdGFVcmwobC5kYXRhVXJsKXx8Yi5qcW1EYXRhKCJ1cmwiKSx4PXYseT0obi5nZXRGaWxlUGF0aCh2KSxyLmdldEFjdGl2ZSgpKSx6PTA9PT1yLmFjdGl2ZUluZGV4LEE9MCxCPWMudGl0bGUsQz0iZGlhbG9nIj09PWwucm9sZXx8ImRpYWxvZyI9PT1iLmpxbURhdGEoInJvbGUiKTtpZihxJiZxWzBdPT09YlswXSYmIWwuYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24pcmV0dXJuIHQ9ITEsbS50cmlnZ2VyKCJwYWdlY2hhbmdlIixwKSxsLmZyb21IYXNoQ2hhbmdlJiZyLmRpcmVjdCh7dXJsOnZ9KSx2b2lkIDA7aChiLGwucm9sZSksbC5mcm9tSGFzaENoYW5nZSYmKEE9ImJhY2siPT09ai5kaXJlY3Rpb24/LTE6MSk7dHJ5e2MuYWN0aXZlRWxlbWVudCYmImJvZHkiIT09Yy5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/YShjLmFjdGl2ZUVsZW1lbnQpLmJsdXIoKTphKCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1cyIpLmJsdXIoKX1jYXRjaChEKXt9dmFyIEU9ITE7QyYmeSYmKHkudXJsJiZ5LnVybC5pbmRleE9mKHUpPi0xJiZhLm1vYmlsZS5hY3RpdmVQYWdlJiYhYS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpJiZyLmFjdGl2ZUluZGV4PjAmJihsLmNoYW5nZUhhc2g9ITEsRT0hMCksdj15LnVybHx8IiIsdis9IUUmJnYuaW5kZXhPZigiIyIpPi0xP3U6IiMiK3UsMD09PXIuYWN0aXZlSW5kZXgmJnY9PT1yLmluaXRpYWxEc3QmJih2Kz11KSk7dmFyIEY9eT9iLmpxbURhdGEoInRpdGxlIil8fGIuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikudGV4dCgpOkI7aWYoRiYmQj09PWMudGl0bGUmJihCPUYpLGIuanFtRGF0YSgidGl0bGUiKXx8Yi5qcW1EYXRhKCJ0aXRsZSIsQiksbC50cmFuc2l0aW9uPWwudHJhbnNpdGlvbnx8KEEmJiF6P3kudHJhbnNpdGlvbjpkKXx8KEM/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwhQSYmRSYmKHIuZ2V0QWN0aXZlKCkucGFnZVVybD14KSx2JiYhbC5mcm9tSGFzaENoYW5nZSl7dmFyIEc7IW4uaXNQYXRoKHYpJiZ2LmluZGV4T2YoIiMiKTwwJiYodj0iIyIrdiksRz17dHJhbnNpdGlvbjpsLnRyYW5zaXRpb24sdGl0bGU6QixwYWdlVXJsOngscm9sZTpsLnJvbGV9LGwuY2hhbmdlSGFzaCE9PSExJiZhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZD9hLm1vYmlsZS5uYXZpZ2F0ZSh2LEcsITApOmJbMF0hPT1hLm1vYmlsZS5maXJzdFBhZ2VbMF0mJmEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWRkKHYsRyl9Yy50aXRsZT1CLGEubW9iaWxlLmFjdGl2ZVBhZ2U9YixsLnJldmVyc2U9bC5yZXZlcnNlfHwwPkEsZyhiLHEsbC50cmFuc2l0aW9uLGwucmV2ZXJzZSkuZG9uZShmdW5jdGlvbihjLGQsZyxoLGkpe2UoKSxsLmR1cGxpY2F0ZUNhY2hlZFBhZ2UmJmwuZHVwbGljYXRlQ2FjaGVkUGFnZS5yZW1vdmUoKSxpfHxhLm1vYmlsZS5mb2N1c1BhZ2UoYiksZigpLG0udHJpZ2dlcigicGFnZWNoYW5nZSIscCl9KX19LGEubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHM9e3RyYW5zaXRpb246ZCxyZXZlcnNlOiExLGNoYW5nZUhhc2g6ITAsZnJvbUhhc2hDaGFuZ2U6ITEscm9sZTpkLGR1cGxpY2F0ZUNhY2hlZFBhZ2U6ZCxwYWdlQ29udGFpbmVyOmQsc2hvd0xvYWRNc2c6ITAsZGF0YVVybDpkLGZyb21QYWdlOmQsYWxsb3dTYW1lUGFnZVRyYW5zaXRpb246ITF9LGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQ9YS5EZWZlcnJlZCgpLGEubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGM9ZnVuY3Rpb24oYixjKXt2YXIgZCxlLGYsZyxoPSEwO3JldHVybiFhLm1vYmlsZS5hamF4RW5hYmxlZHx8Yi5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHwhYi5qcW1IaWphY2thYmxlKCkubGVuZ3RofHxiLmF0dHIoInRhcmdldCIpPyExOihkPWIuYXR0cigiYWN0aW9uIiksZz0oYi5hdHRyKCJtZXRob2QiKXx8ImdldCIpLnRvTG93ZXJDYXNlKCksZHx8KGQ9ayhiKSwiZ2V0Ij09PWcmJihkPW4ucGFyc2VVcmwoZCkuaHJlZk5vU2VhcmNoKSxkPT09eC5ocmVmTm9IYXNoJiYoZD13LmhyZWZOb1NlYXJjaCkpLGQ9bi5tYWtlVXJsQWJzb2x1dGUoZCxrKGIpKSxuLmlzRXh0ZXJuYWwoZCkmJiFuLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KHcsZCk/ITE6KGN8fChlPWIuc2VyaWFsaXplQXJyYXkoKSxvJiZvWzBdLmZvcm09PT1iWzBdJiYoZj1vLmF0dHIoIm5hbWUiKSxmJiYoYS5lYWNoKGUsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5uYW1lPT09Zj8oZj0iIiwhMSk6dm9pZCAwfSksZiYmZS5wdXNoKHtuYW1lOmYsdmFsdWU6by5hdHRyKCJ2YWx1ZSIpfSkpKSxoPXt1cmw6ZCxvcHRpb25zOnt0eXBlOmcsZGF0YTphLnBhcmFtKGUpLHRyYW5zaXRpb246Yi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscmV2ZXJzZToicmV2ZXJzZSI9PT1iLmpxbURhdGEoImRpcmVjdGlvbiIpLHJlbG9hZFBhZ2U6ITB9fSksaCkpfTthLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSgiZm9ybSIsInN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGQ9YyhhKHRoaXMpKTtkJiYoYS5tb2JpbGUuY2hhbmdlUGFnZShkLnVybCxkLm9wdGlvbnMpLGIucHJldmVudERlZmF1bHQoKSl9KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBkLGYsZz1iLnRhcmdldCxoPSExO2lmKCEoYi53aGljaD4xKSYmYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkKXtpZihvPWEoZyksYS5kYXRhKGcsIm1vYmlsZS1idXR0b24iKSl7aWYoIWMoYShnKS5jbG9zZXN0KCJmb3JtIiksITApKXJldHVybjtnLnBhcmVudE5vZGUmJihnPWcucGFyZW50Tm9kZSl9ZWxzZXtpZihnPWooZyksIWd8fCIjIj09PW4ucGFyc2VVcmwoZy5nZXRBdHRyaWJ1dGUoImhyZWYiKXx8IiMiKS5oYXNoKXJldHVybjtpZighYShnKS5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXJldHVybn1+Zy5jbGFzc05hbWUuaW5kZXhPZigidWktbGluay1pbmhlcml0Iik/Zy5wYXJlbnROb2RlJiYoZj1hLmRhdGEoZy5wYXJlbnROb2RlLCJidXR0b25FbGVtZW50cyIpKTpmPWEuZGF0YShnLCJidXR0b25FbGVtZW50cyIpLGY/Zz1mLm91dGVyOmg9ITAsZD1hKGcpLGgmJihkPWQuY2xvc2VzdCgiLnVpLWJ0biIpKSxkLmxlbmd0aD4wJiYhZC5oYXNDbGFzcygidWktZGlzYWJsZWQiKSYmKGUoITApLHA9ZCxwLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGMpe2lmKGEubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCYmIWMuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBmLGc9aihjLnRhcmdldCksaD1hKGcpO2lmKGcmJiEoYy53aGljaD4xKSYmaC5qcW1IaWphY2thYmxlKCkubGVuZ3RoKXtpZihmPWZ1bmN0aW9uKCl7Yi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZSghMCl9LDIwMCl9LGguaXMoIjpqcW1EYXRhKHJlbD0nYmFjaycpIikpcmV0dXJuIGEubW9iaWxlLmJhY2soKSwhMTt2YXIgaT1rKGgpLGw9bi5tYWtlVXJsQWJzb2x1dGUoaC5hdHRyKCJocmVmIil8fCIjIixpKTtpZighYS5tb2JpbGUuYWpheEVuYWJsZWQmJiFuLmlzRW1iZWRkZWRQYWdlKGwpKXJldHVybiBmKCksdm9pZCAwO2lmKC0xIT09bC5zZWFyY2goIiMiKSl7aWYobD1sLnJlcGxhY2UoL1teI10qIy8sIiIpLCFsKXJldHVybiBjLnByZXZlbnREZWZhdWx0KCksdm9pZCAwO2w9bi5pc1BhdGgobCk/bi5tYWtlVXJsQWJzb2x1dGUobCxpKTpuLm1ha2VVcmxBYnNvbHV0ZSgiIyIrbCx3LmhyZWZOb0hhc2gpfXZhciBtPWguaXMoIltyZWw9J2V4dGVybmFsJ10iKXx8aC5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHxoLmlzKCJbdGFyZ2V0XSIpLG89bXx8bi5pc0V4dGVybmFsKGwpJiYhbi5pc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdCh3LGwpO2lmKG8pcmV0dXJuIGYoKSx2b2lkIDA7dmFyIHA9aC5qcW1EYXRhKCJ0cmFuc2l0aW9uIikscT0icmV2ZXJzZSI9PT1oLmpxbURhdGEoImRpcmVjdGlvbiIpfHxoLmpxbURhdGEoImJhY2siKSxyPWguYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKXx8ZDthLm1vYmlsZS5jaGFuZ2VQYWdlKGwse3RyYW5zaXRpb246cCxyZXZlcnNlOnEscm9sZTpyLGxpbms6aH0pLGMucHJldmVudERlZmF1bHQoKX19fSksYS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIi51aS1wYWdlIiwicGFnZXNob3cucHJlZmV0Y2giLGZ1bmN0aW9uKCl7dmFyIGI9W107YSh0aGlzKS5maW5kKCJhOmpxbURhdGEocHJlZmV0Y2gpIikuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1jLmF0dHIoImhyZWYiKTtkJiYtMT09PWEuaW5BcnJheShkLGIpJiYoYi5wdXNoKGQpLGEubW9iaWxlLmxvYWRQYWdlKGQse3JvbGU6Yy5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJlbCIpLHByZWZldGNoOiEwfSkpfSl9KSxhLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZT1mdW5jdGlvbihjLGUpe3ZhciBmPW4uc3RyaXBIYXNoKGMpLGc9MD09PWEubW9iaWxlLnVybEhpc3Rvcnkuc3RhY2subGVuZ3RoPyJub25lIjpkLGg9e2NoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITAscmV2ZXJzZToiYmFjayI9PT1lLmRpcmVjdGlvbn07aWYoYS5leHRlbmQoaCxlLHt0cmFuc2l0aW9uOihyLmdldExhc3QoKXx8e30pLnRyYW5zaXRpb258fGd9KSxyLmFjdGl2ZUluZGV4PjAmJmYuaW5kZXhPZih1KT4tMSYmci5pbml0aWFsRHN0IT09Zil7aWYoYS5tb2JpbGUuYWN0aXZlUGFnZSYmIWEubW9iaWxlLmFjdGl2ZVBhZ2UuaXMoIi51aS1kaWFsb2ciKSlyZXR1cm4iYmFjayI9PT1lLmRpcmVjdGlvbj9hLm1vYmlsZS5iYWNrKCk6Yi5oaXN0b3J5LmZvcndhcmQoKSx2b2lkIDA7Zj1lLnBhZ2VVcmw7dmFyIGk9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTthLmV4dGVuZChoLHtyb2xlOmkucm9sZSx0cmFuc2l0aW9uOmkudHJhbnNpdGlvbixyZXZlcnNlOiJiYWNrIj09PWUuZGlyZWN0aW9ufSl9Zj8oZj1uLmlzUGF0aChmKT9mOm4ubWFrZVVybEFic29sdXRlKCIjIitmLHgpLGY9PT1uLm1ha2VVcmxBYnNvbHV0ZSgiIyIrci5pbml0aWFsRHN0LHgpJiZyLnN0YWNrLmxlbmd0aCYmci5zdGFja1swXS51cmwhPT1yLmluaXRpYWxEc3QucmVwbGFjZSh1LCIiKSYmKGY9YS5tb2JpbGUuZmlyc3RQYWdlKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGYsaCkpOmEubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLGgpfSxsLmJpbmQoIm5hdmlnYXRlIixmdW5jdGlvbihiLGMpe3ZhciBkO2Iub3JpZ2luYWxFdmVudCYmYi5vcmlnaW5hbEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZD1hLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUub3JpZ2luYWxFdmVudE5hbWUuaW5kZXhPZigiaGFzaGNoYW5nZSIpPi0xP2Muc3RhdGUuaGFzaDpjLnN0YXRlLnVybCxkfHwoZD1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoKSxkJiYiIyIhPT1kJiYwIT09ZC5pbmRleE9mKCIjIithLm1vYmlsZS5wYXRoLnVpU3RhdGVLZXkpfHwoZD1sb2NhdGlvbi5ocmVmKSxhLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZShkLGMuc3RhdGUpKX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VzaG93IixhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQpLGEubW9iaWxlLndpbmRvdy5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCl9LGEoZnVuY3Rpb24oKXtxLnJlc29sdmUoKX0pLGEud2hlbihxLGEubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQpLmRvbmUoZnVuY3Rpb24oKXthLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cygpfSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxpcD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbG93PSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnBvcD0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNsaWRlPWEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zaW11bHRhbmVvdXMsYS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZT0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZWRvd249ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVmYWRlPSJmYWRlIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRldXA9ImZhZGUifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MudHVybj0iZmFkZSJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzPXtjb2xvcjohMSxkYXRlOiExLGRhdGV0aW1lOiExLCJkYXRldGltZS1sb2NhbCI6ITEsZW1haWw6ITEsbW9udGg6ITEsbnVtYmVyOiExLHJhbmdlOiJudW1iZXIiLHNlYXJjaDoidGV4dCIsdGVsOiExLHRpbWU6ITEsdXJsOiExLHdlZWs6ITF9LGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXt2YXIgYyxkPWEubW9iaWxlLmNsb3Nlc3RQYWdlRGF0YShhKGIudGFyZ2V0KSk7ZCYmKGM9ZC5vcHRpb25zLGEoYi50YXJnZXQpLmZpbmQoImlucHV0Iikubm90KGQua2VlcE5hdGl2ZVNlbGVjdG9yKCkpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGQ9dGhpcy5nZXRBdHRyaWJ1dGUoInR5cGUiKSxlPWMuZGVncmFkZUlucHV0c1tkXXx8InRleHQiO2lmKGMuZGVncmFkZUlucHV0c1tkXSl7dmFyIGY9YSgiPGRpdj4iKS5odG1sKGIuY2xvbmUoKSkuaHRtbCgpLGc9Zi5pbmRleE9mKCIgdHlwZT0iKT4tMSxoPWc/L1xzK3R5cGU9WyInXT9cdytbJyJdPy86L1wvPz4vLGk9JyB0eXBlPSInK2UrJyIgZGF0YS0nK2EubW9iaWxlLm5zKyd0eXBlPSInK2QrJyInKyhnPyIiOiI+Iik7Yi5yZXBsYWNlV2l0aChmLnJlcGxhY2UoaCxpKSl9fSkpfSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuZGlhbG9nIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2Nsb3NlQnRuOiJsZWZ0IixjbG9zZUJ0blRleHQ6IkNsb3NlIixvdmVybGF5VGhlbWU6ImEiLGNvcm5lcnM6ITAsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdkaWFsb2cnKSJ9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSEwLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJnRoaXMuZWxlbWVudC5wYWdlKCJyZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kIikucGFnZSgic2V0Q29udGFpbmVyQmFja2dyb3VuZCIsdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIixkPWEoIjxkaXYvPiIse3JvbGU6ImRpYWxvZyIsImNsYXNzIjoidWktZGlhbG9nLWNvbnRhaW4gdWktb3ZlcmxheS1zaGFkb3ciK2N9KTtiLmFkZENsYXNzKCJ1aS1kaWFsb2cgdWktb3ZlcmxheS0iK3RoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpLGIud3JhcElubmVyKGQpLGIuYmluZCgidmNsaWNrIHN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGMsZD1hKGIudGFyZ2V0KS5jbG9zZXN0KCJ2Y2xpY2siPT09Yi50eXBlPyJhIjoiZm9ybSIpO2QubGVuZ3RoJiYhZC5qcW1EYXRhKCJ0cmFuc2l0aW9uIikmJihjPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCl8fHt9LGQuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0cmFuc2l0aW9uIixjLnRyYW5zaXRpb258fGEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImRpcmVjdGlvbiIsInJldmVyc2UiKSl9KSx0aGlzLl9vbihiLHtwYWdlYmVmb3Jlc2hvdzoiX2hhbmRsZVBhZ2VCZWZvcmVTaG93IixwYWdlYmVmb3JlaGlkZToiX2hhbmRsZVBhZ2VCZWZvcmVIaWRlIn0pLGEuZXh0ZW5kKHRoaXMse19jcmVhdGVDb21wbGV0ZTohMX0pLHRoaXMuX3NldENsb3NlQnRuKHRoaXMub3B0aW9ucy5jbG9zZUJ0bil9LF9zZXRDbG9zZUJ0bjpmdW5jdGlvbihiKXt2YXIgYyxkLGU9dGhpczt0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbiYmKHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uLnJlbW92ZSgpLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPW51bGwpLCJub25lIiE9PWImJihkPSJsZWZ0Ij09PWI/ImxlZnQiOiJyaWdodCIsYz1hKCI8YSBocmVmPScjJyBjbGFzcz0ndWktYnRuLSIrZCsiJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2RlbGV0ZScgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29ucG9zPSdub3RleHQnPiIrdGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dCsiPC9hPiIpLHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmlyc3QoKS5wcmVwZW5kKGMpLHRoaXMuX2NyZWF0ZUNvbXBsZXRlJiZhLmZuLmJ1dHRvbk1hcmt1cCYmYy5idXR0b25NYXJrdXAoKSx0aGlzLl9jcmVhdGVDb21wbGV0ZT0hMCxjLmJpbmQoImNsaWNrIixmdW5jdGlvbigpe2UuY2xvc2UoKX0pLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPWMpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7ImNsb3NlQnRuIj09PWEmJnRoaXMuX3NldENsb3NlQnRuKGIpLHRoaXMuX3N1cGVyKGEsYil9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPWEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk7dGhpcy5faXNDbG9zZWFibGUmJih0aGlzLl9pc0Nsb3NlYWJsZT0hMSxhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCYmZC5hY3RpdmVJbmRleD4wP2EubW9iaWxlLmJhY2soKTooYj1NYXRoLm1heCgwLGQuYWN0aXZlSW5kZXgtMSksYz1kLnN0YWNrW2JdLnBhZ2VVcmx8fGQuc3RhY2tbYl0udXJsLGQucHJldmlvdXNJbmRleD1kLmFjdGl2ZUluZGV4LGQuYWN0aXZlSW5kZXg9YixhLm1vYmlsZS5wYXRoLmlzUGF0aChjKXx8KGM9YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIiMiK2MpKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGMse2RpcmVjdGlvbjoiYmFjayIsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH0pKSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoYS5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwicGFnZWNyZWF0ZSIsZnVuY3Rpb24oKXthLm1vYmlsZS5kaWFsb2cucHJvdG90eXBlLmVuaGFuY2UodGhpcyl9KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmJhY2tCdG5UZXh0PSJCYWNrIixhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmFkZEJhY2tCdG49ITEsYS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGhlbWU9bnVsbCxhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmhlYWRlclRoZW1lPSJhIixhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmZvb3RlclRoZW1lPSJhIixhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmNvbnRlbnRUaGVtZT1udWxsLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Yy5kYXRhKCJtb2JpbGUtcGFnZSIpLm9wdGlvbnMsZT1jLmpxbURhdGEoInJvbGUiKSxmPWQudGhlbWU7YSgiOmpxbURhdGEocm9sZT0naGVhZGVyJyksIDpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpLCA6anFtRGF0YShyb2xlPSdjb250ZW50JykiLGMpLmpxbUVuaGFuY2VhYmxlKCkuZWFjaChmdW5jdGlvbigpe3ZhciBiLGcsaCxpLGo9YSh0aGlzKSxrPWouanFtRGF0YSgicm9sZSIpLGw9ai5qcW1EYXRhKCJ0aGVtZSIpLG09bHx8ZC5jb250ZW50VGhlbWV8fCJkaWFsb2ciPT09ZSYmZjtpZihqLmFkZENsYXNzKCJ1aS0iK2spLCJoZWFkZXIiPT09a3x8ImZvb3RlciI9PT1rKXt2YXIgbj1sfHwoImhlYWRlciI9PT1rP2QuaGVhZGVyVGhlbWU6ZC5mb290ZXJUaGVtZSl8fGY7ai5hZGRDbGFzcygidWktYmFyLSIrbikuYXR0cigicm9sZSIsImhlYWRlciI9PT1rPyJiYW5uZXIiOiJjb250ZW50aW5mbyIpLCJoZWFkZXIiPT09ayYmKGI9ai5jaGlsZHJlbigiYSwgYnV0dG9uIiksZz1iLmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpLGg9Yi5oYXNDbGFzcygidWktYnRuLXJpZ2h0IiksZz1nfHxiLmVxKDApLm5vdCgiLnVpLWJ0bi1yaWdodCIpLmFkZENsYXNzKCJ1aS1idG4tbGVmdCIpLmxlbmd0aCxoPWh8fGIuZXEoMSkuYWRkQ2xhc3MoInVpLWJ0bi1yaWdodCIpLmxlbmd0aCksZC5hZGRCYWNrQnRuJiYiaGVhZGVyIj09PWsmJmEoIi51aS1wYWdlIikubGVuZ3RoPjEmJmMuanFtRGF0YSgidXJsIikhPT1hLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSYmIWcmJihpPWEoIjxhIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnIGNsYXNzPSd1aS1idG4tbGVmdCcgZGF0YS0iK2EubW9iaWxlLm5zKyJyZWw9J2JhY2snIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbj0nYXJyb3ctbCc+IitkLmJhY2tCdG5UZXh0KyI8L2E+IikuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsZC5iYWNrQnRuVGhlbWV8fG4pLnByZXBlbmRUbyhqKSksai5jaGlsZHJlbigiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS10aXRsZSIpLmF0dHIoe3JvbGU6ImhlYWRpbmciLCJhcmlhLWxldmVsIjoiMSJ9KX1lbHNlImNvbnRlbnQiPT09ayYmKG0mJmouYWRkQ2xhc3MoInVpLWJvZHktIittKSxqLmF0dHIoInJvbGUiLCJtYWluIikpfSl9KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGEpe2Zvcih2YXIgYjthJiYoYj0ic3RyaW5nIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZSsiICIsIShiJiZiLmluZGV4T2YoInVpLWJ0biAiKT4tMSYmYi5pbmRleE9mKCJ1aS1kaXNhYmxlZCAiKTwwKSk7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhfWZ1bmN0aW9uIGUoZCxlLGYsZyxoKXt2YXIgaT1hLmRhdGEoZFswXSwiYnV0dG9uRWxlbWVudHMiKTtkLnJlbW92ZUNsYXNzKGUpLmFkZENsYXNzKGYpLGkmJihpLmJjbHM9YShjLmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5hZGRDbGFzcyhpLmJjbHMrIiAiK2YpLnJlbW92ZUNsYXNzKGUpLmF0dHIoImNsYXNzIiksZyE9PWImJihpLmhvdmVyPWcpLGkuc3RhdGU9aCl9dmFyIGY9ZnVuY3Rpb24oYSxjKXt2YXIgZD1hLmdldEF0dHJpYnV0ZShjKTtyZXR1cm4idHJ1ZSI9PT1kPyEwOiJmYWxzZSI9PT1kPyExOm51bGw9PT1kP2I6ZH07YS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24oZCl7dmFyIGUsaD10aGlzLGk9ImRhdGEtIithLm1vYmlsZS5ucztkPWQmJiJvYmplY3QiPT09YS50eXBlKGQpP2Q6e307Zm9yKHZhciBqPTA7ajxoLmxlbmd0aDtqKyspe3ZhciBrLGwsbSxuLG8scCxxPWguZXEoaikscj1xWzBdLHM9YS5leHRlbmQoe30sYS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHMse2ljb246ZC5pY29uIT09Yj9kLmljb246ZihyLGkrImljb24iKSxpY29ucG9zOmQuaWNvbnBvcyE9PWI/ZC5pY29ucG9zOmYocixpKyJpY29ucG9zIiksdGhlbWU6ZC50aGVtZSE9PWI/ZC50aGVtZTpmKHIsaSsidGhlbWUiKXx8YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUocSwiYyIpLGlubGluZTpkLmlubGluZSE9PWI/ZC5pbmxpbmU6ZihyLGkrImlubGluZSIpLHNoYWRvdzpkLnNoYWRvdyE9PWI/ZC5zaGFkb3c6ZihyLGkrInNoYWRvdyIpLGNvcm5lcnM6ZC5jb3JuZXJzIT09Yj9kLmNvcm5lcnM6ZihyLGkrImNvcm5lcnMiKSxpY29uc2hhZG93OmQuaWNvbnNoYWRvdyE9PWI/ZC5pY29uc2hhZG93OmYocixpKyJpY29uc2hhZG93IiksbWluaTpkLm1pbmkhPT1iP2QubWluaTpmKHIsaSsibWluaSIpfSxkKSx0PSJ1aS1idG4taW5uZXIiLHU9InVpLWJ0bi10ZXh0Iix2PSExLHc9InVwIjtmb3IoZSBpbiBzKXNbZV09PT1ifHxudWxsPT09c1tlXT9xLnJlbW92ZUF0dHIoaStlKTpyLnNldEF0dHJpYnV0ZShpK2Usc1tlXSk7Zm9yKHA9YS5kYXRhKCJJTlBVVCI9PT1yLnRhZ05hbWV8fCJCVVRUT04iPT09ci50YWdOYW1lP3IucGFyZW50Tm9kZTpyLCJidXR0b25FbGVtZW50cyIpLHA/KHI9cC5vdXRlcixxPWEociksbT1wLmlubmVyLG49cC50ZXh0LGEocC5pY29uKS5yZW1vdmUoKSxwLmljb249bnVsbCx2PXAuaG92ZXIsdz1wLnN0YXRlKToobT1jLmNyZWF0ZUVsZW1lbnQocy53cmFwcGVyRWxzKSxuPWMuY3JlYXRlRWxlbWVudChzLndyYXBwZXJFbHMpKSxvPXMuaWNvbj9jLmNyZWF0ZUVsZW1lbnQoInNwYW4iKTpudWxsLGcmJiFwJiZnKCkscy50aGVtZXx8KHMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUocSwiYyIpKSxrPSJ1aS1idG4gIixrKz12PyJ1aS1idG4taG92ZXItIitzLnRoZW1lOiIiLGsrPXc/IiB1aS1idG4tIit3KyItIitzLnRoZW1lOiIiLGsrPXMuc2hhZG93PyIgdWktc2hhZG93IjoiIixrKz1zLmNvcm5lcnM/IiB1aS1idG4tY29ybmVyLWFsbCI6IiIscy5taW5pIT09YiYmKGsrPXMubWluaT09PSEwPyIgdWktbWluaSI6IiB1aS1mdWxsc2l6ZSIpLHMuaW5saW5lIT09YiYmKGsrPXMuaW5saW5lPT09ITA/IiB1aS1idG4taW5saW5lIjoiIHVpLWJ0bi1ibG9jayIpLHMuaWNvbiYmKHMuaWNvbj0idWktaWNvbi0iK3MuaWNvbixzLmljb25wb3M9cy5pY29ucG9zfHwibGVmdCIsbD0idWktaWNvbiAiK3MuaWNvbixzLmljb25zaGFkb3cmJihsKz0iIHVpLWljb24tc2hhZG93IikpLHMuaWNvbnBvcyYmKGsrPSIgdWktYnRuLWljb24tIitzLmljb25wb3MsIm5vdGV4dCIhPT1zLmljb25wb3N8fHEuYXR0cigidGl0bGUiKXx8cS5hdHRyKCJ0aXRsZSIscS5nZXRFbmNvZGVkVGV4dCgpKSkscCYmcS5yZW1vdmVDbGFzcyhwLmJjbHN8fCIiKSxxLnJlbW92ZUNsYXNzKCJ1aS1saW5rIikuYWRkQ2xhc3MoayksbS5jbGFzc05hbWU9dCxuLmNsYXNzTmFtZT11LHB8fG0uYXBwZW5kQ2hpbGQobiksbyYmKG8uY2xhc3NOYW1lPWwscCYmcC5pY29ufHwoby5pbm5lckhUTUw9IiYjMTYwOyIsbS5hcHBlbmRDaGlsZChvKSkpO3IuZmlyc3RDaGlsZCYmIXA7KW4uYXBwZW5kQ2hpbGQoci5maXJzdENoaWxkKTtwfHxyLmFwcGVuZENoaWxkKG0pLHA9e2hvdmVyOnYsc3RhdGU6dyxiY2xzOmssb3V0ZXI6cixpbm5lcjptLHRleHQ6bixpY29uOm99LGEuZGF0YShyLCJidXR0b25FbGVtZW50cyIscCksYS5kYXRhKG0sImJ1dHRvbkVsZW1lbnRzIixwKSxhLmRhdGEobiwiYnV0dG9uRWxlbWVudHMiLHApLG8mJmEuZGF0YShvLCJidXR0b25FbGVtZW50cyIscCl9cmV0dXJuIHRoaXN9LGEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzPXtjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLHdyYXBwZXJFbHM6InNwYW4ifTt2YXIgZz1mdW5jdGlvbigpe3ZhciBjLGYsaD1hLm1vYmlsZS5idXR0b25NYXJrdXAuaG92ZXJEZWxheTthLm1vYmlsZS5kb2N1bWVudC5iaW5kKHsidm1vdXNlZG93biB2bW91c2VjYW5jZWwgdm1vdXNldXAgdm1vdXNlb3ZlciB2bW91c2VvdXQgZm9jdXMgYmx1ciBzY3JvbGxzdGFydCI6ZnVuY3Rpb24oZyl7dmFyIGksaj1hKGQoZy50YXJnZXQpKSxrPWcub3JpZ2luYWxFdmVudCYmL150b3VjaC8udGVzdChnLm9yaWdpbmFsRXZlbnQudHlwZSksbD1nLnR5cGU7ai5sZW5ndGgmJihpPWouYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpLCJ2bW91c2Vkb3duIj09PWw/az9jPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGosInVpLWJ0bi11cC0iK2ksInVpLWJ0bi1kb3duLSIraSxiLCJkb3duIil9LGgpOmUoaiwidWktYnRuLXVwLSIraSwidWktYnRuLWRvd24tIitpLGIsImRvd24iKToidm1vdXNlY2FuY2VsIj09PWx8fCJ2bW91c2V1cCI9PT1sP2UoaiwidWktYnRuLWRvd24tIitpLCJ1aS1idG4tdXAtIitpLGIsInVwIik6InZtb3VzZW92ZXIiPT09bHx8ImZvY3VzIj09PWw/az9mPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGosInVpLWJ0bi11cC0iK2ksInVpLWJ0bi1ob3Zlci0iK2ksITAsIiIpfSxoKTplKGosInVpLWJ0bi11cC0iK2ksInVpLWJ0bi1ob3Zlci0iK2ksITAsIiIpOigidm1vdXNlb3V0Ij09PWx8fCJibHVyIj09PWx8fCJzY3JvbGxzdGFydCI9PT1sKSYmKGUoaiwidWktYnRuLWhvdmVyLSIraSsiIHVpLWJ0bi1kb3duLSIraSwidWktYnRuLXVwLSIraSwhMSwidXAiKSxjJiZjbGVhclRpbWVvdXQoYyksZiYmY2xlYXJUaW1lb3V0KGYpKSl9LCJmb2N1c2luIGZvY3VzIjpmdW5jdGlvbihiKXthKGQoYi50YXJnZXQpKS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sImZvY3Vzb3V0IGJsdXIiOmZ1bmN0aW9uKGIpe2EoZChiLnRhcmdldCkpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLGc9bnVsbH07YS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHJvbGU9J2J1dHRvbicpLCAudWktYmFyID4gYSwgLnVpLWhlYWRlciA+IGEsIC51aS1mb290ZXIgPiBhLCAudWktYmFyID4gOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykgPiBhIixiLnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5ub3QoImJ1dHRvbiwgaW5wdXQsIC51aS1idG4sIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYnV0dG9uTWFya3VwKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2V4cGFuZEN1ZVRleHQ6IiBjbGljayB0byBleHBhbmQgY29udGVudHMiLGNvbGxhcHNlQ3VlVGV4dDoiIGNsaWNrIHRvIGNvbGxhcHNlIGNvbnRlbnRzIixjb2xsYXBzZWQ6ITAsaGVhZGluZzoiaDEsaDIsaDMsaDQsaDUsaDYsbGVnZW5kIixjb2xsYXBzZWRJY29uOiJwbHVzIixleHBhbmRlZEljb246Im1pbnVzIixpY29ucG9zOiJsZWZ0Iix0aGVtZTpudWxsLGNvbnRlbnRUaGVtZTpudWxsLGluc2V0OiEwLGNvcm5lcnM6ITAsbWluaTohMSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGQ9dGhpcy5vcHRpb25zLGU9Yy5hZGRDbGFzcygidWktY29sbGFwc2libGUiKSxmPWMuY2hpbGRyZW4oZC5oZWFkaW5nKS5maXJzdCgpLGc9ZS53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWNvbnRlbnQnPjwvZGl2PiIpLmNoaWxkcmVuKCIudWktY29sbGFwc2libGUtY29udGVudCIpLGg9Yy5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKSxpPSIiO2YuaXMoImxlZ2VuZCIpJiYoZj1hKCI8ZGl2IHJvbGU9J2hlYWRpbmcnPiIrZi5odG1sKCkrIjwvZGl2PiIpLmluc2VydEJlZm9yZShmKSxmLm5leHQoKS5yZW1vdmUoKSksaC5sZW5ndGg/KGQudGhlbWV8fChkLnRoZW1lPWguanFtRGF0YSgidGhlbWUiKXx8YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoaCwiYyIpKSxkLmNvbnRlbnRUaGVtZXx8KGQuY29udGVudFRoZW1lPWguanFtRGF0YSgiY29udGVudC10aGVtZSIpKSxkLmNvbGxhcHNlZEljb249Yy5qcW1EYXRhKCJjb2xsYXBzZWQtaWNvbiIpfHxoLmpxbURhdGEoImNvbGxhcHNlZC1pY29uIil8fGQuY29sbGFwc2VkSWNvbixkLmV4cGFuZGVkSWNvbj1jLmpxbURhdGEoImV4cGFuZGVkLWljb24iKXx8aC5qcW1EYXRhKCJleHBhbmRlZC1pY29uIil8fGQuZXhwYW5kZWRJY29uLGQuaWNvbnBvcz1jLmpxbURhdGEoImljb25wb3MiKXx8aC5qcW1EYXRhKCJpY29ucG9zIil8fGQuaWNvbnBvcyxkLmluc2V0PWguanFtRGF0YSgiaW5zZXQiKSE9PWI/aC5qcW1EYXRhKCJpbnNldCIpOiEwLGQuY29ybmVycz0hMSxkLm1pbml8fChkLm1pbmk9aC5qcW1EYXRhKCJtaW5pIikpKTpkLnRoZW1lfHwoZC50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShjLCJjIikpLGQuaW5zZXQmJihpKz0iIHVpLWNvbGxhcHNpYmxlLWluc2V0IixkLmNvcm5lcnMmJihpKz0iIHVpLWNvcm5lci1hbGwiKSksZC5jb250ZW50VGhlbWUmJihpKz0iIHVpLWNvbGxhcHNpYmxlLXRoZW1lZC1jb250ZW50IixnLmFkZENsYXNzKCJ1aS1ib2R5LSIrZC5jb250ZW50VGhlbWUpKSwiIiE9PWkmJmUuYWRkQ2xhc3MoaSksZi5pbnNlcnRCZWZvcmUoZykuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoIjxzcGFuIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyc+PC9zcGFuPiIpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYSIpLmZpcnN0KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsY29ybmVyczohMSxpY29ucG9zOmQuaWNvbnBvcyxpY29uOmQuY29sbGFwc2VkSWNvbixtaW5pOmQubWluaSx0aGVtZTpkLnRoZW1lfSksZS5iaW5kKCJleHBhbmQgY29sbGFwc2UiLGZ1bmN0aW9uKGIpe2lmKCFiLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgYz1hKHRoaXMpLGU9ImNvbGxhcHNlIj09PWIudHlwZTtiLnByZXZlbnREZWZhdWx0KCksZi50b2dnbGVDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiLGUpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIpLnRleHQoZT9kLmV4cGFuZEN1ZVRleHQ6ZC5jb2xsYXBzZUN1ZVRleHQpLmVuZCgpLmZpbmQoIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoInVpLWljb24tIitkLmV4cGFuZGVkSWNvbiwhZSkudG9nZ2xlQ2xhc3MoInVpLWljb24tIitkLmNvbGxhcHNlZEljb24sZXx8ZC5leHBhbmRlZEljb249PT1kLmNvbGxhcHNlZEljb24pLmVuZCgpLmZpbmQoImEiKS5maXJzdCgpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxjLnRvZ2dsZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQiLGUpLGcudG9nZ2xlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIixlKS5hdHRyKCJhcmlhLWhpZGRlbiIsZSksZy50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX19KS50cmlnZ2VyKGQuY29sbGFwc2VkPyJjb2xsYXBzZSI6ImV4cGFuZCIpLGYuYmluZCgidGFwIixmdW5jdGlvbigpe2YuZmluZCgiYSIpLmZpcnN0KCkuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGEpe3ZhciBiPWYuaXMoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpPyJleHBhbmQiOiJjb2xsYXBzZSI7ZS50cmlnZ2VyKGIpLGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpfSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3Nlcz17X2dldFZpc2libGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM7cmV0dXJuIGI/Yz1hLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKTooYz1hLmZpbHRlcigiOnZpc2libGUiKSwwPT09Yy5sZW5ndGgmJihjPWEubm90KCIudWktc2NyZWVuLWhpZGRlbiIpKSksY30sX2FkZEZpcnN0TGFzdENsYXNzZXM6ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlQ2xhc3MoInVpLWZpcnN0LWNoaWxkIHVpLWxhc3QtY2hpbGQiKSxiLmVxKDApLmFkZENsYXNzKCJ1aS1maXJzdC1jaGlsZCIpLmVuZCgpLmxhc3QoKS5hZGRDbGFzcygidWktbGFzdC1jaGlsZCIpLGN8fHRoaXMuZWxlbWVudC50cmlnZ2VyKCJ1cGRhdGVsYXlvdXQiKX19fShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KCJtb2JpbGUuY29sbGFwc2libGVzZXQiLGEubW9iaWxlLndpZGdldCxhLmV4dGVuZCh7b3B0aW9uczp7aW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLXNldCIpLGQ9dGhpcy5vcHRpb25zO2QudGhlbWV8fChkLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGMsImMiKSksZC5jb250ZW50VGhlbWV8fChkLmNvbnRlbnRUaGVtZT1jLmpxbURhdGEoImNvbnRlbnQtdGhlbWUiKSksZC5jb3JuZXJzfHwoZC5jb3JuZXJzPWMuanFtRGF0YSgiY29ybmVycyIpKSxjLmpxbURhdGEoImluc2V0IikhPT1iJiYoZC5pbnNldD1jLmpxbURhdGEoImluc2V0IikpLGQuaW5zZXQ9ZC5pbnNldCE9PWI/ZC5pbnNldDohMCxkLmNvcm5lcnM9ZC5jb3JuZXJzIT09Yj9kLmNvcm5lcnM6ITAsZC5jb3JuZXJzJiZkLmluc2V0JiZjLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIiksYy5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIil8fGMuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIsITApLmJpbmQoImV4cGFuZCIsZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuY2xvc2VzdCgiLnVpLWNvbGxhcHNpYmxlIik7DQpjLnBhcmVudCgpLmlzKCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpJiZjLnNpYmxpbmdzKCIudWktY29sbGFwc2libGUiKS50cmlnZ2VyKCJjb2xsYXBzZSIpfSl9LF9pbml0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9YS5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSIpLGM9Yi5maWx0ZXIoIjpqcW1EYXRhKGNvbGxhcHNlZD0nZmFsc2UnKSIpO3RoaXMuX3JlZnJlc2goInRydWUiKSxjLnRyaWdnZXIoImV4cGFuZCIpfSxfcmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKTthLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZShjLm5vdCgiLnVpLWNvbGxhcHNpYmxlIikpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoYyx0aGlzLl9nZXRWaXNpYmxlcyhjLGIpLGIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jb2xsYXBzaWJsZXNldC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSl7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcygidWktZmllbGQtY29udGFpbiB1aS1ib2R5IHVpLWJyIikuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMz09PXRoaXMubm9kZVR5cGUmJiEvXFMvLnRlc3QodGhpcy5ub2RlVmFsdWUpfSkucmVtb3ZlKCl9LGEoYykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHJvbGU9J2ZpZWxkY29udGFpbicpIixiLnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5maWVsZGNvbnRhaW4oKX0pfShhKSxmdW5jdGlvbihhKXthLmZuLmdyaWQ9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjLGQ9YSh0aGlzKSxlPWEuZXh0ZW5kKHtncmlkOm51bGx9LGIpLGY9ZC5jaGlsZHJlbigpLGc9e3NvbG86MSxhOjIsYjozLGM6NCxkOjV9LGg9ZS5ncmlkO2lmKCFoKWlmKGYubGVuZ3RoPD01KWZvcih2YXIgaSBpbiBnKWdbaV09PT1mLmxlbmd0aCYmKGg9aSk7ZWxzZSBoPSJhIixkLmFkZENsYXNzKCJ1aS1ncmlkLWR1byIpO2M9Z1toXSxkLmFkZENsYXNzKCJ1aS1ncmlkLSIraCksZi5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKSxjPjEmJmYuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIiksYz4yJiZmLmZpbHRlcigiOm50aC1jaGlsZCgiK2MrIm4rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpLGM+MyYmZi5maWx0ZXIoIjpudGgtY2hpbGQoIitjKyJuKzQpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWQiKSxjPjQmJmYuZmlsdGVyKCI6bnRoLWNoaWxkKCIrYysibis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5uYXZiYXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7aWNvbnBvczoidG9wIixncmlkOm51bGwsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSduYXZiYXInKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLmVsZW1lbnQsZT1kLmZpbmQoImEiKSxmPWUuZmlsdGVyKCI6anFtRGF0YShpY29uKSIpLmxlbmd0aD90aGlzLm9wdGlvbnMuaWNvbnBvczpiO2QuYWRkQ2xhc3MoInVpLW5hdmJhciB1aS1taW5pIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pLGUuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiExLHNoYWRvdzohMSxpbmxpbmU6ITAsaWNvbnBvczpmfSksZC5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24oYil7dmFyIGQ9YShiLnRhcmdldCkuaXMoImEiKT9hKHRoaXMpOmEodGhpcykucGFyZW50KCJhIik7aWYoIWQuaXMoIi51aS1kaXNhYmxlZCwgLnVpLWJ0bi1hY3RpdmUiKSl7ZS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYSh0aGlzKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7dmFyIGY9YSh0aGlzKTthKGMpLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7Zi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KSxkLmNsb3Nlc3QoIi51aS1wYWdlIikuYmluZCgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKCl7ZS5maWx0ZXIoIi51aS1zdGF0ZS1wZXJzaXN0IikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLm5hdmJhci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9e307YS53aWRnZXQoIm1vYmlsZS5saXN0dmlldyIsYS5tb2JpbGUud2lkZ2V0LGEuZXh0ZW5kKHtvcHRpb25zOnt0aGVtZTpudWxsLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLGljb246ImFycm93LXIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsY29ybmVyczohMCxzaGFkb3c6ITAsaW5zZXQ6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0iIjtiKz1hLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCI6IiIsYS5vcHRpb25zLmluc2V0JiYoYis9YS5vcHRpb25zLmNvcm5lcnM/IiB1aS1jb3JuZXItYWxsIjoiIixiKz1hLm9wdGlvbnMuc2hhZG93PyIgdWktc2hhZG93IjoiIiksYS5lbGVtZW50LmFkZENsYXNzKGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGMrIiB1aS1saXN0dmlldyIrYn0pLGEucmVmcmVzaCghMCl9LF9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXt9O2ZvcihlW2NdPWVbZF09ITA7YTspe2lmKGVbYS5ub2RlTmFtZV0pcmV0dXJuIGE7YT1hW2JdfXJldHVybiBudWxsfSxfZ2V0Q2hpbGRyZW5CeVRhZ05hbWU6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPVtdLGY9e307Zm9yKGZbY109ZltkXT0hMCxiPWIuZmlyc3RDaGlsZDtiOylmW2Iubm9kZU5hbWVdJiZlLnB1c2goYiksYj1iLm5leHRTaWJsaW5nO3JldHVybiBhKGUpfSxfYWRkVGh1bWJDbGFzc2VzOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZT1iLmxlbmd0aDtmb3IoYz0wO2U+YztjKyspZD1hKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoYltjXS5maXJzdENoaWxkLCJuZXh0U2libGluZyIsImltZyIsIklNRyIpKSxkLmxlbmd0aCYmKGQuYWRkQ2xhc3MoInVpLWxpLXRodW1iIiksYSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGRbMF0ucGFyZW50Tm9kZSwicGFyZW50Tm9kZSIsImxpIiwiTEkiKSkuYWRkQ2xhc3MoZC5pcygiLnVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKSl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dGhpcy5wYXJlbnRQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLHRoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHA9dGhpcy5vcHRpb25zLHE9dGhpcy5lbGVtZW50LHI9cS5qcW1EYXRhKCJkaXZpZGVydGhlbWUiKXx8cC5kaXZpZGVyVGhlbWUscz1xLmpxbURhdGEoInNwbGl0dGhlbWUiKSx0PXEuanFtRGF0YSgic3BsaXRpY29uIiksdT1xLmpxbURhdGEoImljb24iKSx2PXRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKHFbMF0sImxpIiwiTEkiKSx3PSEhYS5ub2RlTmFtZShxWzBdLCJvbCIpLHg9IWEuc3VwcG9ydC5jc3NQc2V1ZG9FbGVtZW50LHk9cS5hdHRyKCJzdGFydCIpLHo9e307dyYmeCYmcS5maW5kKCIudWktbGktZGVjIikucmVtb3ZlKCksdyYmKHl8fDA9PT15P3g/aj1wYXJzZUludCh5LDEwKTooaz1wYXJzZUludCh5LDEwKS0xLHEuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK2spKTp4JiYoaj0xKSkscC50aGVtZXx8KHAudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpO2Zvcih2YXIgQT0wLEI9di5sZW5ndGg7Qj5BO0ErKyl7aWYoZD12LmVxKEEpLGU9InVpLWxpIixifHwhZC5oYXNDbGFzcygidWktbGkiKSl7Zj1kLmpxbURhdGEoInRoZW1lIil8fHAudGhlbWUsZz10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShkWzBdLCJhIiwiQSIpO3ZhciBDPSJsaXN0LWRpdmlkZXIiPT09ZC5qcW1EYXRhKCJyb2xlIik7Zy5sZW5ndGgmJiFDPyhuPWQuanFtRGF0YSgiaWNvbiIpLGQuYnV0dG9uTWFya3VwKHt3cmFwcGVyRWxzOiJkaXYiLHNoYWRvdzohMSxjb3JuZXJzOiExLGljb25wb3M6InJpZ2h0IixpY29uOmcubGVuZ3RoPjF8fG49PT0hMT8hMTpufHx1fHxwLmljb24sdGhlbWU6Zn0pLG4hPT0hMSYmMT09PWcubGVuZ3RoJiZkLmFkZENsYXNzKCJ1aS1saS1oYXMtYXJyb3ciKSxnLmZpcnN0KCkucmVtb3ZlQ2xhc3MoInVpLWxpbmsiKS5hZGRDbGFzcygidWktbGluay1pbmhlcml0IiksZy5sZW5ndGg+MSYmKGUrPSIgdWktbGktaGFzLWFsdCIsaD1nLmxhc3QoKSxpPXN8fGguanFtRGF0YSgidGhlbWUiKXx8cC5zcGxpdFRoZW1lLG89aC5qcW1EYXRhKCJpY29uIiksaC5hcHBlbmRUbyhkKS5hdHRyKCJ0aXRsZSIsYS50cmltKGguZ2V0RW5jb2RlZFRleHQoKSkpLmFkZENsYXNzKCJ1aS1saS1saW5rLWFsdCIpLmVtcHR5KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsY29ybmVyczohMSx0aGVtZTpmLGljb246ITEsaWNvbnBvczoibm90ZXh0In0pLmZpbmQoIi51aS1idG4taW5uZXIiKS5hcHBlbmQoYShjLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITAsY29ybmVyczohMCx0aGVtZTppLGljb25wb3M6Im5vdGV4dCIsaWNvbjpvfHxufHx0fHxwLnNwbGl0SWNvbn0pKSkpOkM/KGUrPSIgdWktbGktZGl2aWRlciB1aS1iYXItIisoZC5qcW1EYXRhKCJ0aGVtZSIpfHxyKSxkLmF0dHIoInJvbGUiLCJoZWFkaW5nIiksdyYmKHl8fDA9PT15P3g/aj1wYXJzZUludCh5LDEwKToobD1wYXJzZUludCh5LDEwKS0xLGQuY3NzKCJjb3VudGVyLXJlc2V0IiwibGlzdG51bWJlcmluZyAiK2wpKTp4JiYoaj0xKSkpOmUrPSIgdWktbGktc3RhdGljIHVpLWJ0bi11cC0iK2Z9dyYmeCYmZS5pbmRleE9mKCJ1aS1saS1kaXZpZGVyIik8MCYmKG09ZS5pbmRleE9mKCJ1aS1saS1zdGF0aWMiKT4wP2Q6ZC5maW5kKCIudWktbGluay1pbmhlcml0IiksbS5hZGRDbGFzcygidWktbGktanNudW1iZXJpbmciKS5wcmVwZW5kKCI8c3BhbiBjbGFzcz0ndWktbGktZGVjJz4iK2orKyArIi4gPC9zcGFuPiIpKSx6W2VdfHwoeltlXT1bXSkseltlXS5wdXNoKGRbMF0pfWZvcihlIGluIHopYSh6W2VdKS5hZGRDbGFzcyhlKS5jaGlsZHJlbigiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKGUpO3EuZmluZCgiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS1saS1oZWFkaW5nIikuZW5kKCkuZmluZCgicCwgZGwiKS5hZGRDbGFzcygidWktbGktZGVzYyIpLmVuZCgpLmZpbmQoIi51aS1saS1hc2lkZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IucHJlcGVuZFRvKGIucGFyZW50KCkpfSkuZW5kKCkuZmluZCgiLnVpLWxpLWNvdW50IikuZWFjaChmdW5jdGlvbigpe2EodGhpcykuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktbGktaGFzLWNvdW50Iil9KS5hZGRDbGFzcygidWktYnRuLXVwLSIrKHEuanFtRGF0YSgiY291bnR0aGVtZSIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSkrIiB1aS1idG4tY29ybmVyLWFsbCIpLHRoaXMuX2FkZFRodW1iQ2xhc3Nlcyh2KSx0aGlzLl9hZGRUaHVtYkNsYXNzZXMocS5maW5kKCIudWktbGluay1pbmhlcml0IikpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXModix0aGlzLl9nZXRWaXNpYmxlcyh2LGIpLGIpLHRoaXMuX3RyaWdnZXIoImFmdGVycmVmcmVzaCIpfSxfaWRTdHJpbmdFc2NhcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvW15hLXpBLVowLTldL2csIi0iKX0sX2NyZWF0ZVN1YlBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGMsZD10aGlzLmVsZW1lbnQsZT1kLmNsb3Nlc3QoIi51aS1wYWdlIiksZj1lLmpxbURhdGEoInVybCIpLGc9Znx8ZVswXVthLmV4cGFuZG9dLGg9ZC5hdHRyKCJpZCIpLGk9dGhpcy5vcHRpb25zLGo9ImRhdGEtIithLm1vYmlsZS5ucyxrPXRoaXMsbD1lLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuanFtRGF0YSgiaWQiKTtpZigidW5kZWZpbmVkIj09dHlwZW9mIGJbZ10mJihiW2ddPS0xKSxoPWh8fCsrYltnXSxhKGQuZmluZCgibGk+dWwsIGxpPm9sIikudG9BcnJheSgpLnJldmVyc2UoKSkuZWFjaChmdW5jdGlvbihiKXt2YXIgZSxnLGs9YSh0aGlzKSxtPWsuYXR0cigiaWQiKXx8aCsiLSIrYixuPWsucGFyZW50KCksbz1hKGsucHJldkFsbCgpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLHA9by5sZW5ndGg/bzphKCI8c3Bhbj4iK2EudHJpbShuLmNvbnRlbnRzKClbMF0ubm9kZVZhbHVlKSsiPC9zcGFuPiIpLHE9cC5maXJzdCgpLmdldEVuY29kZWRUZXh0KCkscj0oZnx8IiIpKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyI9IittLHM9ay5qcW1EYXRhKCJ0aGVtZSIpfHxpLnRoZW1lLHQ9ay5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGQuanFtRGF0YSgiY291bnR0aGVtZSIpfHxpLmNvdW50VGhlbWU7Yz0hMCxlPWsuZGV0YWNoKCkud3JhcCgiPGRpdiAiK2orInJvbGU9J3BhZ2UnICIraisidXJsPSciK3IrIicgIitqKyJ0aGVtZT0nIitzKyInICIraisiY291bnQtdGhlbWU9JyIrdCsiJz48ZGl2ICIraisicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikucGFyZW50KCkuYmVmb3JlKCI8ZGl2ICIraisicm9sZT0naGVhZGVyJyAiK2orInRoZW1lPSciK2kuaGVhZGVyVGhlbWUrIic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrcSsiPC9kaXY+PC9kaXY+IikuYWZ0ZXIobD9hKCI8ZGl2ICIraisicm9sZT0nZm9vdGVyJyAiK2orImlkPSciK2wrIic+Iik6IiIpLnBhcmVudCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLGUucGFnZSgpLGc9bi5maW5kKCJhOmZpcnN0IiksZy5sZW5ndGh8fChnPWEoIjxhLz4iKS5odG1sKHB8fHEpLnByZXBlbmRUbyhuLmVtcHR5KCkpKSxnLmF0dHIoImhyZWYiLCIjIityKX0pLmxpc3R2aWV3KCksYyYmZS5pcygiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpIikmJmUuZGF0YSgibW9iaWxlLXBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlPT09ITEpe3ZhciBtPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZz1jLm5leHRQYWdlLGg9bmV3IGEuRXZlbnQoInBhZ2VyZW1vdmUiKTtjLm5leHRQYWdlJiYoZD1nLmpxbURhdGEoInVybCIpLDAhPT1kLmluZGV4T2YoZisiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSkmJihrLmNoaWxkUGFnZXMoKS5yZW1vdmUoKSxlLnRyaWdnZXIoaCksaC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8ZS5yZW1vdmVXaXRoRGVwZW5kZW50cygpKSl9O2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKS5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLG0pfX0sY2hpbGRQYWdlczpmdW5jdGlvbigpe3ZhciBiPXRoaXMucGFyZW50UGFnZS5qcW1EYXRhKCJ1cmwiKTtyZXR1cm4gYSgiOmpxbURhdGEodXJsXj0nIitiKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyInKSIpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoIm1ldGFbbmFtZT12aWV3cG9ydF0iKSxjPWIuYXR0cigiY29udGVudCIpLGQ9YysiLG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ubyIsZT1jKyIsbWF4aW11bS1zY2FsZT0xMCwgdXNlci1zY2FsYWJsZT15ZXMiLGY9Lyh1c2VyLXNjYWxhYmxlW1xzXSo9W1xzXSpubyl8KG1heGltdW0tc2NhbGVbXHNdKj1bXHNdKjEpWyQsXHNdLy50ZXN0KGMpO2EubW9iaWxlLnpvb209YS5leHRlbmQoe30se2VuYWJsZWQ6IWYsbG9ja2VkOiExLGRpc2FibGU6ZnVuY3Rpb24oYyl7Znx8YS5tb2JpbGUuem9vbS5sb2NrZWR8fChiLmF0dHIoImNvbnRlbnQiLGQpLGEubW9iaWxlLnpvb20uZW5hYmxlZD0hMSxhLm1vYmlsZS56b29tLmxvY2tlZD1jfHwhMSl9LGVuYWJsZTpmdW5jdGlvbihjKXtmfHxhLm1vYmlsZS56b29tLmxvY2tlZCYmYyE9PSEwfHwoYi5hdHRyKCJjb250ZW50IixlKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITAsYS5tb2JpbGUuem9vbS5sb2NrZWQ9ITEpfSxyZXN0b3JlOmZ1bmN0aW9uKCl7Znx8KGIuYXR0cigiY29udGVudCIsYyksYS5tb2JpbGUuem9vbS5lbmFibGVkPSEwKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50ZXh0aW5wdXQiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxtaW5pOiExLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJyksIGlucHV0W3R5cGU9J251bWJlciddLCA6anFtRGF0YSh0eXBlPSdudW1iZXInKSwgaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSwgaW5wdXRbdHlwZT0nZW1haWwnXSwgaW5wdXRbdHlwZT0ndXJsJ10sIGlucHV0W3R5cGU9J3RlbCddLCB0ZXh0YXJlYSwgaW5wdXRbdHlwZT0ndGltZSddLCBpbnB1dFt0eXBlPSdkYXRlJ10sIGlucHV0W3R5cGU9J21vbnRoJ10sIGlucHV0W3R5cGU9J3dlZWsnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgaW5wdXRbdHlwZT0nY29sb3InXSwgaW5wdXQ6bm90KFt0eXBlXSksIGlucHV0W3R5cGU9J2ZpbGUnXSIsY2xlYXJCdG46ITEsY2xlYXJTZWFyY2hCdXR0b25UZXh0Om51bGwsY2xlYXJCdG5UZXh0OiJjbGVhciB0ZXh0IixkaXNhYmxlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC50b2dnbGVDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiwhZi52YWwoKSl9LDApfXZhciBjLGQsZT10aGlzLGY9dGhpcy5lbGVtZW50LGc9dGhpcy5vcHRpb25zLGg9Zy50aGVtZXx8YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIiksaT0iIHVpLWJvZHktIitoLGo9Zy5taW5pPyIgdWktbWluaSI6IiIsaz1mLmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksbD1nLmNsZWFyU2VhcmNoQnV0dG9uVGV4dHx8Zy5jbGVhckJ0blRleHQsbT1mLmlzKCJ0ZXh0YXJlYSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSIpLG49ISFnLmNsZWFyQnRuJiYhbSxvPWYuaXMoImlucHV0IikmJiFmLmlzKCI6anFtRGF0YSh0eXBlPSdyYW5nZScpIik7aWYoYSgibGFiZWxbZm9yPSciK2YuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktaW5wdXQtdGV4dCIpLGM9Zi5hZGRDbGFzcygidWktaW5wdXQtdGV4dCB1aS1ib2R5LSIraCksInVuZGVmaW5lZCI9PXR5cGVvZiBmWzBdLmF1dG9jb3JyZWN0fHxhLnN1cHBvcnQudG91Y2hPdmVyZmxvd3x8KGZbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29ycmVjdCIsIm9mZiIpLGZbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKSksaz9jPWYud3JhcCgiPGRpdiBjbGFzcz0ndWktaW5wdXQtc2VhcmNoIHVpLXNoYWRvdy1pbnNldCB1aS1idG4tY29ybmVyLWFsbCB1aS1idG4tc2hhZG93IHVpLWljb24tc2VhcmNoZmllbGQiK2kraisiJz48L2Rpdj4iKS5wYXJlbnQoKTpvJiYoYz1mLndyYXAoIjxkaXYgY2xhc3M9J3VpLWlucHV0LXRleHQgdWktc2hhZG93LWluc2V0IHVpLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyIraStqKyInPjwvZGl2PiIpLnBhcmVudCgpKSxufHxrPyhkPWEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1pbnB1dC1jbGVhcicgdGl0bGU9JyIrbCsiJz4iK2wrIjwvYT4iKS5iaW5kKCJjbGljayIsZnVuY3Rpb24oYSl7Zi52YWwoIiIpLmZvY3VzKCkudHJpZ2dlcigiY2hhbmdlIiksZC5hZGRDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIiksYS5wcmV2ZW50RGVmYXVsdCgpfSkuYXBwZW5kVG8oYykuYnV0dG9uTWFya3VwKHtpY29uOiJkZWxldGUiLGljb25wb3M6Im5vdGV4dCIsY29ybmVyczohMCxzaGFkb3c6ITAsbWluaTpnLm1pbml9KSxrfHxjLmFkZENsYXNzKCJ1aS1pbnB1dC1oYXMtY2xlYXIiKSxiKCksZi5iaW5kKCJwYXN0ZSBjdXQga2V5dXAgaW5wdXQgZm9jdXMgY2hhbmdlIGJsdXIiLGIpKTpvfHxrfHxmLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIraStqKSxmLmZvY3VzKGZ1bmN0aW9uKCl7Zy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApLGMuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5ibHVyKGZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKSxnLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pLGYuaXMoInRleHRhcmVhIikpe3ZhciBwLHE9MTUscj0xMDA7dGhpcy5fa2V5dXA9ZnVuY3Rpb24oKXt2YXIgYT1mWzBdLnNjcm9sbEhlaWdodCxiPWZbMF0uY2xpZW50SGVpZ2h0O2lmKGE+Yil7dmFyIGM9cGFyc2VGbG9hdChmLmNzcygicGFkZGluZy10b3AiKSksZD1wYXJzZUZsb2F0KGYuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKSxlPWMrZDtmLmhlaWdodChhLWUrcSl9fSxmLm9uKCJrZXl1cCBjaGFuZ2UgaW5wdXQgcGFzdGUiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHApLHA9c2V0VGltZW91dChlLl9rZXl1cCxyKX0pLHRoaXMuX29uKCEwLGEubW9iaWxlLmRvY3VtZW50LHtwYWdlY2hhbmdlOiJfa2V5dXAifSksYS50cmltKGYudmFsKCkpJiZ0aGlzLl9vbighMCxhLm1vYmlsZS53aW5kb3cse2xvYWQ6Il9rZXl1cCJ9KX1mLmF0dHIoImRpc2FibGVkIikmJnRoaXMuZGlzYWJsZSgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLmVsZW1lbnQuaXMoIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKSxjPXRoaXMuZWxlbWVudC5pcygiaW5wdXQiKSYmIXRoaXMuZWxlbWVudC5pcygiOmpxbURhdGEodHlwZT0ncmFuZ2UnKSIpLGQ9dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCkmJihjfHxiKTtyZXR1cm4gYT1kP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnQsYS5hZGRDbGFzcygidWktZGlzYWJsZWQiKSx0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LGVuYWJsZTpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5lbGVtZW50LmlzKCJbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiksYz10aGlzLmVsZW1lbnQuaXMoImlucHV0IikmJiF0aGlzLmVsZW1lbnQuaXMoIjpqcW1EYXRhKHR5cGU9J3JhbmdlJykiKSxkPXRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpJiYoY3x8Yik7cmV0dXJuIGE9ZD90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50LGEucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIiksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsITApfSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlcj0hMSxhLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlcj0iRmlsdGVyIGl0ZW1zLi4uIixhLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJUaGVtZT0iYyIsYS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUmV2ZWFsPSExO3ZhciBiPWZ1bmN0aW9uKGEsYil7cmV0dXJuLTE9PT1hLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKGIpfTthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjaz1iLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCJ1bCwgb2wiLCJsaXN0dmlld2NyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5kYXRhKCJtb2JpbGUtbGlzdHZpZXciKTtpZihkJiZkLm9wdGlvbnMuZmlsdGVyKXtkLm9wdGlvbnMuZmlsdGVyUmV2ZWFsJiZjLmNoaWxkcmVuKCkuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKTt2YXIgZT1hKCI8Zm9ybT4iLHsiY2xhc3MiOiJ1aS1saXN0dmlldy1maWx0ZXIgdWktYmFyLSIrZC5vcHRpb25zLmZpbHRlclRoZW1lLHJvbGU6InNlYXJjaCJ9KS5zdWJtaXQoZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGcuYmx1cigpfSksZj1mdW5jdGlvbigpe3ZhciBlLGY9YSh0aGlzKSxnPXRoaXMudmFsdWUudG9Mb3dlckNhc2UoKSxoPW51bGwsaT1jLmNoaWxkcmVuKCksaj1mLmpxbURhdGEoImxhc3R2YWwiKSsiIixrPSExLGw9IiIsbT1kLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2shPT1iO2lmKCFqfHxqIT09Zyl7aWYoZC5fdHJpZ2dlcigiYmVmb3JlZmlsdGVyIiwiYmVmb3JlZmlsdGVyIix7aW5wdXQ6dGhpc30pLGYuanFtRGF0YSgibGFzdHZhbCIsZyksbXx8Zy5sZW5ndGg8ai5sZW5ndGh8fDAhPT1nLmluZGV4T2Yoaik/aD1jLmNoaWxkcmVuKCk6KGg9Yy5jaGlsZHJlbigiOm5vdCgudWktc2NyZWVuLWhpZGRlbikiKSwhaC5sZW5ndGgmJmQub3B0aW9ucy5maWx0ZXJSZXZlYWwmJihoPWMuY2hpbGRyZW4oIi51aS1zY3JlZW4taGlkZGVuIikpKSxnKXtmb3IodmFyIG49aC5sZW5ndGgtMTtuPj0wO24tLSllPWEoaFtuXSksbD1lLmpxbURhdGEoImZpbHRlcnRleHQiKXx8ZS50ZXh0KCksZS5pcygibGk6anFtRGF0YShyb2xlPWxpc3QtZGl2aWRlcikiKT8oZS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsIWspLGs9ITEpOmQub3B0aW9ucy5maWx0ZXJDYWxsYmFjayhsLGcsZSk/ZS50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsITApOms9ITA7aC5maWx0ZXIoIjpub3QoLnVpLWZpbHRlci1oaWRlcXVldWUpIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCExKSxoLmZpbHRlcigiLnVpLWZpbHRlci1oaWRlcXVldWUiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsITApLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhMSl9ZWxzZSBoLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhIWQub3B0aW9ucy5maWx0ZXJSZXZlYWwpO2QuX2FkZEZpcnN0TGFzdENsYXNzZXMoaSxkLl9nZXRWaXNpYmxlcyhpLCExKSwhMSl9fSxnPWEoIjxpbnB1dD4iLHtwbGFjZWhvbGRlcjpkLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXJ9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInR5cGUiLCJzZWFyY2giKS5qcW1EYXRhKCJsYXN0dmFsIiwiIikuYmluZCgia2V5dXAgY2hhbmdlIGlucHV0IixmKS5hcHBlbmRUbyhlKS50ZXh0aW5wdXQoKTtkLm9wdGlvbnMuaW5zZXQmJmUuYWRkQ2xhc3MoInVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCIpLGUuYmluZCgic3VibWl0IixmdW5jdGlvbigpe3JldHVybiExfSkuaW5zZXJ0QmVmb3JlKGMpfX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5hdXRvZGl2aWRlcnM9ITEsYS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuYXV0b2RpdmlkZXJzU2VsZWN0b3I9ZnVuY3Rpb24oYil7dmFyIGM9YS50cmltKGIudGV4dCgpKXx8bnVsbDtyZXR1cm4gYz9jPWMuc2xpY2UoMCwxKS50b1VwcGVyQ2FzZSgpOm51bGx9LGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCJ1bCxvbCIsImxpc3R2aWV3Y3JlYXRlIixmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZD1iLmRhdGEoIm1vYmlsZS1saXN0dmlldyIpO2lmKGQmJmQub3B0aW9ucy5hdXRvZGl2aWRlcnMpe3ZhciBlPWZ1bmN0aW9uKCl7Yi5maW5kKCJsaTpqcW1EYXRhKHJvbGU9J2xpc3QtZGl2aWRlcicpIikucmVtb3ZlKCk7Zm9yKHZhciBlLGYsZz1iLmZpbmQoImxpIiksaD1udWxsLGk9MDtpPGcubGVuZ3RoO2krKyl7aWYoZT1nW2ldLGY9ZC5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yKGEoZSkpLGYmJmghPT1mKXt2YXIgaj1jLmNyZWF0ZUVsZW1lbnQoImxpIik7ai5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGYpKSxqLnNldEF0dHJpYnV0ZSgiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlIiwibGlzdC1kaXZpZGVyIiksZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqLGUpfWg9Zn19LGY9ZnVuY3Rpb24oKXtiLnVuYmluZCgibGlzdHZpZXdhZnRlcnJlZnJlc2giLGYpLGUoKSxkLnJlZnJlc2goKSxiLmJpbmQoImxpc3R2aWV3YWZ0ZXJyZWZyZXNoIixmKX07ZigpfX0pfShhKSxmdW5jdGlvbihhKXthKGMpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdub2pzJykiLGIudGFyZ2V0KS5hZGRDbGFzcygidWktbm9qcyIpfSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQ9e19oYW5kbGVGb3JtUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KCJfcmVzZXQiKX19KX19fShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmNoZWNrYm94cmFkaW8iLGEubW9iaWxlLndpZGdldCxhLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCxtaW5pOiExLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD10aGlzLmVsZW1lbnQsZT10aGlzLm9wdGlvbnMsZj1mdW5jdGlvbihhLGIpe3JldHVybiBhLmpxbURhdGEoYil8fGEuY2xvc2VzdCgiZm9ybSwgZmllbGRzZXQiKS5qcW1EYXRhKGIpfSxnPWEoZCkuY2xvc2VzdCgibGFiZWwiKSxoPWcubGVuZ3RoP2c6YShkKS5jbG9zZXN0KCJmb3JtLCBmaWVsZHNldCwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImxhYmVsIikuZmlsdGVyKCJbZm9yPSciK2RbMF0uaWQrIiddIikuZmlyc3QoKSxpPWRbMF0udHlwZSxqPWYoZCwibWluaSIpfHxlLm1pbmksaz1pKyItb24iLGw9aSsiLW9mZiIsbT1mKGQsImljb25wb3MiKSxuPSJ1aS0iK2ssbz0idWktIitsO2lmKCJjaGVja2JveCI9PT1pfHwicmFkaW8iPT09aSl7YS5leHRlbmQodGhpcyx7bGFiZWw6aCxpbnB1dHR5cGU6aSxjaGVja2VkQ2xhc3M6bix1bmNoZWNrZWRDbGFzczpvLGNoZWNrZWRpY29uOmssdW5jaGVja2VkaWNvbjpsfSksZS50aGVtZXx8KGUudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LCJjIikpLGguYnV0dG9uTWFya3VwKHt0aGVtZTplLnRoZW1lLGljb246bCxzaGFkb3c6ITEsbWluaTpqLGljb25wb3M6bX0pO3ZhciBwPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7cC5jbGFzc05hbWU9InVpLSIraSxkLmFkZChoKS53cmFwQWxsKHApLGguYmluZCh7dm1vdXNlb3ZlcjpmdW5jdGlvbihiKXthKHRoaXMpLnBhcmVudCgpLmlzKCIudWktZGlzYWJsZWQiKSYmYi5zdG9wUHJvcGFnYXRpb24oKX0sdmNsaWNrOmZ1bmN0aW9uKGEpe3JldHVybiBkLmlzKCI6ZGlzYWJsZWQiKT8oYS5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMCk6KGIuX2NhY2hlVmFscygpLGQucHJvcCgiY2hlY2tlZCIsInJhZGlvIj09PWkmJiEwfHwhZC5wcm9wKCJjaGVja2VkIikpLGQudHJpZ2dlckhhbmRsZXIoImNsaWNrIiksYi5fZ2V0SW5wdXRTZXQoKS5ub3QoZCkucHJvcCgiY2hlY2tlZCIsITEpLGIuX3VwZGF0ZUFsbCgpLCExKX19KSxkLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oKXtiLl9jYWNoZVZhbHMoKX0sdmNsaWNrOmZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtjLmlzKCI6Y2hlY2tlZCIpPyhjLnByb3AoImNoZWNrZWQiLCEwKSxiLl9nZXRJbnB1dFNldCgpLm5vdChjKS5wcm9wKCJjaGVja2VkIiwhMSkpOmMucHJvcCgiY2hlY2tlZCIsITEpLGIuX3VwZGF0ZUFsbCgpfSxmb2N1czpmdW5jdGlvbigpe2guYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXtoLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMucmVmcmVzaCgpfX0sX2NhY2hlVmFsczpmdW5jdGlvbigpe3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe2EodGhpcykuanFtRGF0YSgiY2FjaGVWYWwiLHRoaXMuY2hlY2tlZCl9KX0sX2dldElucHV0U2V0OmZ1bmN0aW9uKCl7cmV0dXJuImNoZWNrYm94Ij09PXRoaXMuaW5wdXR0eXBlP3RoaXMuZWxlbWVudDp0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSwgOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpbmQoImlucHV0W25hbWU9JyIrdGhpcy5lbGVtZW50WzBdLm5hbWUrIiddW3R5cGU9JyIrdGhpcy5pbnB1dHR5cGUrIiddIil9LF91cGRhdGVBbGw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7KHRoaXMuY2hlY2tlZHx8ImNoZWNrYm94Ij09PWIuaW5wdXR0eXBlKSYmYy50cmlnZ2VyKCJjaGFuZ2UiKX0pLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnRbMF0sYz0iICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MsZD10aGlzLmNoZWNrZWRDbGFzcysodGhpcy5lbGVtZW50LnBhcmVudHMoIi51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCIpLmxlbmd0aD9jOiIiKSxlPXRoaXMubGFiZWw7Yi5jaGVja2VkP2UucmVtb3ZlQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcytjKS5hZGRDbGFzcyhkKS5idXR0b25NYXJrdXAoe2ljb246dGhpcy5jaGVja2VkaWNvbn0pOmUucmVtb3ZlQ2xhc3MoZCkuYWRkQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcykuYnV0dG9uTWFya3VwKHtpY29uOnRoaXMudW5jaGVja2VkaWNvbn0pLGIuZGlzYWJsZWQ/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITApLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCExKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuY2hlY2tib3hyYWRpby5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5idXR0b24iLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxpY29uOm51bGwsaWNvbnBvczpudWxsLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITAsaW5saW5lOm51bGwsbWluaTpudWxsLGluaXRTZWxlY3RvcjoiYnV0dG9uLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGIsYz10aGlzLmVsZW1lbnQsZD1mdW5jdGlvbihhKXt2YXIgYixjPXt9O2ZvcihiIGluIGEpbnVsbCE9PWFbYl0mJiJpbml0U2VsZWN0b3IiIT09YiYmKGNbYl09YVtiXSk7cmV0dXJuIGN9KHRoaXMub3B0aW9ucyksZT0iIjtyZXR1cm4iQSI9PT1jWzBdLnRhZ05hbWU/KGMuaGFzQ2xhc3MoInVpLWJ0biIpfHxjLmJ1dHRvbk1hcmt1cCgpLHZvaWQgMCk6KHRoaXMub3B0aW9ucy50aGVtZXx8KHRoaXMub3B0aW9ucy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsImMiKSksfmNbMF0uY2xhc3NOYW1lLmluZGV4T2YoInVpLWJ0bi1sZWZ0IikmJihlPSJ1aS1idG4tbGVmdCIpLH5jWzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tcmlnaHQiKSYmKGU9InVpLWJ0bi1yaWdodCIpLCgic3VibWl0Ij09PWMuYXR0cigidHlwZSIpfHwicmVzZXQiPT09Yy5hdHRyKCJ0eXBlIikpJiYoZT9lKz0iIHVpLXN1Ym1pdCI6ZT0idWktc3VibWl0IiksYSgibGFiZWxbZm9yPSciK2MuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktc3VibWl0IiksdGhpcy5idXR0b249YSgiPGRpdj48L2Rpdj4iKVtjLmh0bWwoKT8iaHRtbCI6InRleHQiXShjLmh0bWwoKXx8Yy52YWwoKSkuaW5zZXJ0QmVmb3JlKGMpLmJ1dHRvbk1hcmt1cChkKS5hZGRDbGFzcyhlKS5hcHBlbmQoYy5hZGRDbGFzcygidWktYnRuLWhpZGRlbiIpKSxiPXRoaXMuYnV0dG9uLGMuYmluZCh7Zm9jdXM6ZnVuY3Rpb24oKXtiLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX19KSx0aGlzLnJlZnJlc2goKSx2b2lkIDApfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9e307ZFtiXT1jLCJpbml0U2VsZWN0b3IiIT09YiYmKHRoaXMuYnV0dG9uLmJ1dHRvbk1hcmt1cChkKSx0aGlzLmVsZW1lbnQuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpK2IucmVwbGFjZSgvKFtBLVpdKS8sIi0kMSIpLnRvTG93ZXJDYXNlKCksYykpLHRoaXMuX3N1cGVyKCJfc2V0T3B0aW9uIixiLGMpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50O2IucHJvcCgiZGlzYWJsZWQiKT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpLGEodGhpcy5idXR0b24uZGF0YSgiYnV0dG9uRWxlbWVudHMiKS50ZXh0KVtiLmh0bWwoKT8iaHRtbCI6InRleHQiXShiLmh0bWwoKXx8Yi52YWwoKSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmJ1dHRvbi5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLnNsaWRlciIsYS5tb2JpbGUud2lkZ2V0LGEuZXh0ZW5kKHt3aWRnZXRFdmVudFByZWZpeDoic2xpZGUiLG9wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGRpc2FibGVkOiExLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ncmFuZ2UnXSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSwgOmpxbURhdGEocm9sZT0nc2xpZGVyJykiLG1pbmk6ITEsaGlnaGxpZ2h0OiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGUsZixnPXRoaXMsaD10aGlzLmVsZW1lbnQsaT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShoLCJjIiksaj10aGlzLm9wdGlvbnMudGhlbWV8fGksaz10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8aSxsPWhbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxtPSh0aGlzLmlzVG9nZ2xlU3dpdGNoPSJzZWxlY3QiPT09bCxoLnBhcmVudCgpLmlzKCI6anFtRGF0YShyb2xlPSdyYW5nZXNsaWRlcicpIikpLG49dGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyLXN3aXRjaCI6IiIsbz1oLmF0dHIoImlkIikscD1hKCJbZm9yPSciK28rIiddIikscT1wLmF0dHIoImlkIil8fG8rIi1sYWJlbCIscj1wLmF0dHIoImlkIixxKSxzPXRoaXMuaXNUb2dnbGVTd2l0Y2g/MDpwYXJzZUZsb2F0KGguYXR0cigibWluIikpLHQ9dGhpcy5pc1RvZ2dsZVN3aXRjaD9oLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xOnBhcnNlRmxvYXQoaC5hdHRyKCJtYXgiKSksdT1iLnBhcnNlRmxvYXQoaC5hdHRyKCJzdGVwIil8fDEpLHY9dGhpcy5vcHRpb25zLm1pbml8fGguanFtRGF0YSgibWluaSIpPyIgdWktbWluaSI6IiIsdz1jLmNyZWF0ZUVsZW1lbnQoImEiKSx4PWEodykseT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHo9YSh5KSxBPXRoaXMub3B0aW9ucy5oaWdobGlnaHQmJiF0aGlzLmlzVG9nZ2xlU3dpdGNoP2Z1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgdWktYnRuLWNvcm5lci1hbGwiLGEoYikucHJlcGVuZFRvKHopfSgpOiExO2lmKHcuc2V0QXR0cmlidXRlKCJocmVmIiwiIyIpLHkuc2V0QXR0cmlidXRlKCJyb2xlIiwiYXBwbGljYXRpb24iKSx5LmNsYXNzTmFtZT1bdGhpcy5pc1RvZ2dsZVN3aXRjaD8idWktc2xpZGVyICI6InVpLXNsaWRlci10cmFjayAiLG4sIiB1aS1idG4tZG93bi0iLGssIiB1aS1idG4tY29ybmVyLWFsbCIsdl0uam9pbigiIiksdy5jbGFzc05hbWU9InVpLXNsaWRlci1oYW5kbGUiLHkuYXBwZW5kQ2hpbGQodykseC5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITAsdGhlbWU6aixzaGFkb3c6ITB9KS5hdHRyKHtyb2xlOiJzbGlkZXIiLCJhcmlhLXZhbHVlbWluIjpzLCJhcmlhLXZhbHVlbWF4Ijp0LCJhcmlhLXZhbHVlbm93Ijp0aGlzLl92YWx1ZSgpLCJhcmlhLXZhbHVldGV4dCI6dGhpcy5fdmFsdWUoKSx0aXRsZTp0aGlzLl92YWx1ZSgpLCJhcmlhLWxhYmVsbGVkYnkiOnF9KSxhLmV4dGVuZCh0aGlzLHtzbGlkZXI6eixoYW5kbGU6eCx0eXBlOmwsc3RlcDp1LG1heDp0LG1pbjpzLHZhbHVlYmc6QSxpc1Jhbmdlc2xpZGVyOm0sZHJhZ2dpbmc6ITEsYmVmb3JlU3RhcnQ6bnVsbCx1c2VyTW9kaWZpZWQ6ITEsbW91c2VNb3ZlZDohMX0pLHRoaXMuaXNUb2dnbGVTd2l0Y2gpe2Y9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxmLmNsYXNzTmFtZT0idWktc2xpZGVyLWlubmVyb2Zmc2V0Ijtmb3IodmFyIEI9MCxDPXkuY2hpbGROb2Rlcy5sZW5ndGg7Qz5CO0IrKylmLmFwcGVuZENoaWxkKHkuY2hpbGROb2Rlc1tCXSk7eS5hcHBlbmRDaGlsZChmKSx4LmFkZENsYXNzKCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nIiksZT1oLmZpbmQoIm9wdGlvbiIpO2Zvcih2YXIgRD0wLEU9ZS5sZW5ndGg7RT5EO0QrKyl7dmFyIEY9RD8iYSI6ImIiLEc9RD8iICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3M6IiB1aS1idG4tZG93bi0iK2ssSD0oYy5jcmVhdGVFbGVtZW50KCJkaXYiKSxjLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7SC5jbGFzc05hbWU9WyJ1aS1zbGlkZXItbGFiZWwgdWktc2xpZGVyLWxhYmVsLSIsRixHLCIgdWktYnRuLWNvcm5lci1hbGwiXS5qb2luKCIiKSxILnNldEF0dHJpYnV0ZSgicm9sZSIsImltZyIpLEguYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShlW0RdLmlubmVySFRNTCkpLGEoSCkucHJlcGVuZFRvKHopfWcuX2xhYmVscz1hKCIudWktc2xpZGVyLWxhYmVsIix6KX1yLmFkZENsYXNzKCJ1aS1zbGlkZXIiKSxoLmFkZENsYXNzKHRoaXMuaXNUb2dnbGVTd2l0Y2g/InVpLXNsaWRlci1zd2l0Y2giOiJ1aS1zbGlkZXItaW5wdXQiKSx0aGlzLl9vbihoLHtjaGFuZ2U6Il9jb250cm9sQ2hhbmdlIixrZXl1cDoiX2NvbnRyb2xLZXl1cCIsYmx1cjoiX2NvbnRyb2xCbHVyIix2bW91c2V1cDoiX2NvbnRyb2xWTW91c2VVcCJ9KSx6LmJpbmQoInZtb3VzZWRvd24iLGEucHJveHkodGhpcy5fc2xpZGVyVk1vdXNlRG93bix0aGlzKSkuYmluZCgidmNsaWNrIiwhMSksdGhpcy5fb24oYyx7dm1vdXNlbW92ZToiX3ByZXZlbnREb2N1bWVudERyYWcifSksdGhpcy5fb24oei5hZGQoYykse3Ztb3VzZXVwOiJfc2xpZGVyVk1vdXNlVXAifSksei5pbnNlcnRBZnRlcihoKSx0aGlzLmlzVG9nZ2xlU3dpdGNofHxtfHwoZj10aGlzLm9wdGlvbnMubWluaT8iPGRpdiBjbGFzcz0ndWktc2xpZGVyIHVpLW1pbmknPiI6IjxkaXYgY2xhc3M9J3VpLXNsaWRlcic+IixoLmFkZCh6KS53cmFwQWxsKGYpKSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiZ0aGlzLmhhbmRsZS5iaW5kKHtmb2N1czpmdW5jdGlvbigpe3ouYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LGJsdXI6ZnVuY3Rpb24oKXt6LnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pLHRoaXMuX29uKHRoaXMuaGFuZGxlLHt2bW91c2Vkb3duOiJfaGFuZGxlVk1vdXNlRG93biIsa2V5ZG93bjoiX2hhbmRsZUtleWRvd24iLGtleXVwOiJfaGFuZGxlS2V5dXAifSksdGhpcy5oYW5kbGUuYmluZCgidmNsaWNrIiwhMSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5yZWZyZXNoKGQsZCwhMCl9LF9jb250cm9sQ2hhbmdlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJjb250cm9sY2hhbmdlIixhKT09PSExPyExOih0aGlzLm1vdXNlTW92ZWR8fHRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwKSx2b2lkIDApfSxfY29udHJvbEtleXVwOmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITAsITApfSxfY29udHJvbEJsdXI6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSwhMCl9LF9jb250cm9sVk1vdXNlVXA6ZnVuY3Rpb24oKXt0aGlzLl9jaGVja2VkUmVmcmVzaCgpfSxfaGFuZGxlVk1vdXNlRG93bjpmdW5jdGlvbigpe3RoaXMuaGFuZGxlLmZvY3VzKCl9LF9oYW5kbGVLZXlkb3duOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuX3ZhbHVlKCk7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6Yi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2tleVNsaWRpbmd8fCh0aGlzLl9rZXlTbGlkaW5nPSEwLHRoaXMuaGFuZGxlLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKSl9c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6dGhpcy5yZWZyZXNoKHRoaXMubWluKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOnRoaXMucmVmcmVzaCh0aGlzLm1heCk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDp0aGlzLnJlZnJlc2goYyt0aGlzLnN0ZXApO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6dGhpcy5yZWZyZXNoKGMtdGhpcy5zdGVwKX19fSxfaGFuZGxlS2V5dXA6ZnVuY3Rpb24oKXt0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMSx0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIikpfSxfc2xpZGVyVk1vdXNlRG93bjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zLmRpc2FibGVkfHwxIT09YS53aGljaCYmMCE9PWEud2hpY2gmJmEud2hpY2ghPT1kPyExOnRoaXMuX3RyaWdnZXIoImJlZm9yZXN0YXJ0IixhKT09PSExPyExOih0aGlzLmRyYWdnaW5nPSEwLHRoaXMudXNlck1vZGlmaWVkPSExLHRoaXMubW91c2VNb3ZlZD0hMSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiYodGhpcy5iZWZvcmVTdGFydD10aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCksdGhpcy5yZWZyZXNoKGEpLHRoaXMuX3RyaWdnZXIoInN0YXJ0IiksITEpfSxfc2xpZGVyVk1vdXNlVXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmFnZ2luZz8odGhpcy5kcmFnZ2luZz0hMSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiYodGhpcy5oYW5kbGUuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSx0aGlzLm1vdXNlTW92ZWQ/dGhpcy51c2VyTW9kaWZpZWQ/dGhpcy5yZWZyZXNoKDA9PT10aGlzLmJlZm9yZVN0YXJ0PzE6MCk6dGhpcy5yZWZyZXNoKHRoaXMuYmVmb3JlU3RhcnQpOnRoaXMucmVmcmVzaCgwPT09dGhpcy5iZWZvcmVTdGFydD8xOjApKSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5fdHJpZ2dlcigic3RvcCIpLCExKTp2b2lkIDB9LF9wcmV2ZW50RG9jdW1lbnREcmFnOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl90cmlnZ2VyKCJkcmFnIixhKT09PSExPyExOnRoaXMuZHJhZ2dpbmcmJiF0aGlzLm9wdGlvbnMuZGlzYWJsZWQ/KHRoaXMubW91c2VNb3ZlZD0hMCx0aGlzLmlzVG9nZ2xlU3dpdGNoJiZ0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLHRoaXMucmVmcmVzaChhKSx0aGlzLnVzZXJNb2RpZmllZD10aGlzLmJlZm9yZVN0YXJ0IT09dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgsITEpOnZvaWQgMH0sX2NoZWNrZWRSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy52YWx1ZSE9PXRoaXMuX3ZhbHVlKCkmJnRoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpKX0sX3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNUb2dnbGVTd2l0Y2g/dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg6cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQudmFsKCkpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goZCwhMSwhMCl9LHJlZnJlc2g6ZnVuY3Rpb24oYixkLGUpe3ZhciBmLGcsaCxpLGo9dGhpcyxrPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKHRoaXMuZWxlbWVudCwiYyIpLGw9dGhpcy5vcHRpb25zLnRoZW1lfHxrLG09dGhpcy5vcHRpb25zLnRyYWNrVGhlbWV8fGs7ai5zbGlkZXJbMF0uY2xhc3NOYW1lPVt0aGlzLmlzVG9nZ2xlU3dpdGNoPyJ1aS1zbGlkZXIgdWktc2xpZGVyLXN3aXRjaCI6InVpLXNsaWRlci10cmFjayIsIiB1aS1idG4tZG93bi0iK20sIiB1aS1idG4tY29ybmVyLWFsbCIsdGhpcy5vcHRpb25zLm1pbmk/IiB1aS1taW5pIjoiIl0uam9pbigiIiksKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIikpJiZ0aGlzLmRpc2FibGUoKSx0aGlzLnZhbHVlPXRoaXMuX3ZhbHVlKCksdGhpcy5vcHRpb25zLmhpZ2hsaWdodCYmIXRoaXMuaXNUb2dnbGVTd2l0Y2gmJjA9PT10aGlzLnNsaWRlci5maW5kKCIudWktc2xpZGVyLWJnIikubGVuZ3RoJiYodGhpcy52YWx1ZWJnPWZ1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gYi5jbGFzc05hbWU9InVpLXNsaWRlci1iZyAiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKyIgdWktYnRuLWNvcm5lci1hbGwiLGEoYikucHJlcGVuZFRvKGouc2xpZGVyKX0oKSksdGhpcy5oYW5kbGUuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiEwLHRoZW1lOmwsc2hhZG93OiEwfSk7dmFyIG4sbyxwPXRoaXMuZWxlbWVudCxxPSF0aGlzLmlzVG9nZ2xlU3dpdGNoLHI9cT9bXTpwLmZpbmQoIm9wdGlvbiIpLHM9cT9wYXJzZUZsb2F0KHAuYXR0cigibWluIikpOjAsdD1xP3BhcnNlRmxvYXQocC5hdHRyKCJtYXgiKSk6ci5sZW5ndGgtMSx1PXEmJnBhcnNlRmxvYXQocC5hdHRyKCJzdGVwIikpPjA/cGFyc2VGbG9hdChwLmF0dHIoInN0ZXAiKSk6MTtpZigib2JqZWN0Ij09dHlwZW9mIGIpe2lmKGg9YixpPTgsZj10aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0LGc9dGhpcy5zbGlkZXIud2lkdGgoKSxuPWcvKCh0LXMpL3UpLCF0aGlzLmRyYWdnaW5nfHxoLnBhZ2VYPGYtaXx8aC5wYWdlWD5mK2craSlyZXR1cm47bz1uPjE/MTAwKigoaC5wYWdlWC1mKS9nKTpNYXRoLnJvdW5kKDEwMCooKGgucGFnZVgtZikvZykpfWVsc2UgbnVsbD09YiYmKGI9cT9wYXJzZUZsb2F0KHAudmFsKCl8fDApOnBbMF0uc2VsZWN0ZWRJbmRleCksbz0xMDAqKChwYXJzZUZsb2F0KGIpLXMpLyh0LXMpKTtpZighaXNOYU4obykpe3ZhciB2PW8vMTAwKih0LXMpK3Msdz0odi1zKSV1LHg9di13OzIqTWF0aC5hYnModyk+PXUmJih4Kz13PjA/dTotdSk7dmFyIHk9MTAwLygodC1zKS91KTtpZih2PXBhcnNlRmxvYXQoeC50b0ZpeGVkKDUpKSwidW5kZWZpbmVkIj09dHlwZW9mIG4mJihuPWcvKCh0LXMpL3UpKSxuPjEmJnEmJihvPSh2LXMpKnkqKDEvdSkpLDA+byYmKG89MCksbz4xMDAmJihvPTEwMCkscz52JiYodj1zKSx2PnQmJih2PXQpLHRoaXMuaGFuZGxlLmNzcygibGVmdCIsbysiJSIpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZW5vdyIscT92OnIuZXEodikuYXR0cigidmFsdWUiKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVldGV4dCIscT92OnIuZXEodikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCJ0aXRsZSIscT92OnIuZXEodikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy52YWx1ZWJnJiZ0aGlzLnZhbHVlYmcuY3NzKCJ3aWR0aCIsbysiJSIpLHRoaXMuX2xhYmVscyl7dmFyIHo9MTAwKih0aGlzLmhhbmRsZS53aWR0aCgpL3RoaXMuc2xpZGVyLndpZHRoKCkpLEE9byYmeisoMTAwLXopKm8vMTAwLEI9MTAwPT09bz8wOk1hdGgubWluKHorMTAwLUEsMTAwKTt0aGlzLl9sYWJlbHMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuaXMoIi51aS1zbGlkZXItbGFiZWwtYSIpO2EodGhpcykud2lkdGgoKGI/QTpCKSsiJSIpfSl9aWYoIWUpe3ZhciBDPSExO2lmKHE/KEM9cC52YWwoKSE9PXYscC52YWwodikpOihDPXBbMF0uc2VsZWN0ZWRJbmRleCE9PXYscFswXS5zZWxlY3RlZEluZGV4PXYpLHRoaXMuX3RyaWdnZXIoImJlZm9yZWNoYW5nZSIsYik9PT0hMSlyZXR1cm4hMTshZCYmQyYmcC50cmlnZ2VyKCJjaGFuZ2UiKX19fSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSksdGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpLHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKSx0aGlzLnNsaWRlci5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5zbGlkZXIucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsITApfSl9KGEpLGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUucmFuZ2VzbGlkZXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCx0cmFja1RoZW1lOm51bGwsZGlzYWJsZWQ6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdyYW5nZXNsaWRlcicpIixtaW5pOiExLGhpZ2hsaWdodDohMH0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5lbGVtZW50LGQ9dGhpcy5vcHRpb25zLm1pbmk/InVpLXJhbmdlc2xpZGVyIHVpLW1pbmkiOiJ1aS1yYW5nZXNsaWRlciIsZT1jLmZpbmQoImlucHV0IikuZmlyc3QoKSxmPWMuZmluZCgiaW5wdXQiKS5sYXN0KCksZz1jLmZpbmQoImxhYmVsIikuZmlyc3QoKSxoPWEuZGF0YShlLmdldCgwKSwibW9iaWxlU2xpZGVyIikuc2xpZGVyLGk9YS5kYXRhKGYuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5zbGlkZXIsaj1hLmRhdGEoZS5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZSxrPWEoJzxkaXYgY2xhc3M9InVpLXJhbmdlc2xpZGVyLXNsaWRlcnMiIC8+JykuYXBwZW5kVG8oYyk7Yy5maW5kKCJsYWJlbCIpLmxlbmd0aD4xJiYoYj1jLmZpbmQoImxhYmVsIikubGFzdCgpLmhpZGUoKSksZS5hZGRDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QiKSxmLmFkZENsYXNzKCJ1aS1yYW5nZXNsaWRlci1sYXN0IiksYy5hZGRDbGFzcyhkKSxoLmFwcGVuZFRvKGspLGkuYXBwZW5kVG8oayksZy5wcmVwZW5kVG8oYyksai5wcmVwZW5kVG8oaSksYS5leHRlbmQodGhpcyx7X2lucHV0Rmlyc3Q6ZSxfaW5wdXRMYXN0OmYsX3NsaWRlckZpcnN0OmgsX3NsaWRlckxhc3Q6aSxfdGFyZ2V0VmFsOm51bGwsX3NsaWRlclRhcmdldDohMSxfc2xpZGVyczprLF9wcm94eTohMX0pLHRoaXMucmVmcmVzaCgpLHRoaXMuX29uKHRoaXMuZWxlbWVudC5maW5kKCJpbnB1dC51aS1zbGlkZXItaW5wdXQiKSx7c2xpZGViZWZvcmVzdGFydDoiX3NsaWRlYmVmb3Jlc3RhcnQiLHNsaWRlc3RvcDoiX3NsaWRlc3RvcCIsc2xpZGVkcmFnOiJfc2xpZGVkcmFnIixzbGlkZWJlZm9yZWNoYW5nZToiX2NoYW5nZSIsYmx1cjoiX2NoYW5nZSIsa2V5dXA6Il9jaGFuZ2UifSksdGhpcy5fb24oe21vdXNlZG93bjoiX2NoYW5nZSJ9KSx0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSIpLHtyZXNldDoiX2hhbmRsZVJlc2V0In0pLHRoaXMuX29uKGose3Ztb3VzZWRvd246Il9kcmFnRmlyc3RIYW5kbGUifSl9LF9oYW5kbGVSZXNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuX3VwZGF0ZUhpZ2hsaWdodCgpfSwwKX0sX2RyYWdGaXJzdEhhbmRsZTpmdW5jdGlvbihiKXtyZXR1cm4gYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5kcmFnZ2luZz0hMCxhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLnJlZnJlc2goYiksITF9LF9zbGlkZWRyYWc6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCksZD1jP3RoaXMuX2lucHV0TGFzdDp0aGlzLl9pbnB1dEZpcnN0O3JldHVybiB0aGlzLl9zbGlkZXJUYXJnZXQ9ITEsImZpcnN0Ij09PXRoaXMuX3Byb3h5JiZjfHwibGFzdCI9PT10aGlzLl9wcm94eSYmIWM/KGEuZGF0YShkLmdldCgwKSwibW9iaWxlU2xpZGVyIikuZHJhZ2dpbmc9ITAsYS5kYXRhKGQuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5yZWZyZXNoKGIpLCExKTp2b2lkIDB9LF9zbGlkZXN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuaXModGhpcy5faW5wdXRGaXJzdCk7dGhpcy5fcHJveHk9ITEsdGhpcy5lbGVtZW50LmZpbmQoImlucHV0IikudHJpZ2dlcigidm1vdXNldXAiKSx0aGlzLl9zbGlkZXJGaXJzdC5jc3MoInotaW5kZXgiLGM/MToiIil9LF9zbGlkZWJlZm9yZXN0YXJ0OmZ1bmN0aW9uKGIpe3RoaXMuX3NsaWRlclRhcmdldD0hMSxhKGIub3JpZ2luYWxFdmVudC50YXJnZXQpLmhhc0NsYXNzKCJ1aS1zbGlkZXItdHJhY2siKSYmKHRoaXMuX3NsaWRlclRhcmdldD0hMCx0aGlzLl90YXJnZXRWYWw9YShiLnRhcmdldCkudmFsKCkpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuX3N1cGVyQXBwbHkoYSksdGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnM7YS5maW5kKCJpbnB1dCIpLnNsaWRlcih7dGhlbWU6Yi50aGVtZSx0cmFja1RoZW1lOmIudHJhY2tUaGVtZSxkaXNhYmxlZDpiLmRpc2FibGVkLG1pbmk6Yi5taW5pLGhpZ2hsaWdodDpiLmhpZ2hsaWdodH0pLnNsaWRlcigicmVmcmVzaCIpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpfSxfY2hhbmdlOmZ1bmN0aW9uKGIpe2lmKCJrZXl1cCI9PT1iLnR5cGUpcmV0dXJuIHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLCExO3ZhciBjPXRoaXMsZD1wYXJzZUZsb2F0KHRoaXMuX2lucHV0Rmlyc3QudmFsKCksMTApLGU9cGFyc2VGbG9hdCh0aGlzLl9pbnB1dExhc3QudmFsKCksMTApLGY9YShiLnRhcmdldCkuaGFzQ2xhc3MoInVpLXJhbmdlc2xpZGVyLWZpcnN0IiksZz1mP3RoaXMuX2lucHV0Rmlyc3Q6dGhpcy5faW5wdXRMYXN0LGg9Zj90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtpZih0aGlzLl9pbnB1dEZpcnN0LnZhbCgpPnRoaXMuX2lucHV0TGFzdC52YWwoKSYmIm1vdXNlZG93biI9PT1iLnR5cGUmJiFhKGIudGFyZ2V0KS5oYXNDbGFzcygidWktc2xpZGVyLWhhbmRsZSIpKWcuYmx1cigpO2Vsc2UgaWYoIm1vdXNlZG93biI9PT1iLnR5cGUpcmV0dXJuO3JldHVybiBkPmUmJiF0aGlzLl9zbGlkZXJUYXJnZXQ/KGcudmFsKGY/ZTpkKS5zbGlkZXIoInJlZnJlc2giKSx0aGlzLl90cmlnZ2VyKCJub3JtYWxpemUiKSk6ZD5lJiYoZy52YWwodGhpcy5fdGFyZ2V0VmFsKS5zbGlkZXIoInJlZnJlc2giKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aC52YWwoZj9kOmUpLnNsaWRlcigicmVmcmVzaCIpLGEuZGF0YShoLmdldCgwKSwibW9iaWxlU2xpZGVyIikuaGFuZGxlLmZvY3VzKCksYy5fc2xpZGVyRmlyc3QuY3NzKCJ6LWluZGV4IixmPyIiOjEpLGMuX3RyaWdnZXIoIm5vcm1hbGl6ZSIpfSwwKSx0aGlzLl9wcm94eT1mPyJmaXJzdCI6Imxhc3QiKSxkPT09ZT8oYS5kYXRhKGcuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwxKSxhLmRhdGEoaC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5jc3MoInotaW5kZXgiLDApKTooYS5kYXRhKGguZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIiksYS5kYXRhKGcuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuY3NzKCJ6LWluZGV4IiwiIikpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpLGQ+PWU/ITE6dm9pZCAwfSxfdXBkYXRlSGlnaGxpZ2h0OmZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VJbnQoYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCJtb2JpbGVTbGlkZXIiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLGM9cGFyc2VJbnQoYS5kYXRhKHRoaXMuX2lucHV0TGFzdC5nZXQoMCksIm1vYmlsZVNsaWRlciIpLmhhbmRsZS5nZXQoMCkuc3R5bGUubGVmdCwxMCksZD1jLWI7dGhpcy5lbGVtZW50LmZpbmQoIi51aS1zbGlkZXItYmciKS5jc3MoeyJtYXJnaW4tbGVmdCI6YisiJSIsd2lkdGg6ZCsiJSJ9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoInVpLXJhbmdlc2xpZGVyIHVpLW1pbmkiKS5maW5kKCJsYWJlbCIpLnNob3coKSx0aGlzLl9pbnB1dEZpcnN0LmFmdGVyKHRoaXMuX3NsaWRlckZpcnN0KSx0aGlzLl9pbnB1dExhc3QuYWZ0ZXIodGhpcy5fc2xpZGVyTGFzdCksdGhpcy5fc2xpZGVycy5yZW1vdmUoKSx0aGlzLmVsZW1lbnQuZmluZCgiaW5wdXQiKS5yZW1vdmVDbGFzcygidWktcmFuZ2VzbGlkZXItZmlyc3QgdWktcmFuZ2VzbGlkZXItbGFzdCIpLnNsaWRlcigiZGVzdHJveSIpfX0pLGEud2lkZ2V0KCJtb2JpbGUucmFuZ2VzbGlkZXIiLGEubW9iaWxlLnJhbmdlc2xpZGVyLGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpLGEoYykuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLnJhbmdlc2xpZGVyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LCEwKX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGEubW9iaWxlLndpZGdldCxhLmV4dGVuZCh7b3B0aW9uczp7dGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpY29uOiJhcnJvdy1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOiExLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITAsb3ZlcmxheVRoZW1lOiJhIixkaXZpZGVyVGhlbWU6ImIiLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczohMCxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OiEwLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xLGluaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCggOmpxbURhdGEocm9sZT0nc2xpZGVyJykgKSIsbWluaTohMX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8ZGl2Lz4iKQ0KfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsYSksdGhpcy5idXR0b24uYXR0cigiYXJpYS1kaXNhYmxlZCIsYSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsYSl9LF9mb2N1c0J1dHRvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuYnV0dG9uLmZvY3VzKCl9LDQwKX0sX3NlbGVjdE9wdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3QuZmluZCgib3B0aW9uIil9LF9wcmVFeHRlbnNpb246ZnVuY3Rpb24oKXt2YXIgYj0iIjt+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1idG4tbGVmdCIpJiYoYj0iIHVpLWJ0bi1sZWZ0IiksfnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZigidWktYnRuLXJpZ2h0IikmJihiPSIgdWktYnRuLXJpZ2h0IiksdGhpcy5zZWxlY3Q9dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHQiKS53cmFwKCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3QiK2IrIic+IiksdGhpcy5zZWxlY3RJRD10aGlzLnNlbGVjdC5hdHRyKCJpZCIpLHRoaXMubGFiZWw9YSgibGFiZWxbZm9yPSciK3RoaXMuc2VsZWN0SUQrIiddIikuYWRkQ2xhc3MoInVpLXNlbGVjdCIpLHRoaXMuaXNNdWx0aXBsZT10aGlzLnNlbGVjdFswXS5tdWx0aXBsZSx0aGlzLm9wdGlvbnMudGhlbWV8fCh0aGlzLm9wdGlvbnMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5zZWxlY3QsImMiKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LnBhcmVudHMoIi51aS1zZWxlY3QiKTthLmxlbmd0aD4wJiYoYS5pcygiLnVpLWJ0bi1sZWZ0LCAudWktYnRuLXJpZ2h0IikmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyhhLmlzKCIudWktYnRuLWxlZnQiKT8idWktYnRuLWxlZnQiOiJ1aS1idG4tcmlnaHQiKSx0aGlzLmVsZW1lbnQuaW5zZXJ0QWZ0ZXIoYSksYS5yZW1vdmUoKSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9wcmVFeHRlbnNpb24oKSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVDcmVhdGUiKSx0aGlzLmJ1dHRvbj10aGlzLl9idXR0b24oKTt2YXIgYz10aGlzLGQ9dGhpcy5vcHRpb25zLGU9ZC5pbmxpbmV8fHRoaXMuc2VsZWN0LmpxbURhdGEoImlubGluZSIpLGY9ZC5taW5pfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJtaW5pIiksZz1kLmljb24/ZC5pY29ucG9zfHx0aGlzLnNlbGVjdC5qcW1EYXRhKCJpY29ucG9zIik6ITEsaD0oLTE9PT10aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4PzA6dGhpcy5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleCx0aGlzLmJ1dHRvbi5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3QpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6ZC50aGVtZSxpY29uOmQuaWNvbixpY29ucG9zOmcsaW5saW5lOmUsY29ybmVyczpkLmNvcm5lcnMsc2hhZG93OmQuc2hhZG93LGljb25zaGFkb3c6ZC5pY29uc2hhZG93LG1pbmk6Zn0pKTt0aGlzLnNldEJ1dHRvblRleHQoKSxkLm5hdGl2ZU1lbnUmJmIub3BlcmEmJmIub3BlcmEudmVyc2lvbiYmaC5hZGRDbGFzcygidWktc2VsZWN0LW5hdGl2ZW9ubHkiKSx0aGlzLmlzTXVsdGlwbGUmJih0aGlzLmJ1dHRvbkNvdW50PWEoIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1saS1jb3VudCB1aS1idG4tdXAtYyB1aS1idG4tY29ybmVyLWFsbCIpLmhpZGUoKS5hcHBlbmRUbyhoLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKSkpLChkLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMuc2VsZWN0LmNoYW5nZShmdW5jdGlvbigpe2MucmVmcmVzaCgpLGQubmF0aXZlTWVudSYmdGhpcy5ibHVyKCl9KSx0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKSx0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyhiLmJ1dHRvbikuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJmb2N1cyIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoImJsdXIiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKCJmb2N1cyB2bW91c2VvdmVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIixmdW5jdGlvbigpe2IuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK2Iub3B0aW9ucy50aGVtZSl9KSxiLmJ1dHRvbi5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5sYWJlbC5iaW5kKCJjbGljayBmb2N1cyIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKX0pLGIuc2VsZWN0LmJpbmQoImZvY3VzIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5idXR0b24uYmluZCgibW91c2V1cCIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sMCl9KSxiLnNlbGVjdC5iaW5kKCJibHVyIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCl9KX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYS5fc2VsZWN0T3B0aW9ucygpLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5zZWxlY3RlZCgpLGU9dGhpcy5wbGFjZWhvbGRlcixmPWEoYy5jcmVhdGVFbGVtZW50KCJzcGFuIikpO3RoaXMuYnV0dG9uLmZpbmQoIi51aS1idG4tdGV4dCIpLmh0bWwoZnVuY3Rpb24oKXtyZXR1cm4gZT1kLmxlbmd0aD9kLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oIiwgIik6Yi5wbGFjZWhvbGRlcixmLnRleHQoZSkuYWRkQ2xhc3MoYi5zZWxlY3QuYXR0cigiY2xhc3MiKSkuYWRkQ2xhc3MoZC5hdHRyKCJjbGFzcyIpKX0pfSxzZXRCdXR0b25Db3VudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2VsZWN0ZWQoKTt0aGlzLmlzTXVsdGlwbGUmJnRoaXMuYnV0dG9uQ291bnRbYS5sZW5ndGg+MT8ic2hvdyI6ImhpZGUiXSgpLnRleHQoYS5sZW5ndGgpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuc2V0QnV0dG9uVGV4dCgpLHRoaXMuc2V0QnV0dG9uQ291bnQoKX0sb3BlbjphLm5vb3AsY2xvc2U6YS5ub29wLGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCghMCksdGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCExKSx0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUuc2VsZWN0bWVudS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCwhMCl9KX0oYSksZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBlKGEsYixjLGQpe3ZhciBlPWQ7cmV0dXJuIGU9Yj5hP2MrKGEtYikvMjpNYXRoLm1pbihNYXRoLm1heChjLGQtYi8yKSxjK2EtYil9ZnVuY3Rpb24gZigpe3ZhciBjPWEubW9iaWxlLndpbmRvdztyZXR1cm57eDpjLnNjcm9sbExlZnQoKSx5OmMuc2Nyb2xsVG9wKCksY3g6Yi5pbm5lcldpZHRofHxjLndpZHRoKCksY3k6Yi5pbm5lckhlaWdodHx8Yy5oZWlnaHQoKX19YS53aWRnZXQoIm1vYmlsZS5wb3B1cCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLG92ZXJsYXlUaGVtZTpudWxsLHNoYWRvdzohMCxjb3JuZXJzOiEwLHRyYW5zaXRpb246Im5vbmUiLHBvc2l0aW9uVG86Im9yaWdpbiIsdG9sZXJhbmNlOm51bGwsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdwb3B1cCcpIixjbG9zZUxpbmtTZWxlY3RvcjoiYTpqcW1EYXRhKHJlbD0nYmFjaycpIixjbG9zZUxpbmtFdmVudHM6ImNsaWNrLnBvcHVwIixuYXZpZ2F0ZUV2ZW50czoibmF2aWdhdGUucG9wdXAiLGNsb3NlRXZlbnRzOiJuYXZpZ2F0ZS5wb3B1cCBwYWdlYmVmb3JlY2hhbmdlLnBvcHVwIixkaXNtaXNzaWJsZTohMCxoaXN0b3J5OiFhLm1vYmlsZS5icm93c2VyLm9sZElFfSxfZWF0RXZlbnRBbmRDbG9zZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5vcHRpb25zLmRpc21pc3NpYmxlJiZ0aGlzLmNsb3NlKCksITF9LF9yZXNpemVTY3JlZW46ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl91aS5jb250YWluZXIub3V0ZXJIZWlnaHQoITApO3RoaXMuX3VpLnNjcmVlbi5yZW1vdmVBdHRyKCJzdHlsZSIpLGE+dGhpcy5fdWkuc2NyZWVuLmhlaWdodCgpJiZ0aGlzLl91aS5zY3JlZW4uaGVpZ2h0KGEpfSxfaGFuZGxlV2luZG93S2V5VXA6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX2lzT3BlbiYmYi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FU0NBUEU/dGhpcy5fZWF0RXZlbnRBbmRDbG9zZShiKTp2b2lkIDB9LF9leHBlY3RSZXNpemVFdmVudDpmdW5jdGlvbigpe3ZhciBiPWYoKTtpZih0aGlzLl9yZXNpemVEYXRhKXtpZihiLng9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy54JiZiLnk9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy55JiZiLmN4PT09dGhpcy5fcmVzaXplRGF0YS53aW5Db29yZHMuY3gmJmIuY3k9PT10aGlzLl9yZXNpemVEYXRhLndpbkNvb3Jkcy5jeSlyZXR1cm4hMTtjbGVhclRpbWVvdXQodGhpcy5fcmVzaXplRGF0YS50aW1lb3V0SWQpfXJldHVybiB0aGlzLl9yZXNpemVEYXRhPXt0aW1lb3V0SWQ6c2V0VGltZW91dChhLnByb3h5KHRoaXMsIl9yZXNpemVUaW1lb3V0IiksMjAwKSx3aW5Db29yZHM6Yn0sITB9LF9yZXNpemVUaW1lb3V0OmZ1bmN0aW9uKCl7dGhpcy5faXNPcGVuP3RoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCl8fCh0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpJiYodGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKSx0aGlzLnJlcG9zaXRpb24oe3Bvc2l0aW9uVG86IndpbmRvdyJ9KSx0aGlzLl9pZ25vcmVSZXNpemVFdmVudHMoKSksdGhpcy5fcmVzaXplU2NyZWVuKCksdGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSk6KHRoaXMuX3Jlc2l6ZURhdGE9bnVsbCx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITEpfSxfaWdub3JlUmVzaXplRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLl9pZ25vcmVSZXNpemVUbyYmY2xlYXJUaW1lb3V0KHRoaXMuX2lnbm9yZVJlc2l6ZVRvKSx0aGlzLl9pZ25vcmVSZXNpemVUbz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5faWdub3JlUmVzaXplVG89MH0sMWUzKX0sX2hhbmRsZVdpbmRvd1Jlc2l6ZTpmdW5jdGlvbigpe3RoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYoIXRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCkmJiF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3N8fHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcygidWktcG9wdXAtaGlkZGVuIil8fHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcygidWktcG9wdXAtaGlkZGVuIikucmVtb3ZlQXR0cigic3R5bGUiKSl9LF9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZTpmdW5jdGlvbigpeyF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3MmJnRoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYodGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKSx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITApfSxfaGFuZGxlRG9jdW1lbnRGb2N1c0luOmZ1bmN0aW9uKGIpe3ZhciBkLGU9Yi50YXJnZXQsZj10aGlzLl91aTtpZih0aGlzLl9pc09wZW4pe2lmKGUhPT1mLmNvbnRhaW5lclswXSl7aWYoZD1hKGIudGFyZ2V0KSwwPT09ZC5wYXJlbnRzKCkuZmlsdGVyKGYuY29udGFpbmVyWzBdKS5sZW5ndGgpcmV0dXJuIGEoYy5hY3RpdmVFbGVtZW50KS5vbmUoImZvY3VzIixmdW5jdGlvbigpe2QuYmx1cigpfSksZi5mb2N1c0VsZW1lbnQuZm9jdXMoKSxiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwhMTtmLmZvY3VzRWxlbWVudFswXT09PWYuY29udGFpbmVyWzBdJiYoZi5mb2N1c0VsZW1lbnQ9ZCl9dGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCl9fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9e3NjcmVlbjphKCI8ZGl2IGNsYXNzPSd1aS1zY3JlZW4taGlkZGVuIHVpLXBvcHVwLXNjcmVlbic+PC9kaXY+IikscGxhY2Vob2xkZXI6YSgiPGRpdiBzdHlsZT0nZGlzcGxheTogbm9uZTsnPjwhLS0gcGxhY2Vob2xkZXIgLS0+PC9kaXY+IiksY29udGFpbmVyOmEoIjxkaXYgY2xhc3M9J3VpLXBvcHVwLWNvbnRhaW5lciB1aS1wb3B1cC1oaWRkZW4nPjwvZGl2PiIpfSxjPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpLGQ9dGhpcy5lbGVtZW50LmF0dHIoImlkIiksZT10aGlzLm9wdGlvbnM7ZS5oaXN0b3J5PWUuaGlzdG9yeSYmYS5tb2JpbGUuYWpheEVuYWJsZWQmJmEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkLDA9PT1jLmxlbmd0aCYmKGM9YSgiYm9keSIpKSxlLmNvbnRhaW5lcj1lLmNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcnx8YyxjLmFwcGVuZChiLnNjcmVlbiksYi5jb250YWluZXIuaW5zZXJ0QWZ0ZXIoYi5zY3JlZW4pLGIucGxhY2Vob2xkZXIuaW5zZXJ0QWZ0ZXIodGhpcy5lbGVtZW50KSxkJiYoYi5zY3JlZW4uYXR0cigiaWQiLGQrIi1zY3JlZW4iKSxiLmNvbnRhaW5lci5hdHRyKCJpZCIsZCsiLXBvcHVwIiksYi5wbGFjZWhvbGRlci5odG1sKCI8IS0tIHBsYWNlaG9sZGVyIGZvciAiK2QrIiAtLT4iKSksYi5jb250YWluZXIuYXBwZW5kKHRoaXMuZWxlbWVudCksYi5mb2N1c0VsZW1lbnQ9Yi5jb250YWluZXIsdGhpcy5lbGVtZW50LmFkZENsYXNzKCJ1aS1wb3B1cCIpLGEuZXh0ZW5kKHRoaXMse19zY3JvbGxUb3A6MCxfcGFnZTpjLF91aTpiLF9mYWxsYmFja1RyYW5zaXRpb246IiIsX2N1cnJlbnRUcmFuc2l0aW9uOiExLF9wcmVyZXFzOm51bGwsX2lzT3BlbjohMSxfdG9sZXJhbmNlOm51bGwsX3Jlc2l6ZURhdGE6bnVsbCxfaWdub3JlUmVzaXplVG86MCxfb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzOiExfSksdGhpcy5fYXBwbHlUaGVtZSh0aGlzLmVsZW1lbnQsZS50aGVtZSwiYm9keSIpLHRoaXMuX2FwcGx5VGhlbWUodGhpcy5fdWkuc2NyZWVuLGUub3ZlcmxheVRoZW1lLCJvdmVybGF5IiksdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGUudHJhbnNpdGlvbiksdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1vdmVybGF5LXNoYWRvdyIsZS5zaGFkb3cpLnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixlLmNvcm5lcnMpLHRoaXMuX3NldFRvbGVyYW5jZShlLnRvbGVyYW5jZSksYi5zY3JlZW4uYmluZCgidmNsaWNrIixhLnByb3h5KHRoaXMsIl9lYXRFdmVudEFuZENsb3NlIikpLHRoaXMuX29uKGEubW9iaWxlLndpbmRvdyx7b3JpZW50YXRpb25jaGFuZ2U6YS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93T3JpZW50YXRpb25jaGFuZ2UiKSxyZXNpemU6YS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93UmVzaXplIiksa2V5dXA6YS5wcm94eSh0aGlzLCJfaGFuZGxlV2luZG93S2V5VXAiKX0pLHRoaXMuX29uKGEubW9iaWxlLmRvY3VtZW50LHtmb2N1c2luOmEucHJveHkodGhpcywiX2hhbmRsZURvY3VtZW50Rm9jdXNJbiIpfSl9LF9hcHBseVRoZW1lOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQsZT0oYS5hdHRyKCJjbGFzcyIpfHwiIikuc3BsaXQoIiAiKSxmPW51bGwsZz1TdHJpbmcoYik7ZS5sZW5ndGg+MDspe2lmKGY9ZS5wb3AoKSxkPW5ldyBSZWdFeHAoIl51aS0iK2MrIi0oW2Etel0pJCIpLmV4ZWMoZiksZCYmZC5sZW5ndGg+MSl7Zj1kWzFdO2JyZWFrfWY9bnVsbH1iIT09ZiYmKGEucmVtb3ZlQ2xhc3MoInVpLSIrYysiLSIrZiksbnVsbCE9PWImJiJub25lIiE9PWImJmEuYWRkQ2xhc3MoInVpLSIrYysiLSIrZykpfSxfc2V0VGhlbWU6ZnVuY3Rpb24oYSl7dGhpcy5fYXBwbHlUaGVtZSh0aGlzLmVsZW1lbnQsYSwiYm9keSIpfSxfc2V0T3ZlcmxheVRoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuX2FwcGx5VGhlbWUodGhpcy5fdWkuc2NyZWVuLGEsIm92ZXJsYXkiKSx0aGlzLl9pc09wZW4mJnRoaXMuX3VpLnNjcmVlbi5hZGRDbGFzcygiaW4iKX0sX3NldFNoYWRvdzpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLW92ZXJsYXktc2hhZG93IixhKX0sX3NldENvcm5lcnM6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1jb3JuZXItYWxsIixhKX0sX2FwcGx5VHJhbnNpdGlvbjpmdW5jdGlvbihiKXt0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSxiJiYibm9uZSIhPT1iJiYodGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKGIpLCJub25lIj09PXRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbiYmKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbj0iIiksdGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbikpfSxfc2V0VHJhbnNpdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9jdXJyZW50VHJhbnNpdGlvbnx8dGhpcy5fYXBwbHlUcmFuc2l0aW9uKGEpfSxfc2V0VG9sZXJhbmNlOmZ1bmN0aW9uKGIpe3ZhciBjPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZihiIT09ZCl7dmFyIGU9U3RyaW5nKGIpLnNwbGl0KCIsIik7c3dpdGNoKGEuZWFjaChlLGZ1bmN0aW9uKGEsYil7ZVthXT1wYXJzZUludChiLDEwKX0pLGUubGVuZ3RoKXtjYXNlIDE6aXNOYU4oZVswXSl8fChjLnQ9Yy5yPWMuYj1jLmw9ZVswXSk7YnJlYWs7Y2FzZSAyOmlzTmFOKGVbMF0pfHwoYy50PWMuYj1lWzBdKSxpc05hTihlWzFdKXx8KGMubD1jLnI9ZVsxXSk7YnJlYWs7Y2FzZSA0OmlzTmFOKGVbMF0pfHwoYy50PWVbMF0pLGlzTmFOKGVbMV0pfHwoYy5yPWVbMV0pLGlzTmFOKGVbMl0pfHwoYy5iPWVbMl0pLGlzTmFOKGVbM10pfHwoYy5sPWVbM10pfX10aGlzLl90b2xlcmFuY2U9Y30sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPSJfc2V0IithLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSk7dGhpc1tjXSE9PWQmJnRoaXNbY10oYiksdGhpcy5fc3VwZXIoYSxiKX0sX3BsYWNlbWVudENvb3JkczpmdW5jdGlvbihhKXt2YXIgYixkLGc9ZigpLGg9e3g6dGhpcy5fdG9sZXJhbmNlLmwseTpnLnkrdGhpcy5fdG9sZXJhbmNlLnQsY3g6Zy5jeC10aGlzLl90b2xlcmFuY2UubC10aGlzLl90b2xlcmFuY2UucixjeTpnLmN5LXRoaXMuX3RvbGVyYW5jZS50LXRoaXMuX3RvbGVyYW5jZS5ifTt0aGlzLl91aS5jb250YWluZXIuY3NzKCJtYXgtd2lkdGgiLGguY3gpLGI9e2N4OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlcldpZHRoKCEwKSxjeTp0aGlzLl91aS5jb250YWluZXIub3V0ZXJIZWlnaHQoITApfSxkPXt4OmUoaC5jeCxiLmN4LGgueCxhLngpLHk6ZShoLmN5LGIuY3ksaC55LGEueSl9LGQueT1NYXRoLm1heCgwLGQueSk7dmFyIGk9Yy5kb2N1bWVudEVsZW1lbnQsaj1jLmJvZHksaz1NYXRoLm1heChpLmNsaWVudEhlaWdodCxqLnNjcm9sbEhlaWdodCxqLm9mZnNldEhlaWdodCxpLnNjcm9sbEhlaWdodCxpLm9mZnNldEhlaWdodCk7cmV0dXJuIGQueS09TWF0aC5taW4oZC55LE1hdGgubWF4KDAsZC55K2IuY3ktaykpLHtsZWZ0OmQueCx0b3A6ZC55fX0sX2NyZWF0ZVByZXJlcXM6ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGY9dGhpcztlPXtzY3JlZW46YS5EZWZlcnJlZCgpLGNvbnRhaW5lcjphLkRlZmVycmVkKCl9LGUuc2NyZWVuLnRoZW4oZnVuY3Rpb24oKXtlPT09Zi5fcHJlcmVxcyYmYigpfSksZS5jb250YWluZXIudGhlbihmdW5jdGlvbigpe2U9PT1mLl9wcmVyZXFzJiZjKCl9KSxhLndoZW4oZS5zY3JlZW4sZS5jb250YWluZXIpLmRvbmUoZnVuY3Rpb24oKXtlPT09Zi5fcHJlcmVxcyYmKGYuX3ByZXJlcXM9bnVsbCxkKCkpfSksZi5fcHJlcmVxcz1lfSxfYW5pbWF0ZTpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSkuYWRkQ2xhc3MoYi5zY3JlZW5DbGFzc1RvQWRkKSxiLnByZXJlcXMuc2NyZWVuLnJlc29sdmUoKSxiLnRyYW5zaXRpb24mJiJub25lIiE9PWIudHJhbnNpdGlvbiYmKGIuYXBwbHlUcmFuc2l0aW9uJiZ0aGlzLl9hcHBseVRyYW5zaXRpb24oYi50cmFuc2l0aW9uKSx0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24pPyh0aGlzLl91aS5jb250YWluZXIuYW5pbWF0aW9uQ29tcGxldGUoYS5wcm94eShiLnByZXJlcXMuY29udGFpbmVyLCJyZXNvbHZlIikpLmFkZENsYXNzKGIuY29udGFpbmVyQ2xhc3NUb0FkZCkucmVtb3ZlQ2xhc3MoYi5jbGFzc1RvUmVtb3ZlKSx2b2lkIDApOih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoYi5jbGFzc1RvUmVtb3ZlKSxiLnByZXJlcXMuY29udGFpbmVyLnJlc29sdmUoKSx2b2lkIDApfSxfZGVzaXJlZENvb3JkczpmdW5jdGlvbihiKXt2YXIgYyxkPW51bGwsZT1mKCksZz1iLngsaD1iLnksaT1iLnBvc2l0aW9uVG87aWYoaSYmIm9yaWdpbiIhPT1pKWlmKCJ3aW5kb3ciPT09aSlnPWUuY3gvMitlLngsaD1lLmN5LzIrZS55O2Vsc2V7dHJ5e2Q9YShpKX1jYXRjaChqKXtkPW51bGx9ZCYmKGQuZmlsdGVyKCI6dmlzaWJsZSIpLDA9PT1kLmxlbmd0aCYmKGQ9bnVsbCkpfXJldHVybiBkJiYoYz1kLm9mZnNldCgpLGc9Yy5sZWZ0K2Qub3V0ZXJXaWR0aCgpLzIsaD1jLnRvcCtkLm91dGVySGVpZ2h0KCkvMiksKCJudW1iZXIiIT09YS50eXBlKGcpfHxpc05hTihnKSkmJihnPWUuY3gvMitlLngpLCgibnVtYmVyIiE9PWEudHlwZShoKXx8aXNOYU4oaCkpJiYoaD1lLmN5LzIrZS55KSx7eDpnLHk6aH19LF9yZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe2E9e3g6YS54LHk6YS55LHBvc2l0aW9uVG86YS5wb3NpdGlvblRvfSx0aGlzLl90cmlnZ2VyKCJiZWZvcmVwb3NpdGlvbiIsZCxhKSx0aGlzLl91aS5jb250YWluZXIub2Zmc2V0KHRoaXMuX3BsYWNlbWVudENvb3Jkcyh0aGlzLl9kZXNpcmVkQ29vcmRzKGEpKSl9LHJlcG9zaXRpb246ZnVuY3Rpb24oYSl7dGhpcy5faXNPcGVuJiZ0aGlzLl9yZXBvc2l0aW9uKGEpfSxfb3BlblByZXJlcXNDb21wbGV0ZTpmdW5jdGlvbigpe3RoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcygidWktcG9wdXAtYWN0aXZlIiksdGhpcy5faXNPcGVuPSEwLHRoaXMuX3Jlc2l6ZVNjcmVlbigpLHRoaXMuX3VpLmNvbnRhaW5lci5hdHRyKCJ0YWJpbmRleCIsIjAiKS5mb2N1cygpLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpLHRoaXMuX3RyaWdnZXIoImFmdGVyb3BlbiIpfSxfb3BlbjpmdW5jdGlvbihiKXt2YXIgYz1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsYiksZD1mdW5jdGlvbigpe3ZhciBhPW5hdmlnYXRvci51c2VyQWdlbnQsYj1hLm1hdGNoKC9BcHBsZVdlYktpdFwvKFswLTlcLl0rKS8pLGM9ISFiJiZiWzFdLGQ9YS5tYXRjaCgvQW5kcm9pZCAoXGQrKD86XC5cZCspKS8pLGU9ISFkJiZkWzFdLGY9YS5pbmRleE9mKCJDaHJvbWUiKT4tMTtyZXR1cm4gbnVsbCE9PWQmJiI0LjAiPT09ZSYmYyYmYz41MzQuMTMmJiFmPyEwOiExfSgpO3RoaXMuX2NyZWF0ZVByZXJlcXMoYS5ub29wLGEubm9vcCxhLnByb3h5KHRoaXMsIl9vcGVuUHJlcmVxc0NvbXBsZXRlIikpLHRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uPWMudHJhbnNpdGlvbix0aGlzLl9hcHBseVRyYW5zaXRpb24oYy50cmFuc2l0aW9uKSx0aGlzLm9wdGlvbnMudGhlbWV8fHRoaXMuX3NldFRoZW1lKHRoaXMuX3BhZ2UuanFtRGF0YSgidGhlbWUiKXx8YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5fcGFnZSwiYyIpKSx0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoInVpLXBvcHVwLWhpZGRlbiIpLHRoaXMuX3JlcG9zaXRpb24oYyksdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSYmZCYmdGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIikuYWRkQ2xhc3MoInVpLXBvcHVwLW9wZW4iKSx0aGlzLl9hbmltYXRlKHthZGRpdGlvbmFsQ29uZGl0aW9uOiEwLHRyYW5zaXRpb246Yy50cmFuc2l0aW9uLGNsYXNzVG9SZW1vdmU6IiIsc2NyZWVuQ2xhc3NUb0FkZDoiaW4iLGNvbnRhaW5lckNsYXNzVG9BZGQ6ImluIixhcHBseVRyYW5zaXRpb246ITEscHJlcmVxczp0aGlzLl9wcmVyZXFzfSl9LF9jbG9zZVByZXJlcVNjcmVlbjpmdW5jdGlvbigpe3RoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcygib3V0IikuYWRkQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKX0sX2Nsb3NlUHJlcmVxQ29udGFpbmVyOmZ1bmN0aW9uKCl7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCJyZXZlcnNlIG91dCIpLmFkZENsYXNzKCJ1aS1wb3B1cC1oaWRkZW4iKS5yZW1vdmVBdHRyKCJzdHlsZSIpfSxfY2xvc2VQcmVyZXFzRG9uZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX3VpLmNvbnRhaW5lcjtiLnJlbW92ZUF0dHIoInRhYmluZGV4IiksYS5tb2JpbGUucG9wdXAuYWN0aXZlPWQsYSgiOmZvY3VzIixiWzBdKS5hZGQoYlswXSkuYmx1cigpLHRoaXMuX3RyaWdnZXIoImFmdGVyY2xvc2UiKX0sX2Nsb3NlOmZ1bmN0aW9uKGIpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcygidWktcG9wdXAtYWN0aXZlIiksdGhpcy5fcGFnZS5yZW1vdmVDbGFzcygidWktcG9wdXAtb3BlbiIpLHRoaXMuX2lzT3Blbj0hMSx0aGlzLl9jcmVhdGVQcmVyZXFzKGEucHJveHkodGhpcywiX2Nsb3NlUHJlcmVxU2NyZWVuIiksYS5wcm94eSh0aGlzLCJfY2xvc2VQcmVyZXFDb250YWluZXIiKSxhLnByb3h5KHRoaXMsIl9jbG9zZVByZXJlcXNEb25lIikpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246dGhpcy5fdWkuc2NyZWVuLmhhc0NsYXNzKCJpbiIpLHRyYW5zaXRpb246Yj8ibm9uZSI6dGhpcy5fY3VycmVudFRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZToiaW4iLHNjcmVlbkNsYXNzVG9BZGQ6Im91dCIsY29udGFpbmVyQ2xhc3NUb0FkZDoicmV2ZXJzZSBvdXQiLGFwcGx5VHJhbnNpdGlvbjohMCxwcmVyZXFzOnRoaXMuX3ByZXJlcXN9KX0sX3VuZW5oYW5jZTpmdW5jdGlvbigpe3RoaXMuX3NldFRoZW1lKCJub25lIiksdGhpcy5lbGVtZW50LmRldGFjaCgpLmluc2VydEFmdGVyKHRoaXMuX3VpLnBsYWNlaG9sZGVyKS5yZW1vdmVDbGFzcygidWktcG9wdXAgdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCIpLHRoaXMuX3VpLnNjcmVlbi5yZW1vdmUoKSx0aGlzLl91aS5jb250YWluZXIucmVtb3ZlKCksdGhpcy5fdWkucGxhY2Vob2xkZXIucmVtb3ZlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7YS5tb2JpbGUucG9wdXAuYWN0aXZlPT09dGhpcz8odGhpcy5lbGVtZW50Lm9uZSgicG9wdXBhZnRlcmNsb3NlIixhLnByb3h5KHRoaXMsIl91bmVuaGFuY2UiKSksdGhpcy5jbG9zZSgpKTp0aGlzLl91bmVuaGFuY2UoKX0sX2Nsb3NlUG9wdXA6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmLGc9dGhpcy5vcHRpb25zLGg9ITE7Yi5zY3JvbGxUbygwLHRoaXMuX3Njcm9sbFRvcCksYyYmInBhZ2ViZWZvcmVjaGFuZ2UiPT09Yy50eXBlJiZkJiYoZT0ic3RyaW5nIj09dHlwZW9mIGQudG9QYWdlP2QudG9QYWdlOmQudG9QYWdlLmpxbURhdGEoInVybCIpLGU9YS5tb2JpbGUucGF0aC5wYXJzZVVybChlKSxmPWUucGF0aG5hbWUrZS5zZWFyY2grZS5oYXNoLHRoaXMuX215VXJsIT09YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoZik/aD0hMDpjLnByZXZlbnREZWZhdWx0KCkpLGcuY29udGFpbmVyLnVuYmluZChnLmNsb3NlRXZlbnRzKSx0aGlzLmVsZW1lbnQudW5kZWxlZ2F0ZShnLmNsb3NlTGlua1NlbGVjdG9yLGcuY2xvc2VMaW5rRXZlbnRzKSx0aGlzLl9jbG9zZShoKX0sX2JpbmRDb250YWluZXJDbG9zZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5jb250YWluZXIub25lKHRoaXMub3B0aW9ucy5jbG9zZUV2ZW50cyxhLnByb3h5KHRoaXMsIl9jbG9zZVBvcHVwIikpfSxvcGVuOmZ1bmN0aW9uKGMpe3ZhciBkLGUsZixnLGgsaSxqPXRoaXMsaz10aGlzLm9wdGlvbnM7aWYoIWEubW9iaWxlLnBvcHVwLmFjdGl2ZSl7aWYoYS5tb2JpbGUucG9wdXAuYWN0aXZlPXRoaXMsdGhpcy5fc2Nyb2xsVG9wPWEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSwhay5oaXN0b3J5KXJldHVybiBqLl9vcGVuKGMpLGouX2JpbmRDb250YWluZXJDbG9zZSgpLGouZWxlbWVudC5kZWxlZ2F0ZShrLmNsb3NlTGlua1NlbGVjdG9yLGsuY2xvc2VMaW5rRXZlbnRzLGZ1bmN0aW9uKGEpe2ouY2xvc2UoKSxhLnByZXZlbnREZWZhdWx0KCl9KSx2b2lkIDA7aWYoaT1hLm1vYmlsZS51cmxIaXN0b3J5LGU9YS5tb2JpbGUuZGlhbG9nSGFzaEtleSxmPWEubW9iaWxlLmFjdGl2ZVBhZ2UsZz1mLmlzKCIudWktZGlhbG9nIiksdGhpcy5fbXlVcmw9ZD1pLmdldEFjdGl2ZSgpLnVybCxoPWQuaW5kZXhPZihlKT4tMSYmIWcmJmkuYWN0aXZlSW5kZXg+MClyZXR1cm4gai5fb3BlbihjKSxqLl9iaW5kQ29udGFpbmVyQ2xvc2UoKSx2b2lkIDA7LTEhPT1kLmluZGV4T2YoZSl8fGc/ZD1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoK2U6ZCs9ZC5pbmRleE9mKCIjIik+LTE/ZToiIyIrZSwwPT09aS5hY3RpdmVJbmRleCYmZD09PWkuaW5pdGlhbERzdCYmKGQrPWUpLGEoYikub25lKCJiZWZvcmVuYXZpZ2F0ZSIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGouX29wZW4oYyksai5fYmluZENvbnRhaW5lckNsb3NlKCl9KSx0aGlzLnVybEFsdGVyZWQ9ITAsYS5tb2JpbGUubmF2aWdhdGUoZCx7cm9sZToiZGlhbG9nIn0pfX0sY2xvc2U6ZnVuY3Rpb24oKXthLm1vYmlsZS5wb3B1cC5hY3RpdmU9PT10aGlzJiYodGhpcy5fc2Nyb2xsVG9wPWEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSx0aGlzLm9wdGlvbnMuaGlzdG9yeSYmdGhpcy51cmxBbHRlcmVkPyhhLm1vYmlsZS5iYWNrKCksdGhpcy51cmxBbHRlcmVkPSExKTp0aGlzLl9jbG9zZVBvcHVwKCkpfX0pLGEubW9iaWxlLnBvcHVwLmhhbmRsZUxpbms9ZnVuY3Rpb24oYil7dmFyIGMsZD1iLmNsb3Nlc3QoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpLGU9MD09PWQubGVuZ3RoP2EoImJvZHkiKTpkLGY9YShhLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGIuYXR0cigiaHJlZiIpKS5oYXNoLGVbMF0pO2YuZGF0YSgibW9iaWxlLXBvcHVwIikmJihjPWIub2Zmc2V0KCksZi5wb3B1cCgib3BlbiIse3g6Yy5sZWZ0K2Iub3V0ZXJXaWR0aCgpLzIseTpjLnRvcCtiLm91dGVySGVpZ2h0KCkvMix0cmFuc2l0aW9uOmIuanFtRGF0YSgidHJhbnNpdGlvbiIpLHBvc2l0aW9uVG86Yi5qcW1EYXRhKCJwb3NpdGlvbi10byIpfSkpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYz1iLnBhcmVudCgpLnBhcmVudCgpO2MuaGFzQ2xhc3MoInVpLWxpIikmJihiPWMucGFyZW50KCkpLGIucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSwzMDApfSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlYmVmb3JlY2hhbmdlIixmdW5jdGlvbihiLGMpeyJwb3B1cCI9PT1jLm9wdGlvbnMucm9sZSYmKGEubW9iaWxlLnBvcHVwLmhhbmRsZUxpbmsoYy5vcHRpb25zLmxpbmspLGIucHJldmVudERlZmF1bHQoKSl9KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUucG9wdXAucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsITApfSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9ZnVuY3Rpb24oZCl7dmFyIGUsZixnLGg9KGQuc2VsZWN0LGQuX2Rlc3Ryb3kpLGk9ZC5zZWxlY3RJRCxqPWk/aTooYS5tb2JpbGUubnN8fCIiKSsidXVpZC0iK2QudXVpZCxrPWorIi1saXN0Ym94IixsPWorIi1kaWFsb2ciLG09ZC5sYWJlbCxuPWQuc2VsZWN0LmNsb3Nlc3QoIi51aS1wYWdlIiksbz1kLl9zZWxlY3RPcHRpb25zKCkscD1kLmlzTXVsdGlwbGU9ZC5zZWxlY3RbMF0ubXVsdGlwbGUscT1pKyItYnV0dG9uIixyPWkrIi1tZW51IixzPWEoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdkaWFsb2cnIGlkPSciK2wrIicgZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZT0nIitkLm9wdGlvbnMudGhlbWUrIicgZGF0YS0iK2EubW9iaWxlLm5zKyJvdmVybGF5LXRoZW1lPSciK2Qub3B0aW9ucy5vdmVybGF5VGhlbWUrIic+IisiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+IisiPGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrbS5nZXRFbmNvZGVkVGV4dCgpKyI8L2Rpdj4iKyI8L2Rpdj4iKyI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nY29udGVudCc+PC9kaXY+IisiPC9kaXY+IiksdD1hKCI8ZGl2IGlkPSciK2srIicgY2xhc3M9J3VpLXNlbGVjdG1lbnUnPiIpLmluc2VydEFmdGVyKGQuc2VsZWN0KS5wb3B1cCh7dGhlbWU6ZC5vcHRpb25zLm92ZXJsYXlUaGVtZX0pLHU9YSgiPHVsPiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUtbGlzdCIsaWQ6cixyb2xlOiJsaXN0Ym94IiwiYXJpYS1sYWJlbGxlZGJ5IjpxfSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsZC5vcHRpb25zLnRoZW1lKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImRpdmlkZXItdGhlbWUiLGQub3B0aW9ucy5kaXZpZGVyVGhlbWUpLmFwcGVuZFRvKHQpLHY9YSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1oZWFkZXIgdWktYmFyLSIrZC5vcHRpb25zLnRoZW1lfSkucHJlcGVuZFRvKHQpLHc9YSgiPGgxPiIseyJjbGFzcyI6InVpLXRpdGxlIn0pLmFwcGVuZFRvKHYpO2QuaXNNdWx0aXBsZSYmKGc9YSgiPGE+Iix7dGV4dDpkLm9wdGlvbnMuY2xvc2VUZXh0LGhyZWY6IiMiLCJjbGFzcyI6InVpLWJ0bi1sZWZ0In0pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcyIsIm5vdGV4dCIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiaWNvbiIsImRlbGV0ZSIpLmFwcGVuZFRvKHYpLmJ1dHRvbk1hcmt1cCgpKSxhLmV4dGVuZChkLHtzZWxlY3Q6ZC5zZWxlY3Qsc2VsZWN0SUQ6aSxidXR0b25JZDpxLG1lbnVJZDpyLHBvcHVwSUQ6ayxkaWFsb2dJRDpsLHRoaXNQYWdlOm4sbWVudVBhZ2U6cyxsYWJlbDptLHNlbGVjdE9wdGlvbnM6byxpc011bHRpcGxlOnAsdGhlbWU6ZC5vcHRpb25zLnRoZW1lLGxpc3Rib3g6dCxsaXN0OnUsaGVhZGVyOnYsaGVhZGVyVGl0bGU6dyxoZWFkZXJDbG9zZTpnLG1lbnVQYWdlQ29udGVudDplLG1lbnVQYWdlQ2xvc2U6ZixwbGFjZWhvbGRlcjoiIixidWlsZDpmdW5jdGlvbigpe3ZhciBjPXRoaXMsZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC8oWyEiIyQlJicoKSorLC4vOjs8PT4/QFtcXV5ge3x9fl0pL2csIlxcJDEiKX07Yy5yZWZyZXNoKCksYy5fb3JpZ1RhYkluZGV4PT09YiYmKGMuX29yaWdUYWJJbmRleD1udWxsPT09Yy5zZWxlY3RbMF0uZ2V0QXR0cmlidXRlKCJ0YWJpbmRleCIpPyExOmMuc2VsZWN0LmF0dHIoInRhYmluZGV4IikpLGMuc2VsZWN0LmF0dHIoInRhYmluZGV4IiwiLTEiKS5mb2N1cyhmdW5jdGlvbigpe2EodGhpcykuYmx1cigpLGMuYnV0dG9uLmZvY3VzKCl9KSxjLmJ1dHRvbi5iaW5kKCJ2Y2xpY2sga2V5ZG93biIsZnVuY3Rpb24oYil7Yy5vcHRpb25zLmRpc2FibGVkfHxjLmlzT3Blbnx8KCJ2Y2xpY2siPT09Yi50eXBlfHxiLmtleUNvZGUmJihiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLkVOVEVSfHxiLmtleUNvZGU9PT1hLm1vYmlsZS5rZXlDb2RlLlNQQUNFKSkmJihjLl9kZWNpZGVGb3JtYXQoKSwib3ZlcmxheSI9PT1jLm1lbnVUeXBlP2MuYnV0dG9uLmF0dHIoImhyZWYiLCIjIitlKGMucG9wdXBJRCkpLmF0dHIoImRhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsicmVsIiwicG9wdXAiKTpjLmJ1dHRvbi5hdHRyKCJocmVmIiwiIyIrZShjLmRpYWxvZ0lEKSkuYXR0cigiZGF0YS0iKyhhLm1vYmlsZS5uc3x8IiIpKyJyZWwiLCJkaWFsb2ciKSxjLmlzT3Blbj0hMCl9KSxjLmxpc3QuYXR0cigicm9sZSIsImxpc3Rib3giKS5iaW5kKCJmb2N1c2luIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5hdHRyKCJ0YWJpbmRleCIsIjAiKS50cmlnZ2VyKCJ2bW91c2VvdmVyIil9KS5iaW5kKCJmb2N1c291dCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuYXR0cigidGFiaW5kZXgiLCItMSIpLnRyaWdnZXIoInZtb3VzZW91dCIpfSkuZGVsZWdhdGUoImxpOm5vdCgudWktZGlzYWJsZWQsIC51aS1saS1kaXZpZGVyKSIsImNsaWNrIixmdW5jdGlvbihiKXt2YXIgZT1jLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LGY9Yy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5pbmRleCh0aGlzKSxnPWMuX3NlbGVjdE9wdGlvbnMoKS5lcShmKVswXTtnLnNlbGVjdGVkPWMuaXNNdWx0aXBsZT8hZy5zZWxlY3RlZDohMCxjLmlzTXVsdGlwbGUmJmEodGhpcykuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIsZy5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIiwhZy5zZWxlY3RlZCksKGMuaXNNdWx0aXBsZXx8ZSE9PWYpJiZjLnNlbGVjdC50cmlnZ2VyKCJjaGFuZ2UiKSxjLmlzTXVsdGlwbGU/Yy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5lcShmKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitkLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCk6Yy5jbG9zZSgpLGIucHJldmVudERlZmF1bHQoKX0pLmtleWRvd24oZnVuY3Rpb24oYil7dmFyIGMsZSxmPWEoYi50YXJnZXQpLGc9Zi5jbG9zZXN0KCJsaSIpO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGM9Zy5wcmV2KCkubm90KCIudWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLGMuaXMoIi51aS1saS1kaXZpZGVyIikmJihjPWMucHJldigpKSxjLmxlbmd0aCYmKGYuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxjLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2Qub3B0aW9ucy50aGVtZSkuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksITE7Y2FzZSA0MDpyZXR1cm4gZT1nLm5leHQoKSxlLmlzKCIudWktbGktZGl2aWRlciIpJiYoZT1lLm5leHQoKSksZS5sZW5ndGgmJihmLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksZS5hZGRDbGFzcygidWktYnRuLWRvd24tIitkLm9wdGlvbnMudGhlbWUpLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gZi50cmlnZ2VyKCJjbGljayIpLCExfX0pLGMubWVudVBhZ2UuYmluZCgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YS5tb2JpbGUuX2JpbmRQYWdlUmVtb3ZlLmNhbGwoYy50aGlzUGFnZSl9KSxjLmxpc3Rib3guYmluZCgicG9wdXBhZnRlcmNsb3NlIixmdW5jdGlvbigpe2MuY2xvc2UoKX0pLGMuaXNNdWx0aXBsZSYmYy5oZWFkZXJDbG9zZS5jbGljayhmdW5jdGlvbigpe3JldHVybiJvdmVybGF5Ij09PWMubWVudVR5cGU/KGMuY2xvc2UoKSwhMSk6dm9pZCAwfSksYy50aGlzUGFnZS5hZGREZXBlbmRlbnRzKHRoaXMubWVudVBhZ2UpfSxfaXNSZWJ1aWxkUmVxdWlyZWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxpc3QuZmluZCgibGkiKSxiPXRoaXMuX3NlbGVjdE9wdGlvbnMoKTtyZXR1cm4gYi50ZXh0KCkhPT1hLnRleHQoKX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcigiOnNlbGVjdGVkOm5vdCggOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSApIil9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzO3RoaXMuZWxlbWVudCx0aGlzLmlzTXVsdGlwbGUsKGJ8fHRoaXMuX2lzUmVidWlsZFJlcXVpcmVkKCkpJiZkLl9idWlsZExpc3QoKSxjPXRoaXMuc2VsZWN0ZWRJbmRpY2VzKCksZC5zZXRCdXR0b25UZXh0KCksZC5zZXRCdXR0b25Db3VudCgpLGQubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCExKS5lYWNoKGZ1bmN0aW9uKGIpe2lmKGEuaW5BcnJheShiLGMpPi0xKXt2YXIgZT1hKHRoaXMpO2UuYXR0cigiYXJpYS1zZWxlY3RlZCIsITApLGQuaXNNdWx0aXBsZT9lLmZpbmQoIi51aS1pY29uIikucmVtb3ZlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIikuYWRkQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb24iKTplLmlzKCIudWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpP2UubmV4dCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTplLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX19KX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3Blbil7dmFyIGE9dGhpczsicGFnZSI9PT1hLm1lbnVUeXBlPyhhLm1lbnVQYWdlLmRpYWxvZygiY2xvc2UiKSxhLmxpc3QuYXBwZW5kVG8oYS5saXN0Ym94KSk6YS5saXN0Ym94LnBvcHVwKCJjbG9zZSIpLGEuX2ZvY3VzQnV0dG9uKCksYS5pc09wZW49ITF9fSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uY2xpY2soKX0sX2RlY2lkZUZvcm1hdDpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXt2YXIgYj1jLmxpc3QuZmluZCgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MrIiBhIik7MD09PWIubGVuZ3RoJiYoYj1jLmxpc3QuZmluZCgibGkudWktYnRuOm5vdCggOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSApIGEiKSksYi5maXJzdCgpLmZvY3VzKCkuY2xvc2VzdCgibGkiKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitkLm9wdGlvbnMudGhlbWUpfXZhciBjPXRoaXMsZT1hLm1vYmlsZS53aW5kb3csZj1jLmxpc3QucGFyZW50KCksZz1mLm91dGVySGVpZ2h0KCksaD0oZi5vdXRlcldpZHRoKCksYSgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKSxlLnNjcm9sbFRvcCgpKSxpPWMuYnV0dG9uLm9mZnNldCgpLnRvcCxqPWUuaGVpZ2h0KCk7ZS53aWR0aCgpLGc+ai04MHx8IWEuc3VwcG9ydC5zY3JvbGxUb3A/KGMubWVudVBhZ2UuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikucGFnZSgpLGMubWVudVBhZ2VDb250ZW50PXMuZmluZCgiLnVpLWNvbnRlbnQiKSxjLm1lbnVQYWdlQ2xvc2U9cy5maW5kKCIudWktaGVhZGVyIGEiKSxjLnRoaXNQYWdlLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIiksMD09PWgmJmk+aiYmYy50aGlzUGFnZS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2EodGhpcykuanFtRGF0YSgibGFzdFNjcm9sbCIsaSl9KSxjLm1lbnVQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7YigpfSkub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtjLmNsb3NlKCl9KSxjLm1lbnVUeXBlPSJwYWdlIixjLm1lbnVQYWdlQ29udGVudC5hcHBlbmQoYy5saXN0KSxjLm1lbnVQYWdlLmZpbmQoImRpdiAudWktdGl0bGUiKS50ZXh0KGMubGFiZWwudGV4dCgpKSk6KGMubWVudVR5cGU9Im92ZXJsYXkiLGMubGlzdGJveC5vbmUoInBvcHVwYWZ0ZXJvcGVuIixiKSl9LF9idWlsZExpc3Q6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9dGhpcy5vcHRpb25zLGU9dGhpcy5wbGFjZWhvbGRlcixmPSEwLGc9Yi5pc011bHRpcGxlPyJjaGVja2JveC1vZmYiOiJmYWxzZSI7Yi5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpO2Zvcih2YXIgaCxpPWIuc2VsZWN0LmZpbmQoIm9wdGlvbiIpLGo9aS5sZW5ndGgsaz10aGlzLnNlbGVjdFswXSxsPSJkYXRhLSIrYS5tb2JpbGUubnMsbT1sKyJvcHRpb24taW5kZXgiLG49bCsiaWNvbiIsbz1sKyJyb2xlIixwPWwrInBsYWNlaG9sZGVyIixxPWMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHI9ITEscz0wO2o+cztzKysscj0hMSl7dmFyIHQ9aVtzXSx1PWEodCksdj10LnBhcmVudE5vZGUsdz11LnRleHQoKSx4PWMuY3JlYXRlRWxlbWVudCgiYSIpLHk9W107aWYoeC5zZXRBdHRyaWJ1dGUoImhyZWYiLCIjIikseC5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKHcpKSx2IT09ayYmIm9wdGdyb3VwIj09PXYubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIHo9di5nZXRBdHRyaWJ1dGUoImxhYmVsIik7aWYoeiE9PWgpe3ZhciBBPWMuY3JlYXRlRWxlbWVudCgibGkiKTtBLnNldEF0dHJpYnV0ZShvLCJsaXN0LWRpdmlkZXIiKSxBLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLEEuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIiksQS5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKHopKSxxLmFwcGVuZENoaWxkKEEpLGg9en19IWZ8fHQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpJiYwIT09dy5sZW5ndGgmJiF1LmpxbURhdGEoInBsYWNlaG9sZGVyIil8fChmPSExLHI9ITAsbnVsbD09PXQuZ2V0QXR0cmlidXRlKHApJiYodGhpcy5fcmVtb3ZlUGxhY2Vob2xkZXJBdHRyPSEwKSx0LnNldEF0dHJpYnV0ZShwLCEwKSxkLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyYmeS5wdXNoKCJ1aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiksZSE9PXcmJihlPWIucGxhY2Vob2xkZXI9dykpO3ZhciBCPWMuY3JlYXRlRWxlbWVudCgibGkiKTt0LmRpc2FibGVkJiYoeS5wdXNoKCJ1aS1kaXNhYmxlZCIpLEIuc2V0QXR0cmlidXRlKCJhcmlhLWRpc2FibGVkIiwhMCkpLEIuc2V0QXR0cmlidXRlKG0scyksQi5zZXRBdHRyaWJ1dGUobixnKSxyJiZCLnNldEF0dHJpYnV0ZShwLCEwKSxCLmNsYXNzTmFtZT15LmpvaW4oIiAiKSxCLnNldEF0dHJpYnV0ZSgicm9sZSIsIm9wdGlvbiIpLHguc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIiksQi5hcHBlbmRDaGlsZCh4KSxxLmFwcGVuZENoaWxkKEIpfWIubGlzdFswXS5hcHBlbmRDaGlsZChxKSx0aGlzLmlzTXVsdGlwbGV8fGUubGVuZ3RoP3RoaXMuaGVhZGVyVGl0bGUudGV4dCh0aGlzLnBsYWNlaG9sZGVyKTp0aGlzLmhlYWRlci5oaWRlKCksYi5saXN0Lmxpc3R2aWV3KCl9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGE+Iix7aHJlZjoiIyIscm9sZToiYnV0dG9uIixpZDp0aGlzLmJ1dHRvbklkLCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSIsImFyaWEtb3ducyI6dGhpcy5tZW51SWR9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlKCksdGhpcy5fb3JpZ1RhYkluZGV4IT09YiYmKHRoaXMuX29yaWdUYWJJbmRleCE9PSExP3RoaXMuc2VsZWN0LmF0dHIoInRhYmluZGV4Iix0aGlzLl9vcmlnVGFiSW5kZXgpOnRoaXMuc2VsZWN0LnJlbW92ZUF0dHIoInRhYmluZGV4IikpLHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0ciYmdGhpcy5fc2VsZWN0T3B0aW9ucygpLnJlbW92ZUF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicGxhY2Vob2xkZXIiKSx0aGlzLmxpc3Rib3gucmVtb3ZlKCksdGhpcy5tZW51UGFnZS5yZW1vdmUoKSxoLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KX07YS5tb2JpbGUuZG9jdW1lbnQuYmluZCgic2VsZWN0bWVudWJlZm9yZWNyZWF0ZSIsZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuZGF0YSgibW9iaWxlLXNlbGVjdG1lbnUiKTtjLm9wdGlvbnMubmF0aXZlTWVudXx8MCE9PWMuZWxlbWVudC5wYXJlbnRzKCI6anFtRGF0YShyb2xlPSdwb3B1cCcpIikubGVuZ3RofHxkKGMpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS5jb250cm9sZ3JvdXAiLGEubW9iaWxlLndpZGdldCxhLmV4dGVuZCh7b3B0aW9uczp7c2hhZG93OiExLGNvcm5lcnM6ITAsZXhjbHVkZUludmlzaWJsZTohMCx0eXBlOiJ2ZXJ0aWNhbCIsbWluaTohMSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxkPXtpbm5lcjphKCI8ZGl2IGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtY29udHJvbHMnPjwvZGl2PiIpLGxlZ2VuZDphKCI8ZGl2IHJvbGU9J2hlYWRpbmcnIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwnPjwvZGl2PiIpfSxlPWMuY2hpbGRyZW4oImxlZ2VuZCIpLGY9dGhpcztjLndyYXBJbm5lcihkLmlubmVyKSxlLmxlbmd0aCYmZC5sZWdlbmQuYXBwZW5kKGUpLmluc2VydEJlZm9yZShjLmNoaWxkcmVuKDApKSxjLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLWNvbnRyb2xncm91cCIpLGEuZXh0ZW5kKHRoaXMse19pbml0aWFsUmVmcmVzaDohMH0pLGEuZWFjaCh0aGlzLm9wdGlvbnMsZnVuY3Rpb24oYSxjKXtmLm9wdGlvbnNbYV09YixmLl9zZXRPcHRpb24oYSxjLCEwKX0pfSxfaW5pdDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGMsZCl7dmFyIGU9Il9zZXQiK2MuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYy5zbGljZSgxKTt0aGlzW2VdIT09YiYmdGhpc1tlXShkKSx0aGlzLl9zdXBlcihjLGQpLHRoaXMuZWxlbWVudC5hdHRyKCJkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrYy5yZXBsYWNlKC8oW0EtWl0pLywiLSQxIikudG9Mb3dlckNhc2UoKSxkKX0sX3NldFR5cGU6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCJ1aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCB1aS1jb250cm9sZ3JvdXAtdmVydGljYWwiKS5hZGRDbGFzcygidWktY29udHJvbGdyb3VwLSIrYSksdGhpcy5yZWZyZXNoKCl9LF9zZXRDb3JuZXJzOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC50b2dnbGVDbGFzcygidWktY29ybmVyLWFsbCIsYSl9LF9zZXRTaGFkb3c6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCJ1aS1zaGFkb3ciLGEpfSxfc2V0TWluaTpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoInVpLW1pbmkiLGEpfSxjb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmNoaWxkcmVuKCIudWktY29udHJvbGdyb3VwLWNvbnRyb2xzIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQuZmluZCgiLnVpLWJ0biIpLm5vdCgiLnVpLXNsaWRlci1oYW5kbGUiKSxjPXRoaXMuX2luaXRpYWxSZWZyZXNoO2EubW9iaWxlLmNoZWNrYm94cmFkaW8mJnRoaXMuZWxlbWVudC5maW5kKCI6bW9iaWxlLWNoZWNrYm94cmFkaW8iKS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIiksdGhpcy5fYWRkRmlyc3RMYXN0Q2xhc3NlcyhiLHRoaXMub3B0aW9ucy5leGNsdWRlSW52aXNpYmxlP3RoaXMuX2dldFZpc2libGVzKGIsYyk6YixjKSx0aGlzLl9pbml0aWFsUmVmcmVzaD0hMX19LGEubW9iaWxlLmJlaGF2aW9ycy5hZGRGaXJzdExhc3RDbGFzc2VzKSksYShmdW5jdGlvbigpe2EubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS5jb250cm9sZ3JvdXAucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQsITApfSl9KX0oYSksZnVuY3Rpb24oYSl7YShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuZmluZCgiYSIpLmpxbUVuaGFuY2VhYmxlKCkuZmlsdGVyKCI6anFtRGF0YShyZWw9J3BvcHVwJylbaHJlZl1baHJlZiE9JyddIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD1hKHRoaXMpLmF0dHIoImhyZWYiKSxlPWQuc3Vic3RyaW5nKDEpO2Iuc2V0QXR0cmlidXRlKCJhcmlhLWhhc3BvcHVwIiwhMCksYi5zZXRBdHRyaWJ1dGUoImFyaWEtb3ducyIsZSksYi5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCExKSxhKGMpLm9uKCJwb3B1cGFmdGVyb3BlbiIsZCxmdW5jdGlvbigpe2Iuc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwhMCl9KS5vbigicG9wdXBhZnRlcmNsb3NlIixkLGZ1bmN0aW9uKCl7Yi5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCExKX0pfSkuZW5kKCkubm90KCIudWktYnRuLCAudWktbGluay1pbmhlcml0LCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmFkZENsYXNzKCJ1aS1saW5rIil9KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldCgibW9iaWxlLmZpeGVkdG9vbGJhciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt2aXNpYmxlT25QYWdlU2hvdzohMCxkaXNhYmxlUGFnZVpvb206ITAsdHJhbnNpdGlvbjoic2xpZGUiLGZ1bGxzY3JlZW46ITEsdGFwVG9nZ2xlOiEwLHRhcFRvZ2dsZUJsYWNrbGlzdDoiYSwgYnV0dG9uLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCwgLnVpLXBvcHVwLCAudWktcGFuZWwsIC51aS1wYW5lbC1kaXNtaXNzLW9wZW4iLGhpZGVEdXJpbmdGb2N1czoiaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QiLHVwZGF0ZVBhZ2VQYWRkaW5nOiEwLHRyYWNrUGVyc2lzdGVudFRvb2xiYXJzOiEwLHN1cHBvcnRCbGFja2xpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4hYS5zdXBwb3J0LmZpeGVkUG9zaXRpb259LGluaXRTZWxlY3RvcjoiOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIub3B0aW9ucyxkPWIuZWxlbWVudCxlPWQuaXMoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIik/ImhlYWRlciI6ImZvb3RlciIsZj1kLmNsb3Nlc3QoIi51aS1wYWdlIik7cmV0dXJuIGMuc3VwcG9ydEJsYWNrbGlzdCgpPyhiLmRlc3Ryb3koKSx2b2lkIDApOihkLmFkZENsYXNzKCJ1aS0iK2UrIi1maXhlZCIpLGMuZnVsbHNjcmVlbj8oZC5hZGRDbGFzcygidWktIitlKyItZnVsbHNjcmVlbiIpLGYuYWRkQ2xhc3MoInVpLXBhZ2UtIitlKyItZnVsbHNjcmVlbiIpKTpmLmFkZENsYXNzKCJ1aS1wYWdlLSIrZSsiLWZpeGVkIiksYS5leHRlbmQodGhpcyx7X3RoaXNQYWdlOm51bGx9KSxiLl9hZGRUcmFuc2l0aW9uQ2xhc3MoKSxiLl9iaW5kUGFnZUV2ZW50cygpLGIuX2JpbmRUb2dnbGVIYW5kbGVycygpLHZvaWQgMCl9LF9hZGRUcmFuc2l0aW9uQ2xhc3M6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbjthJiYibm9uZSIhPT1hJiYoInNsaWRlIj09PWEmJihhPXRoaXMuZWxlbWVudC5pcygiLnVpLWhlYWRlciIpPyJzbGlkZWRvd24iOiJzbGlkZXVwIiksdGhpcy5lbGVtZW50LmFkZENsYXNzKGEpKX0sX2JpbmRQYWdlRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5fdGhpc1BhZ2U9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIiksdGhpcy5fb24odGhpcy5fdGhpc1BhZ2Use3BhZ2ViZWZvcmVzaG93OiJfaGFuZGxlUGFnZUJlZm9yZVNob3ciLHdlYmtpdEFuaW1hdGlvblN0YXJ0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLGFuaW1hdGlvbnN0YXJ0OiJfaGFuZGxlQW5pbWF0aW9uU3RhcnQiLHVwZGF0ZWxheW91dDoiX2hhbmRsZUFuaW1hdGlvblN0YXJ0IixwYWdlc2hvdzoiX2hhbmRsZVBhZ2VTaG93IixwYWdlYmVmb3JlaGlkZToiX2hhbmRsZVBhZ2VCZWZvcmVIaWRlIn0pfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCksYi52aXNpYmxlT25QYWdlU2hvd3x8dGhpcy5oaWRlKCEwKX0sX2hhbmRsZUFuaW1hdGlvblN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMuX3RoaXNQYWdlKX0sX2hhbmRsZVBhZ2VTaG93OmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVQYWdlUGFkZGluZyh0aGlzLl90aGlzUGFnZSksdGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLl9vbihhLm1vYmlsZS53aW5kb3cse3Rocm90dGxlZHJlc2l6ZToidXBkYXRlUGFnZVBhZGRpbmcifSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMub3B0aW9ucztpZihkLmRpc2FibGVQYWdlWm9vbSYmYS5tb2JpbGUuem9vbS5lbmFibGUoITApLGQudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMuX29mZihhLm1vYmlsZS53aW5kb3csInRocm90dGxlZHJlc2l6ZSIpLGQudHJhY2tQZXJzaXN0ZW50VG9vbGJhcnMpe3ZhciBlPWEoIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMuX3RoaXNQYWdlKSxmPWEoIi51aS1oZWFkZXItZml4ZWQ6anFtRGF0YShpZCkiLHRoaXMuX3RoaXNQYWdlKSxnPWUubGVuZ3RoJiZjLm5leHRQYWdlJiZhKCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrZS5qcW1EYXRhKCJpZCIpKyInKSIsYy5uZXh0UGFnZSl8fGEoKSxoPWYubGVuZ3RoJiZjLm5leHRQYWdlJiZhKCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQ9JyIrZi5qcW1EYXRhKCJpZCIpKyInKSIsYy5uZXh0UGFnZSl8fGEoKTsoZy5sZW5ndGh8fGgubGVuZ3RoKSYmKGcuYWRkKGgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLGMubmV4dFBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXtoLnByZXBlbmRUbyh0aGlzKSxnLmFwcGVuZFRvKHRoaXMpfSkpfX0sX3Zpc2libGU6ITAsdXBkYXRlUGFnZVBhZGRpbmc6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5lbGVtZW50LGU9ZC5pcygiLnVpLWhlYWRlciIpLGY9cGFyc2VGbG9hdChkLmNzcyhlPyJ0b3AiOiJib3R0b20iKSk7dGhpcy5vcHRpb25zLmZ1bGxzY3JlZW58fChjPWMmJmMudHlwZT09PWImJmN8fHRoaXMuX3RoaXNQYWdlfHxkLmNsb3Nlc3QoIi51aS1wYWdlIiksYShjKS5jc3MoInBhZGRpbmctIisoZT8idG9wIjoiYm90dG9tIiksZC5vdXRlckhlaWdodCgpK2YpKX0sX3VzZVRyYW5zaXRpb246ZnVuY3Rpb24oYil7dmFyIGM9YS5tb2JpbGUud2luZG93LGQ9dGhpcy5lbGVtZW50LGU9Yy5zY3JvbGxUb3AoKSxmPWQuaGVpZ2h0KCksZz1kLmNsb3Nlc3QoIi51aS1wYWdlIikuaGVpZ2h0KCksaD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxpPWQuaXMoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIik/ImhlYWRlciI6ImZvb3RlciI7cmV0dXJuIWImJih0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiYmIm5vbmUiIT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJigiaGVhZGVyIj09PWkmJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZT5mfHwiZm9vdGVyIj09PWkmJiF0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbiYmZy1mPmUraCl8fHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuKX0sc2hvdzpmdW5jdGlvbihhKXt2YXIgYj0idWktZml4ZWQtaGlkZGVuIixjPXRoaXMuZWxlbWVudDt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2MucmVtb3ZlQ2xhc3MoIm91dCAiK2IpLmFkZENsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcygiaW4iKX0pOmMucmVtb3ZlQ2xhc3MoYiksdGhpcy5fdmlzaWJsZT0hMH0saGlkZTpmdW5jdGlvbihhKXt2YXIgYj0idWktZml4ZWQtaGlkZGVuIixjPXRoaXMuZWxlbWVudCxkPSJvdXQiKygic2xpZGUiPT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24/IiByZXZlcnNlIjoiIik7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLmFkZENsYXNzKGQpLnJlbW92ZUNsYXNzKCJpbiIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5hZGRDbGFzcyhiKS5yZW1vdmVDbGFzcyhkKX0pOmMuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCksdGhpcy5fdmlzaWJsZT0hMX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dGhpc1t0aGlzLl92aXNpYmxlPyJoaWRlIjoic2hvdyJdKCl9LF9iaW5kVG9nZ2xlSGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9dGhpcyxlPWQub3B0aW9ucyxmPWQuZWxlbWVudCxnPSEwO2YuY2xvc2VzdCgiLnVpLXBhZ2UiKS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGIpe2UudGFwVG9nZ2xlJiYhYShiLnRhcmdldCkuY2xvc2VzdChlLnRhcFRvZ2dsZUJsYWNrbGlzdCkubGVuZ3RoJiZkLnRvZ2dsZSgpfSkuYmluZCgiZm9jdXNpbiBmb2N1c291dCIsZnVuY3Rpb24oZil7c2NyZWVuLndpZHRoPDEwMjUmJmEoZi50YXJnZXQpLmlzKGUuaGlkZUR1cmluZ0ZvY3VzKSYmIWEoZi50YXJnZXQpLmNsb3Nlc3QoIi51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQiKS5sZW5ndGgmJigiZm9jdXNvdXQiIT09Zi50eXBlfHxnPyJmb2N1c2luIj09PWYudHlwZSYmZyYmKGNsZWFyVGltZW91dChiKSxnPSExLGM9c2V0VGltZW91dChmdW5jdGlvbigpe2QuaGlkZSgpfSwwKSk6KGc9ITAsY2xlYXJUaW1lb3V0KGMpLGI9c2V0VGltZW91dChmdW5jdGlvbigpe2Quc2hvdygpfSwwKSkpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9YS5pcygiLnVpLWhlYWRlciIpO2EuY2xvc2VzdCgiLnVpLXBhZ2UiKS5jc3MoInBhZGRpbmctIisoYj8idG9wIjoiYm90dG9tIiksIiIpLGEucmVtb3ZlQ2xhc3MoInVpLWhlYWRlci1maXhlZCB1aS1mb290ZXItZml4ZWQgdWktaGVhZGVyLWZ1bGxzY3JlZW4gdWktZm9vdGVyLWZ1bGxzY3JlZW4gaW4gb3V0IGZhZGUgc2xpZGVkb3duIHNsaWRldXAgdWktZml4ZWQtaGlkZGVuIiksYS5jbG9zZXN0KCIudWktcGFnZSIpLnJlbW92ZUNsYXNzKCJ1aS1wYWdlLWhlYWRlci1maXhlZCB1aS1wYWdlLWZvb3Rlci1maXhlZCB1aS1wYWdlLWhlYWRlci1mdWxsc2NyZWVuIHVpLXBhZ2UtZm9vdGVyLWZ1bGxzY3JlZW4iKX19KSxhLm1vYmlsZS5kb2N1bWVudC5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuanFtRGF0YSgiZnVsbHNjcmVlbiIpJiZhKGEubW9iaWxlLmZpeGVkdG9vbGJhci5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsYi50YXJnZXQpLm5vdCgiOmpxbURhdGEoZnVsbHNjcmVlbikiKS5qcW1EYXRhKCJmdWxsc2NyZWVuIiwhMCksYS5tb2JpbGUuZml4ZWR0b29sYmFyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmZpeGVkdG9vbGJhciIsYS5tb2JpbGUuZml4ZWR0b29sYmFyLHtfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLl93b3JrYXJvdW5kcygpfSxfd29ya2Fyb3VuZHM6ZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LGI9bmF2aWdhdG9yLnBsYXRmb3JtLGM9YS5tYXRjaCgvQXBwbGVXZWJLaXRcLyhbMC05XSspLyksZD0hIWMmJmNbMV0sZT1udWxsLGY9dGhpcztpZihiLmluZGV4T2YoImlQaG9uZSIpPi0xfHxiLmluZGV4T2YoImlQYWQiKT4tMXx8Yi5pbmRleE9mKCJpUG9kIik+LTEpZT0iaW9zIjtlbHNle2lmKCEoYS5pbmRleE9mKCJBbmRyb2lkIik+LTEpKXJldHVybjtlPSJhbmRyb2lkIn1pZigiaW9zIj09PWUpZi5fYmluZFNjcm9sbFdvcmthcm91bmQoKTtlbHNle2lmKCEoImFuZHJvaWQiPT09ZSYmZCYmNTM0PmQpKXJldHVybjtmLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpLGYuX2JpbmRMaXN0VGh1bWJXb3JrYXJvdW5kKCl9fSxfdmlld3BvcnRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmlzKCIudWktaGVhZGVyIiksZD1NYXRoLmFicyhiLm9mZnNldCgpLnRvcC1hLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkpOw0KcmV0dXJuIGN8fChkPU1hdGgucm91bmQoZC1hLm1vYmlsZS53aW5kb3cuaGVpZ2h0KCkrYi5vdXRlckhlaWdodCgpKS02MCksZH0sX2JpbmRTY3JvbGxXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLl9vbihhLm1vYmlsZS53aW5kb3cse3Njcm9sbHN0b3A6ZnVuY3Rpb24oKXt2YXIgYT1iLl92aWV3cG9ydE9mZnNldCgpO2E+MiYmYi5fdmlzaWJsZSYmYi5fdHJpZ2dlclJlZHJhdygpfX0pfSxfYmluZExpc3RUaHVtYldvcmthcm91bmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKS5hZGRDbGFzcygidWktYW5kcm9pZC0yeC1maXhlZCIpfSxfdHJpZ2dlclJlZHJhdzpmdW5jdGlvbigpe3ZhciBiPXBhcnNlRmxvYXQoYSgiLnVpLXBhZ2UtYWN0aXZlIikuY3NzKCJwYWRkaW5nLWJvdHRvbSIpKTthKCIudWktcGFnZS1hY3RpdmUiKS5jc3MoInBhZGRpbmctYm90dG9tIixiKzErInB4Iiksc2V0VGltZW91dChmdW5jdGlvbigpe2EoIi51aS1wYWdlLWFjdGl2ZSIpLmNzcygicGFkZGluZy1ib3R0b20iLGIrInB4Iil9LDApfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikucmVtb3ZlQ2xhc3MoInVpLWFuZHJvaWQtMngtZml4Iil9fSl9KGEpLGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoIm1vYmlsZS5wYW5lbCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbGFzc2VzOntwYW5lbDoidWktcGFuZWwiLHBhbmVsT3BlbjoidWktcGFuZWwtb3BlbiIscGFuZWxDbG9zZWQ6InVpLXBhbmVsLWNsb3NlZCIscGFuZWxGaXhlZDoidWktcGFuZWwtZml4ZWQiLHBhbmVsSW5uZXI6InVpLXBhbmVsLWlubmVyIixtb2RhbDoidWktcGFuZWwtZGlzbWlzcyIsbW9kYWxPcGVuOiJ1aS1wYW5lbC1kaXNtaXNzLW9wZW4iLHBhZ2VQYW5lbDoidWktcGFnZS1wYW5lbCIscGFnZVBhbmVsT3BlbjoidWktcGFnZS1wYW5lbC1vcGVuIixjb250ZW50V3JhcDoidWktcGFuZWwtY29udGVudC13cmFwIixjb250ZW50V3JhcE9wZW46InVpLXBhbmVsLWNvbnRlbnQtd3JhcC1vcGVuIixjb250ZW50V3JhcENsb3NlZDoidWktcGFuZWwtY29udGVudC13cmFwLWNsb3NlZCIsY29udGVudEZpeGVkVG9vbGJhcjoidWktcGFuZWwtY29udGVudC1maXhlZC10b29sYmFyIixjb250ZW50Rml4ZWRUb29sYmFyT3BlbjoidWktcGFuZWwtY29udGVudC1maXhlZC10b29sYmFyLW9wZW4iLGNvbnRlbnRGaXhlZFRvb2xiYXJDbG9zZWQ6InVpLXBhbmVsLWNvbnRlbnQtZml4ZWQtdG9vbGJhci1jbG9zZWQiLGFuaW1hdGU6InVpLXBhbmVsLWFuaW1hdGUifSxhbmltYXRlOiEwLHRoZW1lOiJjIixwb3NpdGlvbjoibGVmdCIsZGlzbWlzc2libGU6ITAsZGlzcGxheToicmV2ZWFsIixpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J3BhbmVsJykiLHN3aXBlQ2xvc2U6ITAscG9zaXRpb25GaXhlZDohMX0sX3BhbmVsSUQ6bnVsbCxfY2xvc2VMaW5rOm51bGwsX3BhZ2U6bnVsbCxfbW9kYWw6bnVsbCxfcGFuZWxJbm5lcjpudWxsLF93cmFwcGVyOm51bGwsX2ZpeGVkVG9vbGJhcjpudWxsLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5lbGVtZW50LGQ9Yy5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJykiKSxlPWZ1bmN0aW9uKCl7dmFyIGI9YS5kYXRhKGRbMF0sIm1vYmlsZVBhZ2UiKS5vcHRpb25zLnRoZW1lLGM9InVpLWJvZHktIitiO3JldHVybiBjfSxmPWZ1bmN0aW9uKCl7dmFyIGE9Yy5maW5kKCIuIitiLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKTtyZXR1cm4gMD09PWEubGVuZ3RoJiYoYT1jLmNoaWxkcmVuKCkud3JhcEFsbCgnPGRpdiBjbGFzcz0iJytiLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKyciIC8+JykucGFyZW50KCkpLGF9LGc9ZnVuY3Rpb24oKXt2YXIgYz1kLmZpbmQoIi4iK2Iub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRXcmFwKTtyZXR1cm4gMD09PWMubGVuZ3RoJiYoYz1kLmNoaWxkcmVuKCIudWktaGVhZGVyOm5vdCg6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSksIC51aS1jb250ZW50Om5vdCg6anFtRGF0YShyb2xlPSdwb3B1cCcpKSwgLnVpLWZvb3Rlcjpub3QoOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykpIikud3JhcEFsbCgnPGRpdiBjbGFzcz0iJytiLm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50V3JhcCsiICIrZSgpKyciIC8+JykucGFyZW50KCksYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZiLm9wdGlvbnMuYW5pbWF0ZSYmYy5hZGRDbGFzcyhiLm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlKSksY30saD1mdW5jdGlvbigpe3ZhciBjPWQuZmluZCgiLiIrYi5vcHRpb25zLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhcik7cmV0dXJuIDA9PT1jLmxlbmd0aCYmKGM9ZC5maW5kKCIudWktaGVhZGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJyksIC51aS1mb290ZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIpLmFkZENsYXNzKGIub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXIpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmYi5vcHRpb25zLmFuaW1hdGUmJmMuYWRkQ2xhc3MoYi5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSkpLGN9O2EuZXh0ZW5kKHRoaXMse19wYW5lbElEOmMuYXR0cigiaWQiKSxfY2xvc2VMaW5rOmMuZmluZCgiOmpxbURhdGEocmVsPSdjbG9zZScpIiksX3BhZ2U6Yy5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdwYWdlJykiKSxfcGFnZVRoZW1lOmUoKSxfcGFuZWxJbm5lcjpmKCksX3dyYXBwZXI6ZygpLF9maXhlZFRvb2xiYXI6aCgpfSksYi5fYWRkUGFuZWxDbGFzc2VzKCksYi5fd3JhcHBlci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5jb250ZW50V3JhcENsb3NlZCksYi5fZml4ZWRUb29sYmFyLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJDbG9zZWQpLGIuX3BhZ2UuYWRkQ2xhc3MoYi5vcHRpb25zLmNsYXNzZXMucGFnZVBhbmVsKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmIub3B0aW9ucy5hbmltYXRlJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYi5vcHRpb25zLmNsYXNzZXMuYW5pbWF0ZSksYi5fYmluZFVwZGF0ZUxheW91dCgpLGIuX2JpbmRDbG9zZUV2ZW50cygpLGIuX2JpbmRMaW5rTGlzdGVuZXJzKCksYi5fYmluZFBhZ2VFdmVudHMoKSxiLm9wdGlvbnMuZGlzbWlzc2libGUmJmIuX2NyZWF0ZU1vZGFsKCksYi5fYmluZFN3aXBlRXZlbnRzKCl9LF9jcmVhdGVNb2RhbDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7Yi5fbW9kYWw9YSgiPGRpdiBjbGFzcz0nIitiLm9wdGlvbnMuY2xhc3Nlcy5tb2RhbCsiJyBkYXRhLXBhbmVsaWQ9JyIrYi5fcGFuZWxJRCsiJz48L2Rpdj4iKS5vbigibW91c2Vkb3duIixmdW5jdGlvbigpe2IuY2xvc2UoKX0pLmFwcGVuZFRvKHRoaXMuX3BhZ2UpfSxfZ2V0UG9zRGlzcGxheUNsYXNzZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGErIi1wb3NpdGlvbi0iK3RoaXMub3B0aW9ucy5wb3NpdGlvbisiICIrYSsiLWRpc3BsYXktIit0aGlzLm9wdGlvbnMuZGlzcGxheX0sX2dldFBhbmVsQ2xhc3NlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKyIgIit0aGlzLl9nZXRQb3NEaXNwbGF5Q2xhc3Nlcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbCkrIiAiK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsQ2xvc2VkO3JldHVybiB0aGlzLm9wdGlvbnMudGhlbWUmJihhKz0iIHVpLWJvZHktIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiYoYSs9IiAiK3RoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpLGF9LF9hZGRQYW5lbENsYXNzZXM6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5fZ2V0UGFuZWxDbGFzc2VzKCkpfSxfYmluZENsb3NlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLl9jbG9zZUxpbmsub24oImNsaWNrLnBhbmVsIixmdW5jdGlvbihiKXtyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGEuY2xvc2UoKSwhMX0pLGEuZWxlbWVudC5vbigiY2xpY2sucGFuZWwiLCJhOmpxbURhdGEoYWpheD0nZmFsc2UnKSIsZnVuY3Rpb24oKXthLmNsb3NlKCl9KX0sX3Bvc2l0aW9uUGFuZWw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5fcGFuZWxJbm5lci5vdXRlckhlaWdodCgpLGQ9Yz5hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtkfHwhYi5vcHRpb25zLnBvc2l0aW9uRml4ZWQ/KGQmJihiLl91bmZpeFBhbmVsKCksYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KGMpKSxiLl9zY3JvbGxJbnRvVmlldyhjKSk6Yi5fZml4UGFuZWwoKX0sX3Njcm9sbEludG9WaWV3OmZ1bmN0aW9uKGMpe2M8YShiKS5zY3JvbGxUb3AoKSYmYi5zY3JvbGxUbygwLDApfSxfYmluZEZpeExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5fb24oYShiKSx7dGhyb3R0bGVkcmVzaXplOiJfcG9zaXRpb25QYW5lbCJ9KX0sX3VuYmluZEZpeExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5fb2ZmKGEoYiksInRocm90dGxlZHJlc2l6ZSIpfSxfdW5maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfZml4UGFuZWw6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCYmYS5zdXBwb3J0LmZpeGVkUG9zaXRpb24mJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKX0sX2JpbmRVcGRhdGVMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZWxlbWVudC5vbigidXBkYXRlbGF5b3V0IixmdW5jdGlvbigpe2EuX29wZW4mJmEuX3Bvc2l0aW9uUGFuZWwoKX0pfSxfYmluZExpbmtMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2IuX3BhZ2Uub24oImNsaWNrLnBhbmVsIiwiYSIsZnVuY3Rpb24oYyl7aWYodGhpcy5ocmVmLnNwbGl0KCIjIilbMV09PT1iLl9wYW5lbElEJiZiLl9wYW5lbElEIT09ZCl7Yy5wcmV2ZW50RGVmYXVsdCgpO3ZhciBlLGY9YSh0aGlzKTtyZXR1cm4gZi5oYXNDbGFzcygidWktbGluayIpfHwoZT1mLnBhcmVudCgpLnBhcmVudCgpLGUuaGFzQ2xhc3MoInVpLWxpIikmJihmPWUucGFyZW50KCkpLGYuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGIuZWxlbWVudC5vbmUoInBhbmVsb3BlbiBwYW5lbGNsb3NlIixmdW5jdGlvbigpe2YucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkpLGIudG9nZ2xlKCksITF9fSl9LF9iaW5kU3dpcGVFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5fbW9kYWw/YS5lbGVtZW50LmFkZChhLl9tb2RhbCk6YS5lbGVtZW50O2Eub3B0aW9ucy5zd2lwZUNsb3NlJiYoImxlZnQiPT09YS5vcHRpb25zLnBvc2l0aW9uP2Iub24oInN3aXBlbGVmdC5wYW5lbCIsZnVuY3Rpb24oKXthLmNsb3NlKCl9KTpiLm9uKCJzd2lwZXJpZ2h0LnBhbmVsIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pKX0sX2JpbmRQYWdlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLl9wYWdlLm9uKCJwYW5lbGJlZm9yZW9wZW4iLGZ1bmN0aW9uKGIpe2EuX29wZW4mJmIudGFyZ2V0IT09YS5lbGVtZW50WzBdJiZhLmNsb3NlKCl9KS5vbigicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YS5fb3BlbiYmYS5jbG9zZSghMCl9KS5vbigia2V5dXAucGFuZWwiLGZ1bmN0aW9uKGIpezI3PT09Yi5rZXlDb2RlJiZhLl9vcGVuJiZhLmNsb3NlKCl9KX0sX29wZW46ITEsX2NvbnRlbnRXcmFwT3BlbkNsYXNzZXM6bnVsbCxfZml4ZWRUb29sYmFyT3BlbkNsYXNzZXM6bnVsbCxfbW9kYWxPcGVuQ2xhc3NlczpudWxsLG9wZW46ZnVuY3Rpb24oYil7aWYoIXRoaXMuX29wZW4pe3ZhciBjPXRoaXMsZD1jLm9wdGlvbnMsZT1mdW5jdGlvbigpe2MuX3BhZ2Uub2ZmKCJwYW5lbGNsb3NlIiksYy5fcGFnZS5qcW1EYXRhKCJwYW5lbCIsIm9wZW4iKSwhYiYmYS5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkJiZkLmFuaW1hdGU/Yy5lbGVtZW50LmFkZChjLl93cmFwcGVyKS5vbihjLl90cmFuc2l0aW9uRW5kRXZlbnRzLGYpOnNldFRpbWVvdXQoZiwwKSxjLm9wdGlvbnMudGhlbWUmJiJvdmVybGF5IiE9PWMub3B0aW9ucy5kaXNwbGF5JiZjLl9wYWdlLnJlbW92ZUNsYXNzKGMuX3BhZ2VUaGVtZSkuYWRkQ2xhc3MoInVpLWJvZHktIitjLm9wdGlvbnMudGhlbWUpLGMuZWxlbWVudC5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFuZWxDbG9zZWQpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYW5lbE9wZW4pLGMuX3Bvc2l0aW9uUGFuZWwoKSxjLm9wdGlvbnMudGhlbWUmJiJvdmVybGF5IiE9PWMub3B0aW9ucy5kaXNwbGF5JiZjLl93cmFwcGVyLmNzcygibWluLWhlaWdodCIsYy5fcGFnZS5jc3MoIm1pbi1oZWlnaHQiKSksYy5fY29udGVudFdyYXBPcGVuQ2xhc3Nlcz1jLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhkLmNsYXNzZXMuY29udGVudFdyYXApLGMuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLmNvbnRlbnRXcmFwQ2xvc2VkKS5hZGRDbGFzcyhjLl9jb250ZW50V3JhcE9wZW5DbGFzc2VzKyIgIitkLmNsYXNzZXMuY29udGVudFdyYXBPcGVuKSxjLl9maXhlZFRvb2xiYXJPcGVuQ2xhc3Nlcz1jLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhkLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhciksYy5fZml4ZWRUb29sYmFyLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5jb250ZW50Rml4ZWRUb29sYmFyQ2xvc2VkKS5hZGRDbGFzcyhjLl9maXhlZFRvb2xiYXJPcGVuQ2xhc3NlcysiICIrZC5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJPcGVuKSxjLl9tb2RhbE9wZW5DbGFzc2VzPWMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKGQuY2xhc3Nlcy5tb2RhbCkrIiAiK2QuY2xhc3Nlcy5tb2RhbE9wZW4sYy5fbW9kYWwmJmMuX21vZGFsLmFkZENsYXNzKGMuX21vZGFsT3BlbkNsYXNzZXMpfSxmPWZ1bmN0aW9uKCl7Yy5lbGVtZW50LmFkZChjLl93cmFwcGVyKS5vZmYoYy5fdHJhbnNpdGlvbkVuZEV2ZW50cyxmKSxjLl9wYWdlLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlUGFuZWxPcGVuKSxjLl9iaW5kRml4TGlzdGVuZXIoKSxjLl90cmlnZ2VyKCJvcGVuIil9O3RoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGg8MCYmKGI9ITApLGMuX3RyaWdnZXIoImJlZm9yZW9wZW4iKSwib3BlbiI9PT1jLl9wYWdlLmpxbURhdGEoInBhbmVsIik/Yy5fcGFnZS5vbigicGFuZWxjbG9zZSIsZnVuY3Rpb24oKXtlKCl9KTplKCksYy5fb3Blbj0hMH19LGNsb3NlOmZ1bmN0aW9uKGIpe2lmKHRoaXMuX29wZW4pe3ZhciBjPXRoaXMub3B0aW9ucyxkPXRoaXMsZT1mdW5jdGlvbigpeyFiJiZhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmMuYW5pbWF0ZT9kLmVsZW1lbnQuYWRkKGQuX3dyYXBwZXIpLm9uKGQuX3RyYW5zaXRpb25FbmRFdmVudHMsZik6c2V0VGltZW91dChmLDApLGQuX3BhZ2UucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLnBhZ2VQYW5lbE9wZW4pLGQuZWxlbWVudC5yZW1vdmVDbGFzcyhjLmNsYXNzZXMucGFuZWxPcGVuKSxkLl93cmFwcGVyLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5jb250ZW50V3JhcE9wZW4pLGQuX2ZpeGVkVG9vbGJhci5yZW1vdmVDbGFzcyhjLmNsYXNzZXMuY29udGVudEZpeGVkVG9vbGJhck9wZW4pLGQuX21vZGFsJiZkLl9tb2RhbC5yZW1vdmVDbGFzcyhkLl9tb2RhbE9wZW5DbGFzc2VzKX0sZj1mdW5jdGlvbigpe2Qub3B0aW9ucy50aGVtZSYmIm92ZXJsYXkiIT09ZC5vcHRpb25zLmRpc3BsYXkmJihkLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIrZC5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcyhkLl9wYWdlVGhlbWUpLGQuX3dyYXBwZXIuY3NzKCJtaW4taGVpZ2h0IiwiIikpLGQuZWxlbWVudC5hZGQoZC5fd3JhcHBlcikub2ZmKGQuX3RyYW5zaXRpb25FbmRFdmVudHMsZiksZC5lbGVtZW50LmFkZENsYXNzKGMuY2xhc3Nlcy5wYW5lbENsb3NlZCksZC5fd3JhcHBlci5yZW1vdmVDbGFzcyhkLl9jb250ZW50V3JhcE9wZW5DbGFzc2VzKS5hZGRDbGFzcyhjLmNsYXNzZXMuY29udGVudFdyYXBDbG9zZWQpLGQuX2ZpeGVkVG9vbGJhci5yZW1vdmVDbGFzcyhkLl9maXhlZFRvb2xiYXJPcGVuQ2xhc3NlcykuYWRkQ2xhc3MoYy5jbGFzc2VzLmNvbnRlbnRGaXhlZFRvb2xiYXJDbG9zZWQpLGQuX2ZpeFBhbmVsKCksZC5fdW5iaW5kRml4TGlzdGVuZXIoKSxhLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKSxkLl9wYWdlLmpxbVJlbW92ZURhdGEoInBhbmVsIiksZC5fdHJpZ2dlcigiY2xvc2UiKX07dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlLWFjdGl2ZSIpLmxlbmd0aDwwJiYoYj0hMCksZC5fdHJpZ2dlcigiYmVmb3JlY2xvc2UiKSxlKCksZC5fb3Blbj0hMX19LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fb3Blbj8iY2xvc2UiOiJvcGVuIl0oKX0sX3RyYW5zaXRpb25FbmRFdmVudHM6IndlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQgdHJhbnNpdGlvbmVuZCBtc1RyYW5zaXRpb25FbmQiLF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLmNsYXNzZXMsYz10aGlzLm9wdGlvbnMudGhlbWUsZD10aGlzLmVsZW1lbnQuc2libGluZ3MoIi4iK2IucGFuZWwpLmxlbmd0aDtkP3RoaXMuX29wZW4mJih0aGlzLl93cmFwcGVyLnJlbW92ZUNsYXNzKGIuY29udGVudFdyYXBPcGVuKSx0aGlzLl9maXhlZFRvb2xiYXIucmVtb3ZlQ2xhc3MoYi5jb250ZW50Rml4ZWRUb29sYmFyT3BlbiksdGhpcy5fcGFnZS5qcW1SZW1vdmVEYXRhKCJwYW5lbCIpLHRoaXMuX3BhZ2UucmVtb3ZlQ2xhc3MoYi5wYWdlUGFuZWxPcGVuKSxjJiZ0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCJ1aS1ib2R5LSIrYykuYWRkQ2xhc3ModGhpcy5fcGFnZVRoZW1lKSk6KHRoaXMuX3dyYXBwZXIuY2hpbGRyZW4oKS51bndyYXAoKSx0aGlzLl9wYWdlLmZpbmQoImEiKS51bmJpbmQoInBhbmVsb3BlbiBwYW5lbGNsb3NlIiksdGhpcy5fcGFnZS5yZW1vdmVDbGFzcyhiLnBhZ2VQYW5lbCksdGhpcy5fb3BlbiYmKHRoaXMuX3BhZ2UuanFtUmVtb3ZlRGF0YSgicGFuZWwiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKGIucGFnZVBhbmVsT3BlbiksYyYmdGhpcy5fcGFnZS5yZW1vdmVDbGFzcygidWktYm9keS0iK2MpLmFkZENsYXNzKHRoaXMuX3BhZ2VUaGVtZSksYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCkpKSx0aGlzLl9wYW5lbElubmVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFt0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSxiLnBhbmVsQW5pbWF0ZV0uam9pbigiICIpKS5vZmYoInN3aXBlbGVmdC5wYW5lbCBzd2lwZXJpZ2h0LnBhbmVsIikub2ZmKCJwYW5lbGJlZm9yZW9wZW4iKS5vZmYoInBhbmVsaGlkZSIpLm9mZigia2V5dXAucGFuZWwiKS5vZmYoInVwZGF0ZWxheW91dCIpLHRoaXMuX2Nsb3NlTGluay5vZmYoImNsaWNrLnBhbmVsIiksdGhpcy5fbW9kYWwmJnRoaXMuX21vZGFsLnJlbW92ZSgpLHRoaXMuZWxlbWVudC5vZmYodGhpcy5fdHJhbnNpdGlvbkVuZEV2ZW50cykucmVtb3ZlQ2xhc3MoW2IucGFuZWxVbmZpeGVkLGIucGFuZWxDbG9zZWQsYi5wYW5lbE9wZW5dLmpvaW4oIiAiKSl9fSksYShjKS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YS5tb2JpbGUucGFuZWwucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoIm1vYmlsZS50YWJsZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntjbGFzc2VzOnt0YWJsZToidWktdGFibGUifSxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J3RhYmxlJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnJlZnJlc2goITApfSxyZWZyZXNoOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMsZT10aGlzLmVsZW1lbnQuZmluZCgidGhlYWQgdHIiKTtjJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMudGFibGUpLGQuaGVhZGVycz10aGlzLmVsZW1lbnQuZmluZCgidHI6ZXEoMCkiKS5jaGlsZHJlbigpLGQuYWxsSGVhZGVycz1kLmhlYWRlcnMuYWRkKGUuY2hpbGRyZW4oKSksZS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGY9MDthKHRoaXMpLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe3ZhciBnPXBhcnNlSW50KGEodGhpcykuYXR0cigiY29sc3BhbiIpLDEwKSxoPSI6bnRoLWNoaWxkKCIrKGYrMSkrIikiO2lmKGEodGhpcykuanFtRGF0YSgiY29sc3RhcnQiLGYrMSksZylmb3IodmFyIGk9MDtnLTE+aTtpKyspZisrLGgrPSIsIDpudGgtY2hpbGQoIisoZisxKSsiKSI7Yz09PWImJmEodGhpcykuanFtRGF0YSgiY2VsbHMiLCIiKSxhKHRoaXMpLmpxbURhdGEoImNlbGxzIixkLmVsZW1lbnQuZmluZCgidHIiKS5ub3QoZS5lcSgwKSkubm90KHRoaXMpLmNoaWxkcmVuKGgpKSxmKyt9KX0pLGM9PT1iJiZ0aGlzLmVsZW1lbnQudHJpZ2dlcigicmVmcmVzaCIpfX0pLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthLm1vYmlsZS50YWJsZS5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5tb2RlPSJjb2x1bW50b2dnbGUiLGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNvbHVtbkJ0blRoZW1lPW51bGwsYS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY29sdW1uUG9wdXBUaGVtZT1udWxsLGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNvbHVtbkJ0blRleHQ9IkNvbHVtbnMuLi4iLGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXM9YS5leHRlbmQoYS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcyx7cG9wdXA6InVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1wb3B1cCIsY29sdW1uQnRuOiJ1aS10YWJsZS1jb2x1bW50b2dnbGUtYnRuIixwcmlvcml0eVByZWZpeDoidWktdGFibGUtcHJpb3JpdHktIixjb2x1bW5Ub2dnbGVUYWJsZToidWktdGFibGUtY29sdW1udG9nZ2xlIn0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCI6anFtRGF0YShyb2xlPSd0YWJsZScpIiwidGFibGVjcmVhdGUgcmVmcmVzaCIsZnVuY3Rpb24oYyl7dmFyIGQsZSxmLGcsaD1hKHRoaXMpLGk9aC5kYXRhKCJtb2JpbGUtdGFibGUiKSxqPWMudHlwZSxrPWkub3B0aW9ucyxsPWEubW9iaWxlLm5zLG09KGguYXR0cigiaWQiKXx8ay5jbGFzc2VzLnBvcHVwKSsiLXBvcHVwIjsiY29sdW1udG9nZ2xlIj09PWsubW9kZSYmKCJyZWZyZXNoIiE9PWomJihpLmVsZW1lbnQuYWRkQ2xhc3Moay5jbGFzc2VzLmNvbHVtblRvZ2dsZVRhYmxlKSxkPWEoIjxhIGhyZWY9JyMiK20rIicgY2xhc3M9JyIray5jbGFzc2VzLmNvbHVtbkJ0bisiJyBkYXRhLSIrbCsicmVsPSdwb3B1cCcgZGF0YS0iK2wrIm1pbmk9J3RydWUnPiIray5jb2x1bW5CdG5UZXh0KyI8L2E+IiksZT1hKCI8ZGl2IGRhdGEtIitsKyJyb2xlPSdwb3B1cCcgZGF0YS0iK2wrInJvbGU9J2ZpZWxkY29udGFpbicgY2xhc3M9JyIray5jbGFzc2VzLnBvcHVwKyInIGlkPSciK20rIic+PC9kaXY+IiksZj1hKCI8ZmllbGRzZXQgZGF0YS0iK2wrInJvbGU9J2NvbnRyb2xncm91cCc+PC9maWVsZHNldD4iKSksaS5oZWFkZXJzLm5vdCgidGQiKS5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWEodGhpcykuanFtRGF0YSgicHJpb3JpdHkiKSxkPWEodGhpcykuYWRkKGEodGhpcykuanFtRGF0YSgiY2VsbHMiKSk7YyYmKGQuYWRkQ2xhc3Moay5jbGFzc2VzLnByaW9yaXR5UHJlZml4K2MpLCJyZWZyZXNoIiE9PWo/YSgiPGxhYmVsPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgY2hlY2tlZCAvPiIrYSh0aGlzKS50ZXh0KCkrIjwvbGFiZWw+IikuYXBwZW5kVG8oZikuY2hpbGRyZW4oMCkuanFtRGF0YSgiY2VsbHMiLGQpLmNoZWNrYm94cmFkaW8oe3RoZW1lOmsuY29sdW1uUG9wdXBUaGVtZX0pOmEoIiMiK20rIiBmaWVsZHNldCBkaXY6ZXEoIitiKyIpIikuZmluZCgiaW5wdXQiKS5qcW1EYXRhKCJjZWxscyIsZCkpfSksInJlZnJlc2giIT09aiYmZi5hcHBlbmRUbyhlKSxnPWY9PT1iP2EoIiMiK20rIiBmaWVsZHNldCIpOmYsInJlZnJlc2giIT09aiYmKGcub24oImNoYW5nZSIsImlucHV0IixmdW5jdGlvbigpe3RoaXMuY2hlY2tlZD9hKHRoaXMpLmpxbURhdGEoImNlbGxzIikucmVtb3ZlQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIikuYWRkQ2xhc3MoInVpLXRhYmxlLWNlbGwtdmlzaWJsZSIpOmEodGhpcykuanFtRGF0YSgiY2VsbHMiKS5yZW1vdmVDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIikuYWRkQ2xhc3MoInVpLXRhYmxlLWNlbGwtaGlkZGVuIil9KSxkLmluc2VydEJlZm9yZShoKS5idXR0b25NYXJrdXAoe3RoZW1lOmsuY29sdW1uQnRuVGhlbWV9KSxlLmluc2VydEJlZm9yZShoKS5wb3B1cCgpKSxpLnVwZGF0ZT1mdW5jdGlvbigpe2cuZmluZCgiaW5wdXQiKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5jaGVja2VkPyh0aGlzLmNoZWNrZWQ9InRhYmxlLWNlbGwiPT09YSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpLmVxKDApLmNzcygiZGlzcGxheSIpLCJyZWZyZXNoIj09PWomJmEodGhpcykuanFtRGF0YSgiY2VsbHMiKS5hZGRDbGFzcygidWktdGFibGUtY2VsbC12aXNpYmxlIikpOmEodGhpcykuanFtRGF0YSgiY2VsbHMiKS5hZGRDbGFzcygidWktdGFibGUtY2VsbC1oaWRkZW4iKSxhKHRoaXMpLmNoZWNrYm94cmFkaW8oInJlZnJlc2giKX0pfSxhLm1vYmlsZS53aW5kb3cub24oInRocm90dGxlZHJlc2l6ZSIsaS51cGRhdGUpLGkudXBkYXRlKCkpfSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLm1vZGU9InJlZmxvdyIsYS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcz1hLmV4dGVuZChhLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLHtyZWZsb3dUYWJsZToidWktdGFibGUtcmVmbG93IixjZWxsTGFiZWxzOiJ1aS10YWJsZS1jZWxsLWxhYmVsIn0pLGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCI6anFtRGF0YShyb2xlPSd0YWJsZScpIiwidGFibGVjcmVhdGUgcmVmcmVzaCIsZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzKSxkPWIudHlwZSxlPWMuZGF0YSgibW9iaWxlLXRhYmxlIiksZj1lLm9wdGlvbnM7aWYoInJlZmxvdyI9PT1mLm1vZGUpeyJyZWZyZXNoIiE9PWQmJmUuZWxlbWVudC5hZGRDbGFzcyhmLmNsYXNzZXMucmVmbG93VGFibGUpO3ZhciBnPWEoZS5hbGxIZWFkZXJzLmdldCgpLnJldmVyc2UoKSk7Zy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5qcW1EYXRhKCJjZWxscyIpLGM9YSh0aGlzKS5qcW1EYXRhKCJjb2xzdGFydCIpLGQ9Yi5ub3QodGhpcykuZmlsdGVyKCJ0aGVhZCB0aCIpLmxlbmd0aCYmIiB1aS10YWJsZS1jZWxsLWxhYmVsLXRvcCIsZT1hKHRoaXMpLnRleHQoKTtpZigiIiE9PWUpaWYoZCl7dmFyIGc9cGFyc2VJbnQoYSh0aGlzKS5hdHRyKCJjb2xzcGFuIiksMTApLGg9IiI7ZyYmKGg9InRkOm50aC1jaGlsZCgiK2crIm4gKyAiK2MrIikiKSxiLmZpbHRlcihoKS5wcmVwZW5kKCI8YiBjbGFzcz0nIitmLmNsYXNzZXMuY2VsbExhYmVscytkKyInPiIrZSsiPC9iPiIpfWVsc2UgYi5wcmVwZW5kKCI8YiBjbGFzcz0nIitmLmNsYXNzZXMuY2VsbExhYmVscysiJz4iK2UrIjwvYj4iKX0pfX0pfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZT1hLm9yaWdpbmFsRXZlbnQsaT1lLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHksZj1NYXRoLmFicyhpLngpLGc9TWF0aC5hYnMoaS55KSxoPU1hdGguYWJzKGkueiksIWIub3JpZW50YXRpb24mJihmPjd8fChoPjYmJjg+Z3x8OD5oJiZnPjYpJiZmPjUpP2ouZW5hYmxlZCYmai5kaXNhYmxlKCk6ai5lbmFibGVkfHxqLmVuYWJsZSgpfWEubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZD0hMDt2YXIgZD1uYXZpZ2F0b3IudXNlckFnZW50O2lmKCEoL2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmL09TIFsxLTVdX1swLTlfXSogbGlrZSBNYWMgT1MgWC9pLnRlc3QoZCkmJmQuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSkpcmV0dXJuIGEubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZD0hMSx2b2lkIDA7dmFyIGUsZixnLGgsaSxqPWEubW9iaWxlLnpvb207YS5tb2JpbGUuZG9jdW1lbnQub24oIm1vYmlsZWluaXQiLGZ1bmN0aW9uKCl7YS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkJiZhLm1vYmlsZS53aW5kb3cuYmluZCgib3JpZW50YXRpb25jaGFuZ2UuaW9zb3JpZW50YXRpb25maXgiLGouZW5hYmxlKS5iaW5kKCJkZXZpY2Vtb3Rpb24uaW9zb3JpZW50YXRpb25maXgiLGMpfSl9KGEsdGhpcyksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKCl7ZS5yZW1vdmVDbGFzcygidWktbW9iaWxlLXJlbmRlcmluZyIpfXZhciBlPWEoImh0bWwiKSxmPShhKCJoZWFkIiksYS5tb2JpbGUud2luZG93KTthKGIuZG9jdW1lbnQpLnRyaWdnZXIoIm1vYmlsZWluaXQiKSxhLm1vYmlsZS5ncmFkZUEoKSYmKGEubW9iaWxlLmFqYXhCbGFja2xpc3QmJihhLm1vYmlsZS5hamF4RW5hYmxlZD0hMSksZS5hZGRDbGFzcygidWktbW9iaWxlIHVpLW1vYmlsZS1yZW5kZXJpbmciKSxzZXRUaW1lb3V0KGQsNWUzKSxhLmV4dGVuZChhLm1vYmlsZSx7aW5pdGlhbGl6ZVBhZ2U6ZnVuY3Rpb24oKXt2YXIgYj1hLm1vYmlsZS5wYXRoLGU9YSgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLGc9Yi5zdHJpcEhhc2goYi5zdHJpcFF1ZXJ5UGFyYW1zKGIucGFyc2VMb2NhdGlvbigpLmhhc2gpKSxoPWMuZ2V0RWxlbWVudEJ5SWQoZyk7ZS5sZW5ndGh8fChlPWEoImJvZHkiKS53cmFwSW5uZXIoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz48L2Rpdj4iKS5jaGlsZHJlbigwKSksZS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLmpxbURhdGEoInVybCIpfHxiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixiLmF0dHIoImlkIil8fGxvY2F0aW9uLnBhdGhuYW1lK2xvY2F0aW9uLnNlYXJjaCl9KSxhLm1vYmlsZS5maXJzdFBhZ2U9ZS5maXJzdCgpLGEubW9iaWxlLnBhZ2VDb250YWluZXI9YS5tb2JpbGUuZmlyc3RQYWdlLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1tb2JpbGUtdmlld3BvcnQiKSxhLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkLnJlc29sdmUoKSxmLnRyaWdnZXIoInBhZ2Vjb250YWluZXJjcmVhdGUiKSxhLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKSxkKCksYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQmJmEubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCkmJihhKGgpLmlzKCc6anFtRGF0YShyb2xlPSJwYWdlIiknKXx8YS5tb2JpbGUucGF0aC5pc1BhdGgoZyl8fGc9PT1hLm1vYmlsZS5kaWFsb2dIYXNoS2V5KT9hLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGEubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2s9W10sYS5tb2JpbGUubmF2aWdhdGUoYS5tb2JpbGUucGF0aC5pc1BhdGgobG9jYXRpb24uaGFzaCk/bG9jYXRpb24uaGFzaDpsb2NhdGlvbi5ocmVmKSk6Zi50cmlnZ2VyKCJoYXNoY2hhbmdlIixbITBdKTooYS5tb2JpbGUucGF0aC5pc0hhc2hWYWxpZChsb2NhdGlvbi5oYXNoKSYmKGEubW9iaWxlLnVybEhpc3RvcnkuaW5pdGlhbERzdD1nLnJlcGxhY2UoIiMiLCIiKSksYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpJiZhLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3Iuc3F1YXNoKGIucGFyc2VMb2NhdGlvbigpLmhyZWYpLGEubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLHt0cmFuc2l0aW9uOiJub25lIixyZXZlcnNlOiEwLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSl9fSksYShmdW5jdGlvbigpe2Iuc2Nyb2xsVG8oMCwxKSxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbD1hLnN1cHBvcnQuc2Nyb2xsVG9wJiYxIT09YS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpPzE6MCxhLm1vYmlsZS5hdXRvSW5pdGlhbGl6ZVBhZ2UmJmEubW9iaWxlLmluaXRpYWxpemVQYWdlKCksZi5sb2FkKGEubW9iaWxlLnNpbGVudFNjcm9sbCksYS5zdXBwb3J0LmNzc1BvaW50ZXJFdmVudHN8fGEubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKCIudWktZGlzYWJsZWQiLCJ2Y2xpY2siLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSl9KSl9KGEsdGhpcyl9KTsNCi8qDQovL0Agc291cmNlTWFwcGluZ1VSTD1qcXVlcnkubW9iaWxlLTEuMy4yLm1pbi5tYXANCiov", "jquery.mobile-1.3.2.min.js"];
